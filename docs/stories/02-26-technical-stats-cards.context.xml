<story-context id="2-26-technical-stats-cards" v="1.0">
  <metadata>
    <epicId>2</epicId>
    <storyId>26</storyId>
    <title>Technical Stats Cards</title>
    <status>ready-for-dev</status>
    <generatedAt>2025-11-27</generatedAt>
    <generator>BMAD Story Context Workflow</generator>
    <template>UI Component Pattern</template>
    <estimatedEffort>0.5 days</estimatedEffort>
  </metadata>

  <story>
    <asA>Technical User</asA>
    <iWant>quick statistics on the technical dashboard</iWant>
    <soThat>I can understand product catalog status at a glance</soThat>
    <tasks>
      <task id="1" ac="AC-2.26.1">Create TechnicalStatsCards component with 4 cards</task>
      <task id="2" ac="AC-2.26.2">Style cards (120px max height, 2x2 metrics grid)</task>
      <task id="3" ac="AC-2.26.3">Create /api/technical/stats endpoint</task>
      <task id="4" ac="AC-2.26.4">Add responsive layout (4→2→1 columns)</task>
    </tasks>
  </story>

  <acceptanceCriteria>
    <criterion id="AC-2.26.1">4 cards: Products (Total, Active, RAW/WIP/FG/PKG), BOMs (Total, Active, Expiring, Allergen warnings), Routings (Total, With ops, Avg ops, Unassigned), Traceability (Traced, Records, Recent, Recalls)</criterion>
    <criterion id="AC-2.26.2">Max 120px height, 4 metrics per card (2x2), 12px labels, 18px values, clickable, shadow on hover</criterion>
    <criterion id="AC-2.26.3">Product type breakdown with color-coded badges (RAW, WIP, FG, PKG)</criterion>
    <criterion id="AC-2.26.4">Desktop: 4 cards row, Tablet: 2 cards row, Mobile: 1 card stacked</criterion>
  </acceptanceCriteria>

  <artifacts>
    <docs>
      <doc>
        <path>docs/stories/02-26-technical-stats-cards.md</path>
        <title>Story 2.26: Technical Stats Cards</title>
        <section>Implementation Reference</section>
        <snippet>Compact stats cards matching PlanningStatsCard design</snippet>
      </doc>
    </docs>
    <code>
      <artifact>
        <path>apps/frontend/components/technical/TechnicalStatsCards.tsx</path>
        <kind>component</kind>
        <symbol>TechnicalStatsCards</symbol>
        <reason>NEW - Stats cards component</reason>
      </artifact>
      <artifact>
        <path>apps/frontend/app/api/technical/stats/route.ts</path>
        <kind>api</kind>
        <symbol>GET /api/technical/stats</symbol>
        <reason>NEW - Aggregate metrics endpoint</reason>
      </artifact>
      <artifact>
        <path>apps/frontend/app/(authenticated)/technical/page.tsx</path>
        <kind>page</kind>
        <symbol>TechnicalPage</symbol>
        <reason>UPDATE - Add stats cards</reason>
      </artifact>
    </code>
    <dependencies>
      <node>
        <package name="react" version="^18.0.0" usage="React components" />
      </node>
    </dependencies>
  </artifacts>

  <constraints>
    <constraint type="ui">Card max 120px height</constraint>
    <constraint type="ui">4 metrics per card (2x2 grid)</constraint>
    <constraint type="architecture">Match PlanningStatsCard component pattern</constraint>
  </constraints>

  <tests>
    <standards>API response, visual consistency</standards>
    <locations>tests/e2e/technical.spec.ts</locations>
    <ideas>
      <idea ac="AC-2.26.1">Test all 4 cards render with correct metrics</idea>
      <idea ac="AC-2.26.3">Test product type breakdown</idea>
      <idea ac="AC-2.26.4">Test responsive layout on different viewports</idea>
    </ideas>
  </tests>
</story-context>
