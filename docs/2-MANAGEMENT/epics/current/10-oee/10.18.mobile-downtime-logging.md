# 10.18 - Mobile Downtime Logging

**Priority**: P0
**Story Points**: M (Medium)
**Type**: frontend (mobile)
**Phase**: 3
**Model**: OPUS

**State:** ready
**Estimate:** M (3-4 days)
**Primary PRD:** `docs/1-BASELINE/product/modules/oee.md` (FR-OEE-025)

---

## Goal

Mobile-first downtime logging interface for scanner app enabling operators to quickly log downtime events by scanning machine QR code, selecting reason, and adding optional photos. Offline mode with sync when online (up to 50 events).

---

## User Story

As an **Operator**, I want to **log downtime events from my scanner/phone by scanning machine QR** so that **I can quickly record issues without leaving the production floor**.

---

## Scope

**In scope**
- Mobile-optimized downtime log page (/scanner/downtime)
- QR code scan for machine selection
- Quick reason selection (large touch targets)
- Photo capture (camera integration)
- Voice note recording (optional)
- Offline mode with local storage (50 events max)
- Auto-sync when online
- POST /api/oee/downtime (mobile optimized)

**Out of scope**
- Dedicated mobile app (native iOS/Android) - Phase 4
- Biometric authentication - Phase 4
- NFC tag support - Phase 4

---

## Acceptance Criteria

```gherkin
Scenario: Scan machine and log downtime
  Given operator on /scanner/downtime
  When scans machine QR code (MACH-001)
  Then machine auto-selected
  And operator selects reason = "Jam"
  And taps [Start Downtime]
  Then downtime event created with start_time = now

Scenario: End downtime with photo
  Given active downtime event
  When operator taps [End Downtime]
  And optionally captures photo of jam
  And adds note "Label roll jam cleared"
  Then downtime ended
  And photo uploaded
  And event synced to server

Scenario: Offline mode
  Given operator has no internet connection
  When logs 3 downtime events
  Then events stored locally
  And badge shows "3 events pending sync"
  When internet reconnects
  Then events auto-sync to server
  And local storage cleared

Scenario: Quick reason selection
  Given mobile downtime log screen
  Then common reasons displayed as large buttons:
    | Jam | Setup | Break |
    | Material | Cleaning | Other |
  And buttons optimized for touch (min 44x44px)
```

---

## Deliverables

- [ ] Mobile downtime log page
- [ ] QR scanner integration
- [ ] Camera photo capture
- [ ] Offline storage (IndexedDB)
- [ ] Auto-sync service
- [ ] Mobile-optimized UI

---

**Lines**: ~220
**Phase**: 3
