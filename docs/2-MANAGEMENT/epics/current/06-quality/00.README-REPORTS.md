# Epic 06: Quality Module - Consolidated Reports

**Date:** 2025-12-16
**Status:** PLANNING (Stories pending creation)
**Total Effort:** 45 stories, 60-78 days (1 dev), 30-39 days (2 devs)

---

## Overview

Three focused, thematic reports consolidate everything needed to implement Epic 06 Quality Module during implementation:

| Report | Focus | Audience | Use Case |
|--------|-------|----------|----------|
| **ROADMAP.md** | When + why Epic 06 comes last | Project leads | Timeline planning |
| **PHASE-BREAKDOWN.md** | 4-phase structure (45 stories) | Developers | Implementation planning |
| **DEPENDENCIES.md** | What Epic 06 needs to unblock | Architects | Dependency management |

---

## Quick Navigation

### ROADMAP.md - Implementation Timeline

**Read this to answer:**
- When can Epic 06 start?
- Why does Epic 06 come after Epics 05, 04, 03?
- What does Phase 1 MVP deliver?
- What can Phase 2-4 wait on?

**Key Sections:**
1. Executive Summary (why last)
2. Timeline to Week 9 (milestones)
3. Phase 1 MVP scope (11 stories, 14-18 days)
4. Story creation schedule (when to create specs)
5. Risk mitigation (4 critical risks + fixes)

**TL;DR:**
- Start: Week 9-10 (after Epic 05 Phase 0 stable + Epic 04 Phase 1 running)
- MVP Phase 1: 11 stories (inspections, holds, specs, basic NCR)
- Phases 2-4: Deferred to weeks 13-26 (workflow, HACCP, CAPA)
- **CRITICAL:** Stories must be created Week 7-8 before implementation starts

---

### PHASE-BREAKDOWN.md - 4-Phase Structure

**Read this to answer:**
- What are all 45 stories across 4 phases?
- What does each phase deliver?
- What's the data model for each phase?
- What API endpoints are needed?
- What are the success criteria?

**Key Sections:**
1. Phase 1: MVP - Inspections, Holds, Specs (11 stories)
   - Foundation (3): Settings, Specs CRUD, Holds CRUD
   - Inspections (4): Incoming, In-Process, Final, Test Results
   - Sampling (3): Sampling Plans, Hold Release, Dashboard
   - Basic NCR (1): NCR creation from hold

2. Phase 2: NCR Workflow (12 stories)
   - NCR CRUD + Severity, Investigation + Verification, Root Cause Analysis
   - Disposition (scrap/rework/accept), Customer Notification
   - Analytics + Regulatory Reporting

3. Phase 3: HACCP/CCP Monitoring (12 stories)
   - HACCP Plans + CCPs, CCP Monitoring (Desktop/Scanner)
   - Deviation Alerts + Corrective Actions, Verification
   - CoA Generation + Customization, Trend Analysis

4. Phase 4: CAPA & Supplier Quality (10 stories)
   - CAPA CRUD, Actions Management, Effectiveness Checks
   - Supplier Quality Ratings, Audits + Findings
   - Audit Trail, E-Signature Support (FDA 21 CFR Part 11)

**TL;DR:**
- Phase 1 (Week 9-12): Inspect + Hold + Release basic flow
- Phase 2 (Week 13-16): Investigate NCRs + track root causes
- Phase 3 (Week 17-20): Monitor CCPs + generate CoA
- Phase 4 (Week 21-26): Track CAPA + rate suppliers

---

### DEPENDENCIES.md - Integration Points

**Read this to answer:**
- What does Epic 06 need from other epics?
- Which dependencies are hard blockers?
- Which can be worked around?
- What are the integration points?
- How do we verify dependencies ready?

**Key Sections:**
1. HARD Dependencies (Critical Blockers)
   - LP Table + QA Status (Epic 05.1, 05.4) ← **Day 12 Milestone**
   - WO Operations (Epic 04.3) ← **Week 4 Milestone**
   - Product Specs (Epic 02.1)
   - PO Data (Epic 03.3)

2. SOFT Dependencies (Can work around)
   - Production history (optional)
   - Supplier master data (optional)

3. Integration Points
   - Incoming Inspection (GRN → Inspection → LP status)
   - In-Process Inspection (Operations → Parameters → Alert)
   - Batch Release (WO complete → Final inspection → Release)
   - Traceability (GRN → Consumption → Output → CoA)

4. Timeline Dependency Blocking (Week-by-week what's ready)

5. Risk Assessment (5 risks + mitigations)

6. Dependency Verification Checklist (what to test before Epic 06 starts)

**TL;DR:**
- **CRITICAL:** Epic 05 Phase 0 Day 12 + Epic 04 Phase 1 Week 4 must complete first
- **Can't start** until both upstream epics ready
- All integration points verified before Phase 1 launch

---

## How to Use These Reports During Implementation

### Week 1-2: Foundation Phase

**Use:** ROADMAP.md + DEPENDENCIES.md
- Confirm Epic 05 Phase 0 + Epic 04 Phase 0 on track
- Verify Day 4 + Day 12 milestones achievable
- Assign Epic 06 story creation to Week 7-8

**Action:**
- Start: "When can Epic 06 start?" → ROADMAP (Week 9-10)
- Verify: "Are dependencies ready?" → DEPENDENCIES (checklist)

### Week 3-4: Production Core Phase

**Use:** PHASE-BREAKDOWN.md + DEPENDENCIES.md
- Confirm Epic 04 Phase 1 running (in-process ready)
- Verify genealogy working (traceability ready)
- Begin Phase 1 story creation

**Action:**
- Plan: "What are Phase 1 stories?" → PHASE-BREAKDOWN (11 stories)
- Integrate: "How does inspection connect?" → DEPENDENCIES (integration point)

### Week 7-8: Story Creation

**Use:** PHASE-BREAKDOWN.md

**Action:**
- Create: Phase 1 full story specs (11 stories)
- Reference: "What's in each story?" → PHASE-BREAKDOWN (story details)
- Reference: "What's the data model?" → PHASE-BREAKDOWN (tables)
- Reference: "What are success criteria?" → PHASE-BREAKDOWN (acceptance)

### Week 9-10: Phase 1 Implementation Starts

**Use:** PHASE-BREAKDOWN.md + DEPENDENCIES.md
- Start Phase 1 implementation (11 stories)
- Verify integration points working
- Begin Phase 2 story creation (for Week 13 start)

**Action:**
- Build: Follow Phase 1 workflow → PHASE-BREAKDOWN
- Test: Verify integration points → DEPENDENCIES
- Plan: "When to create Phase 2?" → ROADMAP (Week 12-13)

### Week 13-16: Phase 2 + Phase 1 Refinement

**Use:** PHASE-BREAKDOWN.md (Phase 2 section)

**Action:**
- Build: Phase 2 NCR stories (12 stories)
- Plan: "When Phase 3?" → ROADMAP (Week 17)

### Week 17-20: Phase 3 + Phase 2 Refinement

**Use:** PHASE-BREAKDOWN.md (Phase 3 section)

### Week 21-26: Phase 4 + Polish

**Use:** PHASE-BREAKDOWN.md (Phase 4 section)

---

## Key Numbers for Implementation

### Story Count
- **Phase 1 (MVP):** 11 stories, 14-18 days (2 devs: 7-9 days)
- **Phase 2 (NCR):** 12 stories, 16-20 days (2 devs: 8-10 days)
- **Phase 3 (HACCP):** 12 stories, 16-20 days (2 devs: 8-10 days)
- **Phase 4 (CAPA):** 10 stories, 14-18 days (2 devs: 7-9 days)
- **TOTAL:** 45 stories, 60-78 days (2 devs: 30-39 days)

### Timeline
- **Week 7-8:** Create Phase 1 stories (1 week effort)
- **Week 9-12:** Implement Phase 1 (4 weeks with 2 devs)
- **Week 13-16:** Phase 2 (4 weeks with 2 devs parallel)
- **Week 17-20:** Phase 3 (4 weeks with 2 devs parallel)
- **Week 21-26:** Phase 4 (6 weeks with 2 devs parallel)
- **TOTAL:** 26 weeks from now (6+ months to full system)

### Critical Path
1. **Week 2, Day 12:** Epic 05 Phase 0 complete (LP QA status ready)
2. **Week 4:** Epic 04 Phase 1 running (operations complete)
3. **Week 8:** Phase 1 stories created + approved
4. **Week 9-10:** Phase 1 implementation starts

### Blockers (If these slip, Epic 06 slips)
- [ ] Epic 05 Phase 0 Day 4: LP table created
- [ ] Epic 05 Phase 0 Day 12: LP QA status + holds ready
- [ ] Epic 04 Phase 1 Week 4: Operations + genealogy working
- [ ] Phase 1 stories Week 8: Full specs approved

---

## Risk Mitigation

### Risk 1: LP QA Status Missing

**If:** `lp.qc_status` column not added by Day 12
**Impact:** Incoming inspection can't mark LP as pass/hold/reject
**Fix:** Epic 05.4 explicitly adds this column + acceptance test

### Risk 2: Genealogy Incomplete

**If:** LP genealogy not updated during consumption/output
**Impact:** Traceability broken (Phase 3 CoA invalid)
**Fix:** Epic 04.6/04.7 update genealogy + acceptance test

### Risk 3: Hold Blocking Not Working

**If:** `qc_hold_lps` table not used by warehouse module
**Impact:** Held LPs can still be picked
**Fix:** Warehouse module queries qc_hold_lps before pick + acceptance test

### Risk 4: Product Specs Not Versioned

**If:** WO doesn't capture product spec snapshot
**Impact:** Historical batches have wrong specs
**Fix:** Epic 03.11a captures spec immutably + acceptance test

---

## References

### Other Epic 06 Documents

- **06.0.epic-overview.md** - Big picture overview
- **06.0.story-creation-brief.md** - Story summaries
- **06.1-06.11.*.md** - Individual story details
- **ANALYSIS-*.md** - Deep-dive analysis documents
- **MVP-DEPENDENCY-ANALYSIS.md** - Phase 1 dependency details
- **DATABASE-SCHEMA-ANALYSIS.md** - Full data model reference

### Upstream Epic References

- **ROADMAP.md** (Epic 05) - Warehouse module timeline
- **ROADMAP.md** (Epic 04) - Production module timeline
- **ROADMAP.md** (Epic 03) - Planning module timeline
- **ROADMAP.md** (Epic 02) - Technical module timeline

---

## Summary Table

| Need | Document | Section | Page |
|------|----------|---------|------|
| When to start Epic 06? | ROADMAP.md | Executive Summary | 1 |
| Why does Epic 06 come last? | ROADMAP.md | Why Epic 06 Comes LAST | 2-3 |
| What does Phase 1 do? | PHASE-BREAKDOWN.md | Phase 1: MVP | ~10 |
| What stories are in Phase 1? | PHASE-BREAKDOWN.md | Phase 1 Stories (11 Total) | ~10-25 |
| What's the data model? | PHASE-BREAKDOWN.md | Phase 1 Data Model | ~30 |
| What are the API endpoints? | PHASE-BREAKDOWN.md | Phase 1 API Endpoints | ~35 |
| What's Phase 2 about? | PHASE-BREAKDOWN.md | Phase 2: NCR Workflow | ~40 |
| What dependencies exist? | DEPENDENCIES.md | HARD Dependencies | ~5-20 |
| What are integration points? | DEPENDENCIES.md | Integration Points | ~30-50 |
| When are dependencies ready? | DEPENDENCIES.md | Timeline | ~55 |
| What's the risk mitigation? | DEPENDENCIES.md | Dependency Risk Assessment | ~60 |
| How do I verify ready? | DEPENDENCIES.md | Dependency Verification Checklist | ~65 |

---

## Getting Started

### If You're a Project Lead:

1. Read: **ROADMAP.md** → When + why + Phase 1 scope
2. Review: **DEPENDENCIES.md** → What needs to be ready first
3. Action: Confirm Week 9-10 start date

### If You're a Developer:

1. Read: **PHASE-BREAKDOWN.md** → Phase 1 stories + data model
2. Read: **DEPENDENCIES.md** → Integration points
3. Action: Understand Phase 1 workflows + data flow

### If You're an Architect:

1. Read: **DEPENDENCIES.md** → Upstream dependencies + blockers
2. Review: **PHASE-BREAKDOWN.md** → Data model + API design
3. Action: Verify upstream epics have quality integration tests

### If You're a QA Engineer:

1. Read: **PHASE-BREAKDOWN.md** → Success criteria for each phase
2. Review: **DEPENDENCIES.md** → Integration verification checklist
3. Action: Prepare integration test scenarios

---

## Version History

| Version | Date | Status | Notes |
|---------|------|--------|-------|
| 1.0 | 2025-12-16 | PUBLISHED | 3 focused reports created |

---

**Status:** READY FOR USE
**Next Step:** Start Week 7-8 story creation for Phase 1
**Questions?** Refer to specific sections in ROADMAP.md / PHASE-BREAKDOWN.md / DEPENDENCIES.md
