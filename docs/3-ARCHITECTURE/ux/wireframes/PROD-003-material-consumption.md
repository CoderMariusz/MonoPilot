# PROD-003: Material Consumption (Desktop)

**Module**: Production
**Feature**: Material Consumption Desktop (FR-PROD-006, FR-PROD-008, FR-PROD-009, FR-PROD-010, FR-PROD-016)
**Type**: Full Page (WO-specific Material Consumption Management)
**Status**: Ready for Implementation
**Last Updated**: 2025-12-14

---

## Overview

Desktop interface for consuming materials from work orders with full validation, corrections, and over-consumption control. This is the primary interface for production operators and managers to track and manage material consumption from License Plates (LPs) into active work orders.

**Business Context:**
- Materials are consumed from License Plates (LPs) during production
- Each LP has a specific quantity, batch, expiry, and location
- Consumption reduces LP quantity or marks LP as "consumed" (if qty = 0)
- 1:1 consumption mode forces whole LP consumption (allergen control)
- Over-consumption can be blocked or require manager approval
- Material reservations ensure LPs are allocated to specific WOs
- Genealogy tracking creates parent-child relationships between consumed LPs and output LPs
- Managers can reverse incorrect consumptions (audit trail maintained)

**Key Concepts:**
- **License Plate (LP)**: Atomic inventory unit with unique ID, batch, expiry, location
- **1:1 Consumption**: Consume entire LP (consume_whole_lp = true) - no partial consumption
- **Partial Consumption**: Consume only required quantity from LP (consume_whole_lp = false)
- **Material Reservation**: LP pre-allocated to WO on start (FIFO/FEFO logic)
- **Over-Consumption**: Consuming more than BOM requirement (blocked or requires approval)
- **Consumption Reversal**: Manager-only action to undo incorrect consumptions
- **Genealogy**: Parent LP (consumed) â†’ Child LP (output) relationship for traceability
- **Variance**: Difference between consumed and required quantity (tracked as %)

---

## Route

`/production/consumption/:woId`

**Navigation From:**
- Production Dashboard â†’ Active WO actions menu â†’ "Consume Materials"
- WO Detail Page â†’ "Consume Materials" button
- Scanner â†’ "Switch to Desktop" link (from mobile consumption)

**Navigation To:**
- WO Detail Page (back button)
- LP Detail Modal (click LP number)
- Material Reservation Modal (Reserve Materials button)

---

## ASCII Wireframe

### Success State (Desktop)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back to WO Detail: WO-2025-0156                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“‹ WORK ORDER SUMMARY                                                                    â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  WO-2025-0156: Wheat Bread (SKU-WB-001)            Status: In Progress   Line 1          â”‚  â”‚
â”‚  â”‚  Batch: B-2025-0156 | Planned: 5000 kg | Actual: 3200 kg (64%)                          â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  Materials Progress: 4 of 6 components consumed (67%)   Overall: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘] 67%      â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“¦ REQUIRED MATERIALS                                                    [Refresh Status] â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  Filters: [All â–¼] [â—‹ Partial] [â—‹ Completed] [â—‹ Over-Consumed]   Sort: [Sequence â–¼]      â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ # â”‚ Component         â”‚ Required â”‚ Consumed â”‚ Remaining â”‚ Progress â”‚ Variance â”‚ Act â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ 1 â”‚ RM-001 Flour      â”‚ 2500 kg  â”‚ 2000 kg  â”‚  500 kg   â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ â”‚  0%      â”‚ [+] â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   â”‚ Raw Material      â”‚          â”‚          â”‚           â”‚ 80%      â”‚ ğŸŸ¢       â”‚     â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ 2 â”‚ ING-002 Honey     â”‚  250 kg  â”‚  250 kg  â”‚    0 kg   â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚  0%      â”‚ âœ“   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   â”‚ Ingredient        â”‚          â”‚          â”‚           â”‚ 100%     â”‚ ğŸŸ¢       â”‚     â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ 3 â”‚ RM-010 Water      â”‚ 1500 L   â”‚ 1500 L   â”‚    0 L    â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚  0%      â”‚ âœ“   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   â”‚ Raw Material      â”‚          â”‚          â”‚           â”‚ 100%     â”‚ ğŸŸ¢       â”‚     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   â”‚ ğŸ” Full LP Requiredâ”‚         â”‚          â”‚           â”‚          â”‚          â”‚     â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ 4 â”‚ RM-003 Yeast      â”‚   25 kg  â”‚   27.5kg â”‚  -2.5 kg  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚ +10%     â”‚ [+] â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   â”‚ Raw Material      â”‚          â”‚          â”‚           â”‚ 110%     â”‚ ğŸŸ¡       â”‚     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   â”‚ âš ï¸ Over-consumed   â”‚         â”‚          â”‚           â”‚          â”‚          â”‚     â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ 5 â”‚ PKG-001 Bag       â”‚ 5000 pcs â”‚    0 pcs â”‚ 5000 pcs  â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚  0%      â”‚ [+] â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   â”‚ Packaging         â”‚          â”‚          â”‚           â”‚ 0%       â”‚ ğŸŸ¢       â”‚     â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   â”‚ ğŸ” Full LP Requiredâ”‚         â”‚          â”‚           â”‚          â”‚          â”‚     â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ 6 â”‚ ADD-005 Salt      â”‚  100 kg  â”‚    0 kg  â”‚  100 kg   â”‚ â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ â”‚  0%      â”‚ [+] â”‚  â”‚  â”‚
â”‚  â”‚  â”‚   â”‚ Additive          â”‚          â”‚          â”‚           â”‚ 0%       â”‚ ğŸŸ¢       â”‚     â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  Showing 6 materials                                                                      â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“ CONSUMPTION HISTORY (Recent)                                   [Export CSV] [View All] â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ LP Number     â”‚ Material        â”‚ Qty      â”‚ Consumed At   â”‚ Consumed By â”‚ Status â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ LP-2025-08921 â”‚ ING-002 Honey   â”‚  250 kg  â”‚ 2h 15m ago    â”‚ John Smith  â”‚ Active â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Batch: H-2025-A â”‚          â”‚ 14:30:15      â”‚ Operator    â”‚        â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Expiry: 2026-06 â”‚          â”‚               â”‚             â”‚ [Rev]  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ LP-2025-08900 â”‚ RM-010 Water    â”‚ 1500 L   â”‚ 2h 20m ago    â”‚ John Smith  â”‚ Active â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Batch: W-UTIL   â”‚          â”‚ 14:25:42      â”‚ Operator    â”‚        â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Full LP âœ“       â”‚          â”‚               â”‚             â”‚ [Rev]  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ LP-2025-08875 â”‚ RM-001 Flour    â”‚ 1000 kg  â”‚ 3h 10m ago    â”‚ John Smith  â”‚ Active â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Batch: F-2025-B â”‚          â”‚ 13:35:20      â”‚ Operator    â”‚        â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Expiry: 2025-09 â”‚          â”‚               â”‚             â”‚ [Rev]  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ LP-2025-08876 â”‚ RM-001 Flour    â”‚ 1000 kg  â”‚ 3h 15m ago    â”‚ John Smith  â”‚ Active â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Batch: F-2025-B â”‚          â”‚ 13:30:05      â”‚ Operator    â”‚        â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Expiry: 2025-09 â”‚          â”‚               â”‚             â”‚ [Rev]  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ LP-2025-08850 â”‚ RM-003 Yeast    â”‚  25 kg   â”‚ 4h 05m ago    â”‚ Sarah Lee   â”‚ Active â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Batch: Y-2025-1 â”‚          â”‚ 12:40:33      â”‚ Manager     â”‚        â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Expiry: 2025-08 â”‚          â”‚               â”‚             â”‚ [Rev]  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ LP-2025-08851 â”‚ RM-003 Yeast    â”‚  2.5 kg  â”‚ 1h 30m ago    â”‚ John Smith  â”‚ Active â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Batch: Y-2025-1 â”‚          â”‚ 15:15:10      â”‚ Operator    â”‚        â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Expiry: 2025-08 â”‚          â”‚               â”‚             â”‚ [Rev]  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ âš ï¸ OVER-CONSUMEDâ”‚         â”‚               â”‚             â”‚        â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  Showing 6 of 6 consumptions                                              Page 1 of 1    â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ”’ MATERIAL RESERVATIONS (Active)                           [Release All] [Create New]   â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  âš ï¸ Enable material reservations in Settings to use this feature                        â”‚  â”‚
â”‚  â”‚     [Go to Settings â†’]                                                                   â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  (If enable_material_reservations = true, show this table:)                              â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ LP Number     â”‚ Material        â”‚ Reserved â”‚ Consumed â”‚ Remaining â”‚ Status  â”‚ Act  â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ LP-2025-08925 â”‚ PKG-001 Bag     â”‚ 2500 pcs â”‚    0 pcs â”‚  2500 pcs â”‚ Active  â”‚[Rel] â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Batch: BG-2025  â”‚          â”‚          â”‚           â”‚         â”‚      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Location: WH-A  â”‚          â”‚          â”‚           â”‚         â”‚      â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ LP-2025-08926 â”‚ PKG-001 Bag     â”‚ 2500 pcs â”‚    0 pcs â”‚  2500 pcs â”‚ Active  â”‚[Rel] â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Batch: BG-2025  â”‚          â”‚          â”‚           â”‚         â”‚      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Location: WH-A  â”‚          â”‚          â”‚           â”‚         â”‚      â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚ LP-2025-08905 â”‚ ADD-005 Salt    â”‚  100 kg  â”‚    0 kg  â”‚   100 kg  â”‚ Active  â”‚[Rel] â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Batch: S-2025-X â”‚          â”‚          â”‚           â”‚         â”‚      â”‚  â”‚  â”‚
â”‚  â”‚  â”‚               â”‚ Location: WH-B  â”‚          â”‚          â”‚           â”‚         â”‚      â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  Showing 3 reservations                                                                   â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                                  â”‚
â”‚  Quick Actions: [ğŸ”„ Refresh Data] [ğŸ“‹ View WO Detail] [ğŸ“Š Material Variance Report]          â”‚
â”‚                                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


[+] Row Action (Consume Material Button):
  Opens "Add Consumption Modal"

[Rev] Row Action (Reverse Consumption - Manager Only):
  Opens "Reverse Consumption Confirmation Modal"

[Rel] Row Action (Release Reservation - Manager Only):
  Releases LP reservation, makes LP available for other WOs
```

### Add Consumption Modal (Step 1: LP Search/Scan)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Consume Material: RM-001 Flour                                   [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“‹ WORK ORDER CONTEXT                                            â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚  WO-2025-0156: Wheat Bread                                       â”‚â”‚
â”‚  â”‚  Material: RM-001 Flour (Raw Material)                           â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚  Required:  2500 kg                                              â”‚â”‚
â”‚  â”‚  Consumed:  2000 kg (80%)                                        â”‚â”‚
â”‚  â”‚  Remaining:  500 kg                                              â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚  Consumption Mode: Partial (can consume any qty from LP)         â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                                        â”‚
â”‚  Step 1 of 2: Select License Plate                                   â”‚
â”‚                                                                        â”‚
â”‚  LP Barcode or Search *                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ” Scan or type LP number...                          [ğŸ“· Scan] â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  Search as you type: LP-2025-xxxxx                                   â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ’¡ Quick Tips:                                                   â”‚â”‚
â”‚  â”‚ â€¢ Scan LP barcode with scanner or camera                         â”‚â”‚
â”‚  â”‚ â€¢ Type LP number (e.g., LP-2025-08877)                           â”‚â”‚
â”‚  â”‚ â€¢ System will validate LP availability and product match         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                                        â”‚
â”‚  Or Select from Available LPs:                                        â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ LP Number     â”‚ Batch      â”‚ Qty Avail â”‚ Expiry     â”‚ Location  â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ LP-2025-08877 â”‚ F-2025-B   â”‚  500 kg   â”‚ 2025-09-15 â”‚ WH-A-R1-S2â”‚â”‚
â”‚  â”‚ [Select â†’]    â”‚ FIFO       â”‚ Available â”‚ (9 months) â”‚           â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ LP-2025-08878 â”‚ F-2025-B   â”‚  500 kg   â”‚ 2025-09-15 â”‚ WH-A-R1-S3â”‚â”‚
â”‚  â”‚ [Select â†’]    â”‚ Same Batch â”‚ Available â”‚ (9 months) â”‚           â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ LP-2025-08880 â”‚ F-2025-C   â”‚  750 kg   â”‚ 2025-10-01 â”‚ WH-A-R2-S1â”‚â”‚
â”‚  â”‚ [Select â†’]    â”‚ Different  â”‚ Available â”‚ (10 months)â”‚           â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  Showing 3 available LPs (filtered by RM-001, status=available)      â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  [Cancel]                                                             â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Add Consumption Modal (Step 2: Validate LP & Enter Qty)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Consume Material: RM-001 Flour                                   [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  Step 2 of 2: Confirm Quantity                                       â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âœ… LICENSE PLATE VALIDATED                                       â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚  LP Number:   LP-2025-08877                                      â”‚â”‚
â”‚  â”‚  Product:     RM-001 - Wheat Flour Premium âœ“ MATCH              â”‚â”‚
â”‚  â”‚  Batch:       F-2025-B                                           â”‚â”‚
â”‚  â”‚  Expiry:      2025-09-15 (9 months remaining)                    â”‚â”‚
â”‚  â”‚  Location:    WH-A-R1-S2 (Warehouse A, Rack 1, Shelf 2)          â”‚â”‚
â”‚  â”‚  UoM:         kg âœ“ MATCH                                         â”‚â”‚
â”‚  â”‚  Status:      Available âœ“                                        â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚  Qty Available: 500 kg                                           â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                                        â”‚
â”‚  Quantity to Consume *                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ 500.000                      â”‚  â”‚ kg (from LP)         â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  Max: 500 kg (LP available qty) | Remaining needed: 500 kg           â”‚
â”‚                                                                        â”‚
â”‚  ğŸ’¡ Tip: Enter quantity or click [Use All Available] for full LP     â”‚
â”‚         [Use All Available (500 kg)]                                 â”‚
â”‚                                                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“Š CONSUMPTION SUMMARY                                           â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚  Material:         RM-001 Flour                                  â”‚â”‚
â”‚  â”‚  From LP:          LP-2025-08877 (Batch: F-2025-B)               â”‚â”‚
â”‚  â”‚  Qty to Consume:   500 kg                                        â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚  Material Status After Consumption:                              â”‚â”‚
â”‚  â”‚    Required:    2500 kg                                          â”‚â”‚
â”‚  â”‚    Consumed:    2000 kg â†’ 2500 kg (100%)                         â”‚â”‚
â”‚  â”‚    Remaining:    500 kg â†’    0 kg                                â”‚â”‚
â”‚  â”‚    Variance:       0% â†’ 0% âœ“                                     â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚  LP Status After Consumption:                                    â”‚â”‚
â”‚  â”‚    LP-2025-08877: 500 kg â†’ 0 kg (CONSUMED)                       â”‚â”‚
â”‚  â”‚    Status will change: Available â†’ Consumed                      â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚  Genealogy:                                                       â”‚â”‚
â”‚  â”‚    Parent LP: LP-2025-08877 (consumed)                           â”‚â”‚
â”‚  â”‚    Child LP:  Will be linked when output registered              â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  [â† Back]                                  [Confirm Consumption]     â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Add Consumption Modal - Validation Error States

#### Error: LP Not Found

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Consume Material: RM-001 Flour                                   [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  Step 1 of 2: Select License Plate                                   â”‚
â”‚                                                                        â”‚
â”‚  LP Barcode or Search *                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ LP-2025-99999                                     [ğŸ“· Scan]      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âŒ LP NOT FOUND                                                  â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ License Plate "LP-2025-99999" does not exist in the system.      â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Please verify:                                                    â”‚â”‚
â”‚  â”‚ â€¢ LP number is correct (check barcode/label)                     â”‚â”‚
â”‚  â”‚ â€¢ LP has been received into inventory                            â”‚â”‚
â”‚  â”‚ â€¢ LP belongs to this organization                                â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ [Try Again] [Contact Warehouse]                                  â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (AC: AC3 - Error displays within 500ms)                             â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Cancel]                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Error: LP Status Not Available

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Consume Material: RM-001 Flour                                   [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  Step 1 of 2: Select License Plate                                   â”‚
â”‚                                                                        â”‚
â”‚  LP Barcode or Search *                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ LP-2025-08850                                     [ğŸ“· Scan]      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âŒ LP NOT AVAILABLE                                              â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ LP is not available (status: consumed)                           â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ LP-2025-08850 Details:                                           â”‚â”‚
â”‚  â”‚ â€¢ Product:  RM-001 Flour                                         â”‚â”‚
â”‚  â”‚ â€¢ Status:   Consumed (already used in production)                â”‚â”‚
â”‚  â”‚ â€¢ Consumed: 2025-12-14 12:40:33                                  â”‚â”‚
â”‚  â”‚ â€¢ WO:       WO-2025-0156                                         â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Please select a different LP with status "Available".            â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ [Select Another LP]                                              â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (AC: AC4 - Error displays if LP status != 'available')              â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Cancel]                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Error: Product Mismatch

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Consume Material: RM-001 Flour                                   [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  Step 1 of 2: Select License Plate                                   â”‚
â”‚                                                                        â”‚
â”‚  LP Barcode or Search *                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ LP-2025-08920                                     [ğŸ“· Scan]      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âŒ PRODUCT MISMATCH                                              â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Product mismatch: LP contains RM-010 Water, material requires    â”‚â”‚
â”‚  â”‚ RM-001 Flour                                                     â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ LP-2025-08920 Details:                                           â”‚â”‚
â”‚  â”‚ â€¢ LP Product:       RM-010 - Water (Utility)                     â”‚â”‚
â”‚  â”‚ â€¢ Required Product: RM-001 - Wheat Flour Premium                 â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ You cannot consume this LP for this material. Please select an   â”‚â”‚
â”‚  â”‚ LP that contains RM-001 Flour.                                   â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ [Select Correct LP]                                              â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (AC: AC5 - Error displays if LP.product_id != material.product_id)  â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Cancel]                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Error: UoM Mismatch

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Consume Material: RM-010 Water                                   [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  Step 1 of 2: Select License Plate                                   â”‚
â”‚                                                                        â”‚
â”‚  LP Barcode or Search *                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ LP-2025-08899                                     [ğŸ“· Scan]      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âŒ UNIT OF MEASURE MISMATCH                                      â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Unit of measure mismatch: LP is kg, material requires L          â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ LP-2025-08899 Details:                                           â”‚â”‚
â”‚  â”‚ â€¢ LP UoM:       kg (kilogram)                                    â”‚â”‚
â”‚  â”‚ â€¢ Required UoM: L (liter)                                        â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ The LP and material have incompatible units of measure. Please   â”‚â”‚
â”‚  â”‚ select an LP with UoM = L (liter).                               â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ [Select Correct LP]                                              â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (AC: AC6 - Error displays if LP.uom != material.uom)                â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Cancel]                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Error: Insufficient Quantity

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Consume Material: RM-001 Flour                                   [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  Step 2 of 2: Confirm Quantity                                       â”‚
â”‚                                                                        â”‚
â”‚  LP-2025-08877: 500 kg available                                     â”‚
â”‚                                                                        â”‚
â”‚  Quantity to Consume *                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ 750.000                      â”‚  â”‚ kg                   â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âŒ INSUFFICIENT QUANTITY                                         â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Insufficient quantity: LP has 500 kg, requested 750 kg           â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ You cannot consume more than the LP's available quantity.        â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Please either:                                                    â”‚â”‚
â”‚  â”‚ â€¢ Enter a quantity â‰¤ 500 kg, OR                                  â”‚â”‚
â”‚  â”‚ â€¢ Consume this LP (500 kg) and select another LP for remaining   â”‚â”‚
â”‚  â”‚   250 kg                                                         â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ [Adjust Quantity] [Use Max (500 kg)]                             â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (AC: AC7 - Error displays if consume_qty > LP.qty)                  â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â† Back]                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Error: 1:1 Enforcement (Whole LP Required)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Consume Material: RM-010 Water                                   [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  Step 2 of 2: Confirm Quantity                                       â”‚
â”‚                                                                        â”‚
â”‚  âš ï¸ THIS MATERIAL REQUIRES FULL LP CONSUMPTION (1:1 Mode)           â”‚
â”‚                                                                        â”‚
â”‚  LP-2025-08900: 1500 L available                                     â”‚
â”‚                                                                        â”‚
â”‚  Quantity to Consume *                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚ 1500.000                     â”‚  â”‚ L (read-only)        â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  ğŸ” Pre-filled with LP qty (cannot be changed)                       â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â„¹ï¸ FULL LP CONSUMPTION REQUIRED                                  â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ This material requires full LP consumption. LP quantity is       â”‚â”‚
â”‚  â”‚ 1500 L                                                           â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Reason: Water is set to consume_whole_lp = true in the BOM.     â”‚â”‚
â”‚  â”‚         This ensures no partial consumption and maintains        â”‚â”‚
â”‚  â”‚         traceability for allergen control.                       â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ You MUST consume the entire LP (1500 L). If this LP quantity     â”‚â”‚
â”‚  â”‚ does not match your requirement, please select a different LP.   â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ [â† Select Different LP] [Confirm (1500 L)]                       â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (AC: FR-PROD-008 AC3 - Qty input pre-filled and read-only)          â”‚
â”‚                                                                        â”‚
â”‚  (If user somehow modifies qty != LP.qty, show this error:)          â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âŒ FULL LP CONSUMPTION REQUIRED                                  â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Full LP consumption required. LP quantity is 1500 L              â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ You entered: 750 L                                               â”‚â”‚
â”‚  â”‚ Required:    1500 L (full LP)                                    â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Please consume the entire LP quantity.                           â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ [Reset to Full LP (1500 L)]                                      â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (AC: FR-PROD-008 AC1 - Error if consume_qty != LP.qty)              â”‚
â”‚  (AC: FR-PROD-008 AC6 - Warning if user attempts to edit qty)        â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [â† Back]                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Over-Consumption Approval Modal (if allow_over_consumption = false)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ Over-Consumption Approval Required                            [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“Š OVER-CONSUMPTION DETECTED                                     â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Material:          RM-003 Yeast                                  â”‚â”‚
â”‚  â”‚ WO:                WO-2025-0156 (Wheat Bread)                    â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ BOM Requirement:   25 kg                                         â”‚â”‚
â”‚  â”‚ Already Consumed:  27.5 kg                                       â”‚â”‚
â”‚  â”‚ Attempting:        +5 kg (new consumption)                       â”‚â”‚
â”‚  â”‚ Total After:       32.5 kg                                       â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Over-consumption:  +7.5 kg (+30% variance)                       â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ”’ MANAGER APPROVAL REQUIRED                                     â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Over-consumption is not allowed by default (setting:             â”‚â”‚
â”‚  â”‚ allow_over_consumption = false).                                 â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Manager approval is required to proceed with this consumption.   â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Status: â³ PENDING MANAGER APPROVAL                              â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Notification sent to:                                            â”‚â”‚
â”‚  â”‚ â€¢ Sarah Lee (Production Manager) - sarah.lee@company.com        â”‚â”‚
â”‚  â”‚ â€¢ Michael Brown (Quality Manager) - michael.brown@company.com   â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Requested by: John Smith (Operator)                             â”‚â”‚
â”‚  â”‚ Requested at: 2025-12-14 16:45:20                                â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (If current user is Manager, show approval controls:)               â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ”“ MANAGER APPROVAL CONTROLS                                     â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Reason for Over-Consumption (Optional):                          â”‚â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚  â”‚ â”‚ Additional material needed due to higher moisture content  â”‚  â”‚â”‚
â”‚  â”‚ â”‚ in current batch. Yield expected to normalize.             â”‚  â”‚â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ [Reject] [Approve Over-Consumption]                              â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (If current user is Operator, show waiting status:)                 â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ â³ AWAITING MANAGER APPROVAL                                     â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Your consumption request is pending manager approval.            â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ You will be notified when approved or rejected.                  â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Request ID: OC-2025-0156-001                                     â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ [Close] [Cancel Request]                                         â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (AC: FR-PROD-010 AC1 - Approval modal displays)                     â”‚
â”‚  (AC: FR-PROD-010 AC8 - Operator sees "Awaiting approval" status)    â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Cancel]                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Over-Consumption Approval - Manager Approves

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Over-Consumption Approved                                     [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âœ… APPROVAL GRANTED                                              â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Manager Sarah Lee approved over-consumption for:                 â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Material:  RM-003 Yeast                                          â”‚â”‚
â”‚  â”‚ WO:        WO-2025-0156                                          â”‚â”‚
â”‚  â”‚ Quantity:  +5 kg (total: 32.5 kg, +30% variance)                 â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Approval Reason:                                                 â”‚â”‚
â”‚  â”‚ "Additional material needed due to higher moisture content in    â”‚â”‚
â”‚  â”‚ current batch. Yield expected to normalize."                     â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Approved by: Sarah Lee (Production Manager)                      â”‚â”‚
â”‚  â”‚ Approved at: 2025-12-14 16:47:10                                 â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Consumption is now proceeding...                                 â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Audit Trail:                                                     â”‚â”‚
â”‚  â”‚ â€¢ Request: John Smith (Operator) - 2025-12-14 16:45:20          â”‚â”‚
â”‚  â”‚ â€¢ Approval: Sarah Lee (Manager) - 2025-12-14 16:47:10           â”‚â”‚
â”‚  â”‚ â€¢ Action: consumption_over_approved                              â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (AC: FR-PROD-010 AC5 - Approval recorded in audit trail)            â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Close]                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Over-Consumption Approval - Manager Rejects

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âŒ Over-Consumption Rejected                                     [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âŒ APPROVAL REJECTED                                             â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Manager Sarah Lee rejected over-consumption for:                 â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Material:  RM-003 Yeast                                          â”‚â”‚
â”‚  â”‚ WO:        WO-2025-0156                                          â”‚â”‚
â”‚  â”‚ Quantity:  +5 kg (total would be: 32.5 kg, +30% variance)        â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Rejection Reason:                                                â”‚â”‚
â”‚  â”‚ "Excessive variance. Please investigate waste in mixing process. â”‚â”‚
â”‚  â”‚ Do not consume additional yeast until root cause identified."    â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Rejected by: Sarah Lee (Production Manager)                      â”‚â”‚
â”‚  â”‚ Rejected at: 2025-12-14 16:48:30                                 â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Consumption BLOCKED. Please follow manager's instructions.       â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Audit Trail:                                                     â”‚â”‚
â”‚  â”‚ â€¢ Request: John Smith (Operator) - 2025-12-14 16:45:20          â”‚â”‚
â”‚  â”‚ â€¢ Rejection: Sarah Lee (Manager) - 2025-12-14 16:48:30          â”‚â”‚
â”‚  â”‚ â€¢ Action: consumption_over_rejected                              â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (AC: FR-PROD-010 AC6 - Rejection reason recorded, consumption       â”‚
â”‚                         blocked)                                      â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Close]                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Reverse Consumption Modal (Manager Only)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ Reverse Material Consumption                                  [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ“ CONSUMPTION DETAILS (Read-Only)                               â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Consumption ID:  MC-2025-0156-006                                â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ WO:              WO-2025-0156 (Wheat Bread)                      â”‚â”‚
â”‚  â”‚ Material:        RM-003 - Yeast                                  â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ From LP:         LP-2025-08851                                   â”‚â”‚
â”‚  â”‚ Batch:           Y-2025-1                                        â”‚â”‚
â”‚  â”‚ Expiry:          2025-08-15                                      â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Qty Consumed:    2.5 kg                                          â”‚â”‚
â”‚  â”‚ Consumed At:     2025-12-14 15:15:10                             â”‚â”‚
â”‚  â”‚ Consumed By:     John Smith (Operator)                           â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ LP Status Before: Available (25 kg)                              â”‚â”‚
â”‚  â”‚ LP Status After:  Available (22.5 kg) â† will be restored to 25kgâ”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âš ï¸ WARNING                                                       â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Reversing this consumption will:                                 â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ 1. Restore LP-2025-08851 quantity to 25 kg (from 22.5 kg)        â”‚â”‚
â”‚  â”‚ 2. Mark consumption as REVERSED in history                       â”‚â”‚
â”‚  â”‚ 3. Update WO material consumed qty: 27.5 kg â†’ 25 kg              â”‚â”‚
â”‚  â”‚ 4. Mark genealogy record as reversed (is_reversed = true)        â”‚â”‚
â”‚  â”‚ 5. Create audit log entry with your user ID and timestamp        â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ This action is LOGGED and CANNOT be undone (but can be           â”‚â”‚
â”‚  â”‚ re-consumed if needed).                                          â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  Reason for Reversal *                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Select reason...                                               â–¼ â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  Options: Scanned wrong LP | Wrong quantity entered | Operator error â”‚
â”‚           | Quality issue | Other (specify)                          â”‚
â”‚                                                                        â”‚
â”‚  Additional Notes (Optional):                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Operator accidentally scanned LP-08851 instead of LP-08852.     â”‚â”‚
â”‚  â”‚ Correct LP will be consumed after reversal.                     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (AC: FR-PROD-009 AC6 - Reason field is required)                    â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  [Cancel]                                      [Confirm Reversal]    â”‚
â”‚                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Reverse Consumption - Confirmation Success

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Consumption Reversed Successfully                             [X]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ âœ… REVERSAL COMPLETE                                             â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Consumption MC-2025-0156-006 has been successfully reversed.     â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Changes Applied:                                                 â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ âœ“ LP-2025-08851 quantity restored: 22.5 kg â†’ 25 kg              â”‚â”‚
â”‚  â”‚ âœ“ LP-2025-08851 status: Available âœ“                             â”‚â”‚
â”‚  â”‚ âœ“ WO material consumed: 27.5 kg â†’ 25 kg                         â”‚â”‚
â”‚  â”‚ âœ“ Consumption marked as REVERSED                                â”‚â”‚
â”‚  â”‚ âœ“ Genealogy record updated (is_reversed = true)                 â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Reversal Details:                                                â”‚â”‚
â”‚  â”‚ â€¢ Reversed by:  Sarah Lee (Production Manager)                   â”‚â”‚
â”‚  â”‚ â€¢ Reversed at:  2025-12-14 16:50:45                             â”‚â”‚
â”‚  â”‚ â€¢ Reason:       Operator error (Scanned wrong LP)               â”‚â”‚
â”‚  â”‚ â€¢ Notes:        Operator accidentally scanned LP-08851 instead  â”‚â”‚
â”‚  â”‚                 of LP-08852. Correct LP will be consumed after  â”‚â”‚
â”‚  â”‚                 reversal.                                        â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â”‚ Audit Trail Entry Created:                                       â”‚â”‚
â”‚  â”‚ â€¢ Action: consumption_reversal                                   â”‚â”‚
â”‚  â”‚ â€¢ Original Consumption ID: MC-2025-0156-006                      â”‚â”‚
â”‚  â”‚ â€¢ User: Sarah Lee (uuid-user-manager)                           â”‚â”‚
â”‚  â”‚ â€¢ Timestamp: 2025-12-14 16:50:45                                â”‚â”‚
â”‚  â”‚                                                                    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                        â”‚
â”‚  (AC: FR-PROD-009 AC3 - LP qty restored to 25 kg)                    â”‚
â”‚  (AC: FR-PROD-009 AC4 - reversed = true, reversed_at, reversed_by)   â”‚
â”‚  (AC: FR-PROD-009 AC5 - genealogy.is_reversed = true)                â”‚
â”‚  (AC: FR-PROD-009 AC7 - audit_log entry created)                     â”‚
â”‚  (AC: FR-PROD-009 AC8 - LP status = 'available' with qty = 25)       â”‚
â”‚                                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Close]                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Loading State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back to WO Detail: WO-2025-0156                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  â”‚  â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  â”‚  â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  â”‚  â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  â”‚  â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  â”‚  â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  â”‚  â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                                  â”‚
â”‚  Loading material consumption data...                                                           â”‚
â”‚                                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Empty State (No Consumptions Yet)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back to WO Detail: WO-2025-0156                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“‹ WORK ORDER SUMMARY                                                                    â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  WO-2025-0156: Wheat Bread (SKU-WB-001)            Status: In Progress   Line 1          â”‚  â”‚
â”‚  â”‚  Batch: B-2025-0156 | Planned: 5000 kg | Actual: 0 kg (0%)                              â”‚  â”‚
â”‚  â”‚  Materials Progress: 0 of 6 components consumed (0%)   Overall: [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0%         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“¦ REQUIRED MATERIALS                                                    [Refresh Status] â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚  (Materials table with 6 items, all showing 0% progress)                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“ CONSUMPTION HISTORY                                                                    â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚  â”‚
â”‚  â”‚                              â”‚  ğŸ“¦           â”‚                                            â”‚  â”‚
â”‚  â”‚                              â”‚  ___          â”‚                                            â”‚  â”‚
â”‚  â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚                     No materials consumed yet                                             â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚          Start production by consuming materials from the Required Materials table.       â”‚  â”‚
â”‚  â”‚          Click [+] button next to each material to consume from License Plates.          â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚                        [Start Consuming Materials]                                        â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â”‚          ğŸ’¡ Tip: Scan LP barcodes or search by LP number for faster consumption.         â”‚  â”‚
â”‚  â”‚                                                                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                                                  â”‚
â”‚  Quick Actions: [ğŸ”„ Refresh Data] [ğŸ“‹ View WO Detail] [ğŸ“– View Consumption Guide]             â”‚
â”‚                                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back to WO Detail: WO-2025-0156                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                                  â”‚
â”‚                                         [âš  Icon]                                                â”‚
â”‚                                                                                                  â”‚
â”‚                            Failed to Load Material Consumption Data                            â”‚
â”‚                                                                                                  â”‚
â”‚                  Unable to retrieve material consumption information for this work order.      â”‚
â”‚                             Error: MATERIAL_CONSUMPTION_FETCH_FAILED                           â”‚
â”‚                                                                                                  â”‚
â”‚                                                                                                  â”‚
â”‚                           [Retry]    [Contact Support]    [Back to Dashboard]                  â”‚
â”‚                                                                                                  â”‚
â”‚                                                                                                  â”‚
â”‚  Quick Actions (still available):                                                               â”‚
â”‚  [ğŸ”„ Refresh Data] [ğŸ“‹ View WO Detail] [ğŸ“Š Production Dashboard]                               â”‚
â”‚                                                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Key Components

### 1. WO Summary Header

**Purpose**: Display work order context and overall material consumption progress

**Fields:**
| Field | Source | Display |
|-------|--------|---------|
| wo_number | work_orders.wo_number | "WO-2025-0156" |
| product_name | products.name | "Wheat Bread" |
| product_code | products.code | "(SKU-WB-001)" |
| batch_number | work_orders.wo_number or custom | "Batch: B-2025-0156" |
| status | work_orders.status | Badge: "In Progress" |
| line_name | production_lines.name | "Line 1" |
| planned_qty | work_orders.planned_qty | "5000 kg" |
| actual_qty | SUM(production_outputs.quantity) | "3200 kg (64%)" |
| materials_progress | Calculated | "4 of 6 components consumed (67%)" |
| overall_progress | (consumed_materials / total_materials) * 100 | Progress bar: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘] 67% |

**Actions:**
- Back button: Navigate to WO Detail page
- Refresh Status: Refresh all material availability data

### 2. Required Materials Table

**Purpose**: Display BOM materials with consumption status and actions

**Columns:**
| Column | Type | Description |
|--------|------|-------------|
| # | Auto | Sequence number from BOM |
| Component | Text + Badge | Product code + name, product type badge |
| Required | Number + UoM | Required qty from BOM (wo_materials.quantity) |
| Consumed | Number + UoM | Sum of consumed qty (material_consumptions.quantity) |
| Remaining | Number + UoM | Required - Consumed (can be negative if over-consumed) |
| Progress | Progress Bar + % | Visual progress bar (consumed / required * 100) |
| Variance | % + Indicator | (consumed - required) / required * 100, color-coded |
| Actions | Button | [+] Consume button (opens Add Consumption Modal) |

**Row Details:**
- Product type badge: "Raw Material", "Ingredient", "Packaging", "Additive"
- "ğŸ” Full LP Required" badge if consume_whole_lp = true
- "âš ï¸ Over-consumed" warning if consumed > required
- Variance color coding:
  - ğŸŸ¢ Green: 0% variance (exact match)
  - ğŸŸ¡ Yellow: 1-10% variance (acceptable)
  - ğŸ”´ Red: >10% variance (high)

**Filters:**
- [All â–¼]: Show all materials
- [Partial]: Show materials with 0% < progress < 100%
- [Completed]: Show materials with progress = 100%
- [Over-Consumed]: Show materials with consumed > required

**Sort Options:**
- Sequence (default): Order by BOM sequence
- Component Name: Alphabetical by product code
- Progress: By progress % (low to high or high to low)

**Actions:**
- [+] Consume Material: Opens Add Consumption Modal for this material
- Refresh Status: Refresh material availability data

### 3. Consumption History Table

**Purpose**: Display all material consumptions for this WO with reversal capability

**Columns:**
| Column | Type | Description |
|--------|------|-------------|
| LP Number | Text + Link | LP number (clickable â†’ LP detail modal) |
| Material | Text + Details | Product code + name, batch, expiry, flags |
| Qty | Number + UoM | Consumed quantity |
| Consumed At | Timestamp | Relative time + exact timestamp |
| Consumed By | User | User name + role |
| Status | Badge | "Active" or "Reversed" |
| Actions | Button | [Rev] Reverse button (Manager only, if not reversed) |

**Row Details:**
- Batch number
- Expiry date (if applicable)
- "Full LP âœ“" indicator if whole LP consumed
- "âš ï¸ OVER-CONSUMED" warning if part of over-consumption

**Permissions:**
- [Rev] Reverse button: Visible only to Manager/Admin role
- Operator: Cannot see Reverse button

**Pagination:**
- 20 rows per page
- Load More button (mobile)
- Page numbers (desktop)

**Actions:**
- [Export CSV]: Download consumption history to CSV
- [View All]: Navigate to full consumption history page (if paginated)
- [Rev] Reverse: Opens Reverse Consumption Modal (Manager only)

### 4. Material Reservations Table (if enable_material_reservations = true)

**Purpose**: Display LPs reserved for this WO on start

**Columns:**
| Column | Type | Description |
|--------|------|-------------|
| LP Number | Text + Link | LP number (clickable â†’ LP detail) |
| Material | Text + Details | Product code + name, batch, location |
| Reserved | Number + UoM | Reserved quantity |
| Consumed | Number + UoM | Consumed so far from this reservation |
| Remaining | Number + UoM | Reserved - Consumed |
| Status | Badge | "Active" or "Released" |
| Actions | Button | [Rel] Release button (Manager only) |

**Empty State (if enable_material_reservations = false):**
- Warning: "âš ï¸ Enable material reservations in Settings to use this feature"
- [Go to Settings â†’] link to production settings page

**Actions:**
- [Release All]: Release all active reservations (Manager only, confirmation required)
- [Create New]: Manually create reservation for additional LP (Manager only)
- [Rel] Release: Release individual reservation (Manager only, confirmation)

### 5. Add Consumption Modal (2-Step Process)

**Step 1: LP Search/Scan**
- **LP Barcode Input**: Text input with scanner icon
  - Search as you type (debounced, 300ms)
  - Scanner integration (barcode scan)
  - Camera scan (QR/barcode reader)
- **Available LPs Table**: Filtered by material.product_id, status='available'
  - Columns: LP Number, Batch, Qty Available, Expiry, Location
  - Sort: FIFO (oldest expiry first) or FEFO (expiry_date ASC)
  - [Select â†’] button per row
- **Validation**: Triggered on LP selection or scan
  - LP exists (AC3)
  - LP status = 'available' (AC4)
  - LP.product_id = material.product_id (AC5)
  - LP.uom = material.uom (AC6)

**Step 2: Confirm Quantity**
- **LP Info Display** (read-only):
  - LP Number, Product, Batch, Expiry, Location, UoM, Status, Qty Available
  - Validation checkmarks (âœ“ MATCH)
- **Qty to Consume Input**:
  - Number input (decimal, max 6 places)
  - UoM display (from LP)
  - Pre-filled with LP.qty if consume_whole_lp = true (read-only)
  - Validation: > 0, <= LP.qty
  - [Use All Available] button: Auto-fill with LP.qty
- **Consumption Summary**:
  - Material name
  - From LP (number + batch)
  - Qty to consume
  - Material status after (Required, Consumed, Remaining, Variance)
  - LP status after (new qty, status change if qty = 0)
  - Genealogy info (parent LP, child LP)
- **Validation** (Step 2):
  - Qty > 0
  - Qty <= LP.qty (AC7)
  - If consume_whole_lp = true: Qty = LP.qty (FR-PROD-008 AC1)
  - If over-consumption: Check allow_over_consumption setting
- **Actions**:
  - [â† Back]: Return to Step 1
  - [Confirm Consumption]: Submit (enabled only if all validations pass)

### 6. Over-Consumption Approval Modal

**Triggered When:**
- allow_over_consumption = false
- consumed + attempting > required

**Display:**
- Material info
- BOM requirement
- Already consumed
- Attempting to consume (new)
- Total after
- Over-consumption amount + variance %

**Manager Approval Controls** (if current user = Manager):
- Reason for Over-Consumption (optional text input)
- [Reject] button: Opens rejection reason modal
- [Approve Over-Consumption] button: Approves and proceeds

**Operator View** (if current user = Operator):
- Status: "â³ PENDING MANAGER APPROVAL"
- Notification info: "Notification sent to: [managers]"
- Request ID
- [Close] button
- [Cancel Request] button (cancels approval request)

**Approval Actions:**
- **Approve**: Consumption proceeds, audit trail records approval (AC5)
- **Reject**: Consumption blocked, rejection reason recorded (AC6)

### 7. Reverse Consumption Modal

**Triggered By:**
- Click [Rev] button in Consumption History (Manager only)

**Display:**
- Consumption details (read-only): ID, WO, Material, LP, Batch, Expiry, Qty, Consumed At, Consumed By
- LP status before/after reversal
- Warning message: List of actions that will occur
- Reason for Reversal dropdown (required): Scanned wrong LP, Wrong quantity, Operator error, Quality issue, Other
- Additional Notes (optional text input)

**Actions:**
- [Cancel]: Close modal
- [Confirm Reversal]: Execute reversal (enabled only if reason selected)

**Reversal Process:**
- Restore LP quantity (AC3)
- Mark consumption as reversed (reversed = true, reversed_at, reversed_by) (AC4)
- Update WO material consumed qty
- Mark genealogy as reversed (is_reversed = true) (AC5)
- Create audit log entry (action = "consumption_reversal") (AC7)
- If LP status was "consumed", change to "available" (AC8)

---

## Main Actions

### Primary
- **[+] Consume Material**: Opens Add Consumption Modal for selected material
- **[Confirm Consumption]**: Submits consumption (Step 2 modal)
- **[Rev] Reverse**: Opens Reverse Consumption Modal (Manager only)
- **[Approve Over-Consumption]**: Approves over-consumption (Manager only)
- **[Reject]**: Rejects over-consumption (Manager only)

### Secondary
- **[Refresh Status]**: Refresh material availability data
- **[Export CSV]**: Download consumption history to CSV
- **[View All]**: Navigate to full consumption history page
- **[Release All]**: Release all material reservations (Manager only)
- **[Rel] Release**: Release individual reservation (Manager only)
- **[â† Back]**: Navigate to WO Detail page
- **[Go to Settings â†’]**: Navigate to production settings (if reservations disabled)

### Filters & Sort
- **Filters**: All, Partial, Completed, Over-Consumed
- **Sort**: Sequence, Component Name, Progress

---

## States

- **Loading**: Skeleton loaders for WO summary, materials table, consumption history, reservations
- **Success**: Populated tables with data, all actions enabled
- **Empty**: "No materials consumed yet" message, Quick actions to start consuming, Tips section
- **Error**: "Failed to load material consumption data" warning, Retry + Contact Support buttons, Quick actions still available

---

## Data Fields

### WO Summary
| Field | Source | Calculation |
|-------|--------|-------------|
| wo_number | work_orders.wo_number | Direct |
| product_name | products.name | JOIN on product_id |
| product_code | products.code | JOIN on product_id |
| batch_number | work_orders.wo_number | Default to WO number |
| status | work_orders.status | Direct |
| line_name | production_lines.name | JOIN on line_id |
| planned_qty | work_orders.planned_qty | Direct |
| actual_qty | SUM(production_outputs.quantity) | Aggregate |
| materials_consumed | COUNT(DISTINCT wo_material_id WHERE consumed > 0) | Aggregate |
| total_materials | COUNT(wo_materials) | Aggregate |
| overall_progress | (materials_consumed / total_materials) * 100 | Calculated |

### Required Materials Table
| Field | Source | Calculation |
|-------|--------|-------------|
| sequence | wo_materials.sequence | Direct (sort order) |
| product_code | products.code | JOIN on product_id |
| product_name | products.name | JOIN on product_id |
| product_type | products.type | JOIN on product_id |
| required_qty | wo_materials.quantity | Direct |
| uom | wo_materials.uom | Direct |
| consumed_qty | SUM(material_consumptions.quantity WHERE reversed=false) | Aggregate |
| remaining_qty | required_qty - consumed_qty | Calculated |
| progress_percent | (consumed_qty / required_qty) * 100 | Calculated |
| variance_percent | ((consumed_qty - required_qty) / required_qty) * 100 | Calculated |
| consume_whole_lp | wo_materials.consume_whole_lp | Direct (boolean) |

### Consumption History Table
| Field | Source | Calculation |
|-------|--------|-------------|
| consumption_id | material_consumptions.id | Direct |
| lp_number | license_plates.lp_number | JOIN on lp_id |
| product_code | products.code | JOIN via lp.product_id |
| product_name | products.name | JOIN via lp.product_id |
| batch_number | license_plates.batch_number | JOIN on lp_id |
| expiry_date | license_plates.expiry_date | JOIN on lp_id |
| consumed_qty | material_consumptions.quantity | Direct |
| uom | material_consumptions.uom | Direct |
| consumed_at | material_consumptions.consumed_at | Direct |
| consumed_by | users.name | JOIN on consumed_by user_id |
| user_role | users.role | JOIN on consumed_by user_id |
| reversed | material_consumptions.reversed | Direct (boolean) |
| reversed_at | material_consumptions.reversed_at | Direct |
| reversed_by | users.name | JOIN on reversed_by user_id |

### Material Reservations Table (if enabled)
| Field | Source | Calculation |
|-------|--------|-------------|
| reservation_id | material_reservations.id | Direct |
| lp_number | license_plates.lp_number | JOIN on lp_id |
| product_code | products.code | JOIN via lp.product_id |
| product_name | products.name | JOIN via lp.product_id |
| batch_number | license_plates.batch_number | JOIN on lp_id |
| location_name | locations.name | JOIN via lp.location_id |
| reserved_qty | material_reservations.reserved_qty | Direct |
| consumed_qty | material_reservations.consumed_qty | Direct (updated on consumption) |
| remaining_qty | reserved_qty - consumed_qty | Calculated |
| status | material_reservations.status | Direct ('active' or 'released') |

---

## API Endpoints

### Material Consumption
```
GET    /api/production/work-orders/:woId/materials                   # Get required materials with consumption status
POST   /api/production/work-orders/:woId/consume                     # Add material consumption
POST   /api/production/work-orders/:woId/consume/reverse             # Reverse consumption (Manager only)
GET    /api/production/work-orders/:woId/consumption-history         # Get consumption history
```

### Material Reservations
```
GET    /api/production/work-orders/:woId/reservations                # Get active reservations
POST   /api/production/work-orders/:woId/reserve-materials           # Create new reservation (Manager)
DELETE /api/production/work-orders/:woId/reservations/:resId         # Release reservation (Manager)
DELETE /api/production/work-orders/:woId/reservations                # Release all reservations (Manager)
```

### License Plate Search
```
GET    /api/warehouse/license-plates/search?product_id={id}&status=available  # Search available LPs by product
GET    /api/warehouse/license-plates/:lpId                                     # Get LP details
```

### Over-Consumption Approval
```
POST   /api/production/work-orders/:woId/over-consumption/request     # Request over-consumption approval
POST   /api/production/work-orders/:woId/over-consumption/approve     # Approve (Manager)
POST   /api/production/work-orders/:woId/over-consumption/reject      # Reject (Manager)
```

### Export
```
GET    /api/production/work-orders/:woId/consumption-history/export?format=csv  # Export to CSV
```

---

## Validation Rules

### LP Validation
```typescript
{
  lp_exists: "LP must exist in system (AC3)",
  lp_status: "LP status must be 'available' (AC4)",
  product_match: "LP.product_id must equal material.product_id (AC5)",
  uom_match: "LP.uom must equal material.uom (AC6)",
  qty_available: "LP.qty must be >= consume_qty (AC7)"
}
```

### Consumption Validation
```typescript
{
  consume_qty: "Must be > 0 and <= LP.qty",
  whole_lp_enforcement: "If consume_whole_lp=true, consume_qty must = LP.qty (FR-PROD-008 AC1)",
  over_consumption: "If consumed > required AND allow_over_consumption=false, require approval (FR-PROD-010 AC1)"
}
```

### Reversal Validation
```typescript
{
  user_role: "User must be Manager or Admin (FR-PROD-009 AC1)",
  consumption_not_reversed: "Consumption.reversed must be false",
  reason_required: "Reason for reversal is required (FR-PROD-009 AC6)"
}
```

### Reservation Validation (if enabled)
```typescript
{
  lp_reserved: "If LP reserved for different WO, block consumption (FR-PROD-016 AC3)",
  reservation_status: "Reservation status must be 'active'",
  remaining_reserved: "reserved_qty - consumed_qty must be > 0 (FR-PROD-016 AC4)"
}
```

---

## Business Rules

### Material Consumption
- LP must be in 'available' status to consume (AC4)
- Product and UoM must match material requirement (AC5, AC6)
- Consumed qty cannot exceed LP qty (AC7)
- LP qty decreases by consumed amount (AC1)
- If LP.qty = 0 after consumption, LP status = 'consumed' (AC2)
- Genealogy record created with parent_lp_id = consumed LP ID (AC8)
- Progress bar shows (consumed / required) * 100 (AC9)

### 1:1 Consumption Enforcement (FR-PROD-008)
- If consume_whole_lp = true:
  - Qty input pre-filled with LP.qty and read-only (AC3)
  - consume_qty MUST = LP.qty (AC1)
  - Partial consumption blocked (AC1)
  - "Full LP Required" badge displays (AC5)
  - Warning if user attempts to edit qty (AC6)
- If consume_whole_lp = false:
  - Partial consumption allowed (AC4)
  - User can enter any qty <= LP.qty

### Consumption Correction (FR-PROD-009)
- Only Manager/Admin can reverse consumptions (AC1, AC2)
- Reversal restores LP qty to original (AC3)
- Consumption marked: reversed=true, reversed_at, reversed_by (AC4)
- Genealogy marked: is_reversed=true (AC5)
- Reason for reversal required (AC6)
- Audit log entry created: action="consumption_reversal" (AC7)
- If LP status was "consumed", status changes to "available" (AC8)

### Over-Consumption Control (FR-PROD-010)
- If allow_over_consumption = false:
  - Over-consumption triggers approval request modal (AC1)
  - Manager receives notification (AC1)
  - Operator sees "Awaiting manager approval" (AC8)
  - Manager can approve (AC5) or reject (AC6)
  - Rejection reason recorded (AC6)
- If allow_over_consumption = true:
  - Over-consumption proceeds without approval (AC2)
  - Variance tracked and displayed (AC3, AC4)
- Variance indicator:
  - 0% = green (AC4)
  - >0% = red with percentage (AC3)
- High variance (>10%) flags WO in dashboard alerts (AC7)

### Material Reservations (FR-PROD-016)
- If enable_material_reservations = true:
  - On WO start, create reservations for all required materials (AC1)
  - System selects LPs with oldest expiry_date first (FEFO) (AC6)
  - If one LP insufficient, reserve multiple LPs (AC2)
  - LP reserved for WO-001 cannot be consumed by WO-002 (AC3)
  - Remaining reserved = reserved_qty - consumed_qty (AC4)
  - On WO complete, unused reservations released (AC5)
  - Manager can manually release reservations (AC7)
- If enable_material_reservations = false:
  - No reservations created on WO start (AC8)
  - LPs consumed on first-come, first-served basis

### Variance Calculation
```typescript
variance_percent = ((consumed_qty - required_qty) / required_qty) * 100

variance_status = {
  0%: "green" (exact match),
  1-10%: "yellow" (acceptable),
  >10%: "red" (high variance, investigate)
}
```

---

## Permissions

| Role | View Consumption | Consume Materials | Reverse Consumption | Approve Over-Consumption | Release Reservations |
|------|------------------|-------------------|---------------------|--------------------------|----------------------|
| Admin | Yes | Yes | Yes | Yes | Yes |
| Production Manager | Yes | Yes | Yes | Yes | Yes |
| Operator | Yes | Yes | No | No | No |
| Viewer | Yes | No | No | No | No |

---

## Accessibility

- **Touch targets**: All buttons, table actions >= 48x48dp (64x64dp mobile)
- **Contrast**:
  - Text: 4.5:1 minimum
  - Progress bars: 3:1 minimum
  - Badges: WCAG AA compliant colors
  - Error messages: 4.5:1 minimum
- **Screen reader**:
  - WO Summary: "Work Order WO-2025-0156, Wheat Bread, Status In Progress, Line 1, Planned 5000 kilograms, Actual 3200 kilograms, 64% complete, Materials progress 4 of 6 components consumed, 67% overall"
  - Materials Table: "Material RM-001 Flour, Required 2500 kilograms, Consumed 2000 kilograms, Remaining 500 kilograms, Progress 80%, Variance 0%, Consume button"
  - Consumption History: "Consumption from LP-2025-08921, ING-002 Honey, 250 kilograms, Consumed 2 hours 15 minutes ago by John Smith Operator, Status Active, Reverse button available"
  - Modals: All headings, labels, and validation messages announced
- **Keyboard**:
  - Tab navigation through all tables, buttons, inputs, modals
  - Enter to activate buttons, submit forms
  - Escape to close modals, cancel actions
  - Arrow keys for table row navigation
- **ARIA**:
  - Tables: role="table" with proper headers, aria-sort
  - Progress bars: role="progressbar" aria-valuenow aria-valuemin="0" aria-valuemax="100"
  - Modals: role="dialog" aria-labelledby aria-describedby
  - Error messages: role="alert" aria-live="assertive"
  - Buttons: aria-label for icon-only buttons
  - Status badges: aria-label="Status Active" or "Status Reversed"

---

## Responsive Breakpoints

| Breakpoint | Layout | Notes |
|------------|--------|-------|
| **Desktop (>1024px)** | Full layout: WO Summary + Materials table (all columns) + Consumption History + Reservations | Standard desktop view |
| **Tablet (768-1024px)** | Condensed: WO Summary + Materials table (hide variance column) + Consumption History (condensed rows) + Reservations (condensed) | Smaller fonts, reduced padding |
| **Mobile (<768px)** | Stacked: WO Summary card + Materials cards (not table) + Consumption History cards + Reservations cards + Load More buttons | Card layout, vertical stack |

### Responsive Adjustments

#### Desktop (>1024px)
- **Materials Table**: All columns visible, 48dp row height
- **Consumption History**: All columns visible, 20 rows per page
- **Modals**: 600px width, centered
- **Actions**: All visible in table rows

#### Tablet (768-1024px)
- **Materials Table**: Hide Variance column, 40dp row height, smaller font
- **Consumption History**: Hide Batch/Expiry details, 10 rows per page
- **Modals**: 80% width, centered
- **Actions**: Condensed, icon-only buttons

#### Mobile (<768px)
- **Materials Table â†’ Cards**: Each material as card
  - Material name + product type badge
  - Required / Consumed / Remaining
  - Progress bar
  - [Consume] button (full width)
- **Consumption History â†’ Cards**: Each consumption as card
  - LP Number + Material
  - Qty + UoM
  - Consumed At (relative time)
  - [Reverse] button (if Manager)
- **Modals**: Full screen, slide-up animation
- **Load More**: Instead of pagination

---

## Performance Notes

### Query Optimization
- **Materials Table**: Single query with JOINs (products, wo_materials, material_consumptions SUM)
- **Consumption History**: Index on (org_id, wo_id, consumed_at DESC), JOIN with users, license_plates
- **Reservations**: Index on (org_id, wo_id, status), JOIN with license_plates
- **LP Search**: Index on (org_id, product_id, status, expiry_date), full-text search on lp_number

### Caching Strategy
```typescript
// Redis keys
'org:{orgId}:wo:{woId}:materials'            // 60 sec TTL (consumption updates frequently)
'org:{orgId}:wo:{woId}:consumptions'         // 30 sec TTL (history updates on consume/reverse)
'org:{orgId}:wo:{woId}:reservations'         // 60 sec TTL (reservations update less frequently)
'org:{orgId}:lp:{lpId}'                      // 5 min TTL (LP details relatively static)
```

### Load Time Targets
- **Initial Load (WO Summary + Materials)**: <1s
- **Consumption History**: <800ms (20-50 consumptions)
- **Reservations**: <500ms (3-10 reservations)
- **LP Search (Available LPs)**: <600ms (100-500 LPs)
- **Add Consumption (Submit)**: <500ms (validation + insert + genealogy)
- **Reverse Consumption**: <800ms (restore LP + update consumption + genealogy + audit log)

### Real-time Updates (WebSocket - Optional)
- **WebSocket Channel**: `production:org:{orgId}:wo:{woId}:consumption`
- **Events**:
  - consumption.added â†’ Update Materials Table, append to Consumption History
  - consumption.reversed â†’ Update Materials Table, update Consumption History row
  - reservation.created â†’ Add to Reservations Table
  - reservation.released â†’ Remove from Reservations Table
  - lp.qty_changed â†’ Update Available LPs dropdown
  - over_consumption.approved â†’ Proceed with consumption
  - over_consumption.rejected â†’ Block consumption, show rejection message

---

## Error Handling

### API Errors
- **Materials Fetch Failed**: Show error state, allow retry, Back to WO Detail still available
- **LP Search Failed**: Show error in modal, allow retry, "Contact Warehouse" button
- **Consumption Submit Failed**: Show error in modal, keep user input, allow retry
- **Reversal Failed**: Show error in modal, consumption remains active, allow retry

### Validation Errors (Detailed Messages)
- **LP Not Found**: "License Plate 'LP-2025-99999' does not exist in the system. Please verify: LP number is correct, LP has been received, LP belongs to this organization." (AC3)
- **LP Status Not Available**: "LP is not available (status: consumed). LP-2025-08850 was already consumed on 2025-12-14 12:40:33 in WO-2025-0156." (AC4)
- **Product Mismatch**: "Product mismatch: LP contains RM-010 Water, material requires RM-001 Flour. You cannot consume this LP for this material." (AC5)
- **UoM Mismatch**: "Unit of measure mismatch: LP is kg, material requires L. The LP and material have incompatible units." (AC6)
- **Insufficient Quantity**: "Insufficient quantity: LP has 500 kg, requested 750 kg. You cannot consume more than the LP's available quantity." (AC7)
- **1:1 Enforcement**: "Full LP consumption required. LP quantity is 1500 L. You entered: 750 L. Please consume the entire LP quantity." (FR-PROD-008 AC1, AC6)
- **Over-Consumption**: "Over-consumption detected: +7.5 kg (+30% variance). Manager approval required." (FR-PROD-010 AC1)

### Network Timeout
- **Materials**: 10s timeout, retry once on failure
- **Consumption History**: 10s timeout, retry once on failure
- **LP Search**: 5s timeout, retry once on failure
- **Consumption Submit**: 15s timeout (involves genealogy, LP update, consumption insert), retry once

---

## Testing Requirements

### Unit Tests
- **Material Consumption Calculations**:
  - Required qty from BOM
  - Consumed qty = SUM(consumptions WHERE reversed=false)
  - Remaining qty = Required - Consumed (can be negative)
  - Progress % = (Consumed / Required) * 100
  - Variance % = ((Consumed - Required) / Required) * 100
- **LP Qty Update**:
  - LP.qty decreases by consumed amount (AC1)
  - LP status = 'consumed' if qty = 0 (AC2)
- **1:1 Consumption**:
  - If consume_whole_lp=true, consume_qty must = LP.qty (AC1)
  - If consume_whole_lp=false, partial consumption allowed (AC4)
- **Over-Consumption Logic**:
  - If allow_over_consumption=false AND consumed+attempting > required, trigger approval (AC1)
  - If allow_over_consumption=true, proceed with variance tracking (AC2)
- **Reversal Logic**:
  - LP qty restored to original (AC3)
  - Consumption.reversed = true, reversed_at, reversed_by (AC4)
  - Genealogy.is_reversed = true (AC5)
  - Audit log entry created (AC7)
- **Reservation Logic**:
  - FEFO selection (oldest expiry first) (AC6)
  - Multiple LPs if one insufficient (AC2)
  - Remaining reserved = reserved_qty - consumed_qty (AC4)

### Integration Tests
- **API Endpoint Coverage**: All 5 endpoint groups (materials, consumptions, reversals, reservations, LP search)
- **RLS Policy Enforcement**: org_id isolation, no cross-org data leaks
- **Genealogy Creation**: lp_genealogy record created with parent_lp_id (AC8)
- **Reservation Blocking**: LP reserved for WO-001 blocks consumption by WO-002 (FR-PROD-016 AC3)
- **CSV Export Generation**: Valid CSV format, all columns, correct data

### E2E Tests
- **Page Load (Success State)**:
  - WO Summary displays correctly
  - Materials table shows all 6 materials
  - Consumption history shows recent consumptions
  - Reservations table shows active reservations (if enabled)
- **Add Consumption (Happy Path)**:
  - Click [+] Consume â†’ Modal opens
  - Scan LP â†’ LP validated
  - Enter qty â†’ Summary displays
  - Confirm â†’ Consumption recorded, LP qty updated (AC1)
  - If LP.qty = 0, LP status = 'consumed' (AC2)
  - Genealogy record created (AC8)
  - Progress bar updates (AC9)
- **Add Consumption (Validation Errors)**:
  - LP not found â†’ Error displays within 500ms (AC3)
  - LP status != 'available' â†’ Error displays (AC4)
  - Product mismatch â†’ Error displays (AC5)
  - UoM mismatch â†’ Error displays (AC6)
  - Qty > LP.qty â†’ Error displays (AC7)
- **1:1 Consumption**:
  - consume_whole_lp=true â†’ Qty pre-filled and read-only (FR-PROD-008 AC3)
  - Attempt partial â†’ Error "Full LP consumption required. LP quantity is 100" (FR-PROD-008 AC1)
  - Consume full LP â†’ Consumption proceeds (FR-PROD-008 AC2)
  - "Full LP Required" badge displays (FR-PROD-008 AC5)
- **Over-Consumption**:
  - allow_over_consumption=false â†’ Approval modal displays (FR-PROD-010 AC1)
  - Manager approves â†’ Consumption proceeds, audit trail records (FR-PROD-010 AC5)
  - Manager rejects â†’ Consumption blocked, reason recorded (FR-PROD-010 AC6)
  - allow_over_consumption=true â†’ Consumption proceeds with variance (FR-PROD-010 AC2)
  - Variance > 0% â†’ Red indicator with percentage (FR-PROD-010 AC3)
  - Variance = 0% â†’ Green indicator (FR-PROD-010 AC4)
- **Consumption Reversal**:
  - Manager clicks [Rev] â†’ Modal opens (FR-PROD-009 AC1)
  - Operator: [Rev] button NOT visible (FR-PROD-009 AC2)
  - Manager confirms â†’ LP qty restored to 100 (FR-PROD-009 AC3)
  - Consumption.reversed = true, reversed_at, reversed_by (FR-PROD-009 AC4)
  - Genealogy.is_reversed = true (FR-PROD-009 AC5)
  - Reason required â†’ Validation error if empty (FR-PROD-009 AC6)
  - Audit log entry created (FR-PROD-009 AC7)
  - If LP status was "consumed", status = "available" with qty = 50 (FR-PROD-009 AC8)
- **Material Reservations**:
  - enable_material_reservations=true â†’ WO starts â†’ Reservations created (FR-PROD-016 AC1, AC8)
  - One LP insufficient â†’ Multiple LPs reserved (FR-PROD-016 AC2)
  - LP reserved for WO-001 â†’ WO-002 attempts consume â†’ Error "LP is reserved for WO-001" (FR-PROD-016 AC3)
  - Remaining reserved = 60 (100 reserved - 40 consumed) (FR-PROD-016 AC4)
  - WO completes â†’ Unused reservations released (FR-PROD-016 AC5)
  - FEFO logic â†’ LP with oldest expiry selected first (FR-PROD-016 AC6)
  - Manager clicks [Release] â†’ Reservation released (FR-PROD-016 AC7)
- **Empty State**:
  - No consumptions â†’ "No materials consumed yet" message displays
  - [Start Consuming Materials] button visible
- **Responsive Behavior**:
  - Desktop: Full layout with all columns
  - Tablet: Condensed layout, some columns hidden
  - Mobile: Card layout, Load More buttons

### Performance Tests
- **Page Load**: <1s for WO Summary + Materials + Consumption History
- **LP Search**: <600ms for 100-500 available LPs
- **Add Consumption Submit**: <500ms for consumption insert + LP update + genealogy
- **Reverse Consumption**: <800ms for restore + updates + audit log
- **CSV Export**: <2s for 100 consumptions

---

## Quality Gates

Before handoff to FRONTEND-DEV:
- [x] All 4 states defined (Loading, Empty, Error, Success)
- [x] All 39 AC from PRD implemented in wireframe
  - [x] FR-PROD-006: 9 AC (Material Consumption Desktop)
  - [x] FR-PROD-008: 6 AC (1:1 Consumption Enforcement)
  - [x] FR-PROD-009: 8 AC (Consumption Correction)
  - [x] FR-PROD-010: 8 AC (Over-Consumption Control)
  - [x] FR-PROD-016: 8 AC (Material Reservations)
- [x] 10+ validation scenarios defined with detailed error messages
- [x] Responsive breakpoints documented (Desktop/Tablet/Mobile)
- [x] All API endpoints specified with request/response schemas
- [x] Accessibility checklist passed (touch targets, contrast, screen reader, keyboard, ARIA)
- [x] Performance targets defined (load times, caching strategy)
- [x] Permissions matrix documented (Admin, Manager, Operator, Viewer)
- [x] Business rules documented (consumption, 1:1, reversal, over-consumption, reservations)
- [x] Validation rules defined (LP, consumption, reversal, reservation)
- [x] Error handling strategy defined (API errors, validation errors, network timeout)

---

## Handoff to FRONTEND-DEV

```yaml
feature: Material Consumption Desktop
story: PROD-003
fr_coverage:
  - FR-PROD-006 (Material Consumption Desktop) - 9 AC
  - FR-PROD-008 (1:1 Consumption Enforcement) - 6 AC
  - FR-PROD-009 (Consumption Correction) - 8 AC
  - FR-PROD-010 (Over-Consumption Control) - 8 AC
  - FR-PROD-016 (Material Reservations) - 8 AC
approval_status:
  mode: "review_each"
  user_approved: false  # PENDING USER REVIEW
  screens_approved: []
  iterations_used: 0
deliverables:
  wireframe: docs/3-ARCHITECTURE/ux/wireframes/PROD-003-material-consumption.md
  api_endpoints:
    - GET /api/production/work-orders/:woId/materials
    - POST /api/production/work-orders/:woId/consume
    - POST /api/production/work-orders/:woId/consume/reverse
    - GET /api/production/work-orders/:woId/consumption-history
    - GET /api/production/work-orders/:woId/reservations
    - POST /api/production/work-orders/:woId/reserve-materials
    - DELETE /api/production/work-orders/:woId/reservations/:resId
    - DELETE /api/production/work-orders/:woId/reservations
    - GET /api/warehouse/license-plates/search
    - GET /api/warehouse/license-plates/:lpId
    - POST /api/production/work-orders/:woId/over-consumption/request
    - POST /api/production/work-orders/:woId/over-consumption/approve
    - POST /api/production/work-orders/:woId/over-consumption/reject
    - GET /api/production/work-orders/:woId/consumption-history/export
states_per_screen: [loading, empty, error, success]
modals_count: 5
  - Add Consumption Modal (2 steps)
  - Over-Consumption Approval Modal
  - Reverse Consumption Modal
  - LP Validation Error Modals (6 types)
breakpoints:
  mobile: "<768px (card layout, Load More)"
  tablet: "768-1024px (condensed tables, some columns hidden)"
  desktop: ">1024px (full layout, all columns)"
accessibility:
  touch_targets: "48x48dp minimum (64x64dp mobile)"
  contrast: "4.5:1 minimum (text, error messages), 3:1 (progress bars, badges)"
  aria_roles: "table, dialog, alert, progressbar"
  keyboard_nav: "Tab, Enter, Escape, Arrow keys"
performance_targets:
  wo_summary_load: "<1s"
  materials_table_load: "<1s"
  consumption_history_load: "<800ms"
  lp_search: "<600ms"
  consumption_submit: "<500ms"
  reversal_submit: "<800ms"
  csv_export: "<2s"
cache_ttl:
  materials: "60sec"
  consumptions: "30sec"
  reservations: "60sec"
  lp_details: "5min"
validation_scenarios: 10+
  - LP not found
  - LP status not available
  - Product mismatch
  - UoM mismatch
  - Insufficient quantity
  - 1:1 enforcement violation
  - Over-consumption (approval required)
  - Reversal permission denied
  - Reservation blocking
  - Missing required fields
ac_coverage: 39 AC (100% of FR-PROD-006, FR-PROD-008, FR-PROD-009, FR-PROD-010, FR-PROD-016)
```

---

**Status**: Ready for User Review
**Approval Mode**: review_each (default)
**User Approved**: Pending (requires user review and approval)
**Iterations**: 0 of 3
**Estimated Effort**: 20-24 hours (complex with 5 modals, 10+ validation scenarios, 39 AC, reservations, genealogy, over-consumption approval)
**Quality Target**: 97/100 (comprehensive, matches Technical BOM and Production Dashboard quality)
**PRD Coverage**: 100% (all 39 AC from FR-PROD-006, FR-PROD-008, FR-PROD-009, FR-PROD-010, FR-PROD-016 implemented)
**Wireframe Length**: ~1,550 lines (target: 1,200-1,600 lines) âœ“
