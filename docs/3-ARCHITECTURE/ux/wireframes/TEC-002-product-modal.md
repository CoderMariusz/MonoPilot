# TEC-002: Product Create/Edit Modal

**Module**: Technical
**Feature**: Product Management
**Status**: Auto-Approved (Updated per ADR-010)
**Last Updated**: 2025-12-14

---

## ASCII Wireframe

### Success State (Create Mode)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X] Create Product                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  Basic Information                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Product Code (SKU) *                                                         â”‚
â”‚  [SKU-                          ]  â„¹ï¸ Immutable after creation               â”‚
â”‚                                                                               â”‚
â”‚  Product Name *                                                               â”‚
â”‚  [                              ]                                             â”‚
â”‚                                                                               â”‚
â”‚  Description                                                                  â”‚
â”‚  [                                                          ]                 â”‚
â”‚  [                                                          ]                 â”‚
â”‚                                                                               â”‚
â”‚  Product Type *                                                               â”‚
â”‚  [ Select type...              â–¼]                                            â”‚
â”‚    - Raw Material (RM)                                                        â”‚
â”‚    - Work in Progress (WIP)                                                   â”‚
â”‚    - Finished Goods (FG)                                                      â”‚
â”‚    - Packaging (PKG)                                                          â”‚
â”‚    - Byproduct (BP)                                                           â”‚
â”‚                                                                               â”‚
â”‚  Base Unit of Measure (UoM) *                                                 â”‚
â”‚  [ Select UoM...               â–¼]  or [+ Add Custom UoM]                     â”‚
â”‚    - kg, L, pcs, m, mÂ², mÂ³, ton, g, ml                                        â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Identification & Barcodes                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Barcode (Internal)                                                           â”‚
â”‚  [                              ]  â„¹ï¸ For internal scanning                  â”‚
â”‚                                                                               â”‚
â”‚  GTIN-14 (GS1 Barcode)                                                        â”‚
â”‚  [                              ]  â„¹ï¸ For external shipments (optional)      â”‚
â”‚                                    Format: 12345678901234 (14 digits)         â”‚
â”‚                                                                               â”‚
â”‚  Category                                                                     â”‚
â”‚  [ Select category...          â–¼]  or [+ Add New Category]                   â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Procurement (ADR-010: Product-Level Fields)                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Procurement Lead Time (days)                                                 â”‚
â”‚  [7                ]  â„¹ï¸ Average time to receive this product from supplier  â”‚
â”‚                       Default: 7 days                                         â”‚
â”‚                                                                               â”‚
â”‚  Minimum Order Quantity (MOQ)                                                 â”‚
â”‚  [                 ]  [kg              â–¼]                                     â”‚
â”‚  â„¹ï¸ Minimum quantity per purchase order (uses product UoM)                    â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Supplier Assignment (Optional)                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  â˜‘ Assign a primary supplier to this product                                 â”‚
â”‚                                                                               â”‚
â”‚  Primary Supplier                                                             â”‚
â”‚  [ Select supplier...          â–¼]  or [+ Add Supplier]                       â”‚
â”‚                                                                               â”‚
â”‚  Standard Price                     Currency                                  â”‚
â”‚  [                 ]                [USD            â–¼]                        â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Inventory & Stock Control                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Minimum Stock Level                Maximum Stock Level                       â”‚
â”‚  [                 ]  [kg      â–¼]   [                 ]  [kg      â–¼]         â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Shelf Life & Storage                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Expiry Policy                                                                â”‚
â”‚  [ Select policy...            â–¼]                                             â”‚
â”‚    - Fixed (from production date)                                             â”‚
â”‚    - Rolling (from receipt date)                                              â”‚
â”‚    - None (no expiry)                                                         â”‚
â”‚                                                                               â”‚
â”‚  Shelf Life (days)                                                            â”‚
â”‚  [                 ]  â„¹ï¸ Days from production/receipt to expiry               â”‚
â”‚                                                                               â”‚
â”‚  Storage Conditions                                                           â”‚
â”‚  [                                                          ]                 â”‚
â”‚  [                                                          ]                 â”‚
â”‚  Example: "Store at 2-8Â°C, Keep frozen, Room temperature"                    â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Status                                                                       â”‚
â”‚  ( ) Active   ( ) Inactive                                                    â”‚
â”‚                                                                               â”‚
â”‚                                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      [Cancel]  [Create Product]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* Required fields
```

### Success State (Edit Mode)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X] Edit Product - SKU-001 (White Bread)                   Version: v4      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  âš ï¸ Editing this product will create version v5. Changes will not affect     â”‚
â”‚     existing BOMs or Work Orders.                     [View Version History] â”‚
â”‚                                                                               â”‚
â”‚  Basic Information                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Product Code (SKU) *                                                         â”‚
â”‚  [SKU-001                       ]  ðŸ”’ Locked (immutable)                     â”‚
â”‚                                                                               â”‚
â”‚  Product Name *                                                               â”‚
â”‚  [White Bread                   ]                                             â”‚
â”‚                                                                               â”‚
â”‚  Description                                                                  â”‚
â”‚  [Artisan white bread loaf                              ]                    â”‚
â”‚  [made with organic flour                               ]                    â”‚
â”‚                                                                               â”‚
â”‚  Product Type *                                                               â”‚
â”‚  [Finished Goods (FG)          â–¼]  ðŸ”’ Locked (cannot change type)            â”‚
â”‚                                                                               â”‚
â”‚  Base Unit of Measure (UoM) *                                                 â”‚
â”‚  [pcs                          â–¼]                                             â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Identification & Barcodes                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Barcode (Internal)                                                           â”‚
â”‚  [BR-001                        ]                                             â”‚
â”‚                                                                               â”‚
â”‚  GTIN-14 (GS1 Barcode)                                                        â”‚
â”‚  [98765432109876                ]  âœ“ Valid GTIN-14                           â”‚
â”‚                                                                               â”‚
â”‚  Category                                                                     â”‚
â”‚  [Bread Products               â–¼]                                             â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Procurement (ADR-010: Product-Level Fields)                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Procurement Lead Time (days)                                                 â”‚
â”‚  [3                ]  â„¹ï¸ Changed from supplier default (7 days)              â”‚
â”‚                       Product-specific: 3 days                                â”‚
â”‚                                                                               â”‚
â”‚  Minimum Order Quantity (MOQ)                                                 â”‚
â”‚  [100              ]  [pcs             â–¼]                                     â”‚
â”‚  â„¹ï¸ Minimum: 100 pcs per purchase order                                       â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Supplier Assignment                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  â˜ Assign a primary supplier to this product                                 â”‚
â”‚     (Finished goods are typically manufactured, not purchased)                â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Inventory & Stock Control                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Minimum Stock Level                Maximum Stock Level                       â”‚
â”‚  [100              ]  [pcs     â–¼]   [500              ]  [pcs     â–¼]         â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Shelf Life & Storage                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Expiry Policy                                                                â”‚
â”‚  [Fixed (from production)      â–¼]                                             â”‚
â”‚                                                                               â”‚
â”‚  Shelf Life (days)                                                            â”‚
â”‚  [7                ]  â„¹ï¸ 7 days from production date                          â”‚
â”‚                                                                               â”‚
â”‚  Storage Conditions                                                           â”‚
â”‚  [Store at room temperature (15-25Â°C)                   ]                    â”‚
â”‚  [Keep in dry place, away from direct sunlight          ]                    â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Status                                                                       â”‚
â”‚  (â€¢) Active   ( ) Inactive                                                    â”‚
â”‚                                                                               â”‚
â”‚  âš ï¸ This product has 3 active BOMs. Setting to Inactive will require BOM     â”‚
â”‚     review.                                                                   â”‚
â”‚                                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      [Cancel]  [Save Changes (v4 â†’ v5)]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Loading State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X] Create Product                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚                          [â³ Icon]                                            â”‚
â”‚                                                                               â”‚
â”‚                      Creating Product...                                      â”‚
â”‚                                                                               â”‚
â”‚       Please wait while we save your product information.                     â”‚
â”‚                                                                               â”‚
â”‚                          [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 80%                                     â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X] Create Product                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  âš ï¸ Unable to create product. Please fix the following errors:               â”‚
â”‚                                                                               â”‚
â”‚  Basic Information                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Product Code (SKU) *                                                         â”‚
â”‚  [SKU-001                       ]  âŒ SKU already exists in your organization â”‚
â”‚                                                                               â”‚
â”‚  Product Name *                                                               â”‚
â”‚  [                              ]  âŒ Product name is required                â”‚
â”‚                                                                               â”‚
â”‚  Product Type *                                                               â”‚
â”‚  [ Select type...              â–¼]  âŒ Please select a product type           â”‚
â”‚                                                                               â”‚
â”‚  Base Unit of Measure (UoM) *                                                 â”‚
â”‚  [ Select UoM...               â–¼]  âŒ Unit of measure is required             â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Identification & Barcodes                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  GTIN-14 (GS1 Barcode)                                                        â”‚
â”‚  [1234567890123                 ]  âŒ Invalid GTIN-14 format (must be 14      â”‚
â”‚                                       digits with valid check digit)          â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Procurement                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Procurement Lead Time (days)                                                 â”‚
â”‚  [-5               ]  âŒ Lead time must be >= 0                               â”‚
â”‚                                                                               â”‚
â”‚  Minimum Order Quantity (MOQ)                                                 â”‚
â”‚  [0                ]  [kg      â–¼]  âŒ MOQ must be > 0 if provided            â”‚
â”‚                                                                               â”‚
â”‚  (... rest of form ...)                                                       â”‚
â”‚                                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      [Cancel]  [Create Product]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Empty State (N/A for Modal)

Modals don't have empty states - they're opened with intent to create/edit.

---

## Nested Modals

### [+ Add Supplier] Nested Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [X] Quick Add Supplier                                                â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                         â”‚  â”‚
â”‚  â”‚  Supplier Name *                                                        â”‚  â”‚
â”‚  â”‚  [                              ]                                       â”‚  â”‚
â”‚  â”‚                                                                         â”‚  â”‚
â”‚  â”‚  Supplier Code *                                                        â”‚  â”‚
â”‚  â”‚  [SUP-                          ]  â„¹ï¸ Auto-generated if empty          â”‚  â”‚
â”‚  â”‚                                                                         â”‚  â”‚
â”‚  â”‚  Contact Email                                                          â”‚  â”‚
â”‚  â”‚  [                              ]                                       â”‚  â”‚
â”‚  â”‚                                                                         â”‚  â”‚
â”‚  â”‚  Contact Phone                                                          â”‚  â”‚
â”‚  â”‚  [                              ]                                       â”‚  â”‚
â”‚  â”‚                                                                         â”‚  â”‚
â”‚  â”‚  Status                                                                 â”‚  â”‚
â”‚  â”‚  (â€¢) Active   ( ) Inactive                                              â”‚  â”‚
â”‚  â”‚                                                                         â”‚  â”‚
â”‚  â”‚                                                                         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚             [Cancel]  [Add Supplier]  [Add & Open Full Form]           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                               â”‚
â”‚  (Background: Product Create Modal - dimmed)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior:**
- Opens above Product Modal (z-index layering)
- Background Product Modal dimmed but visible
- On **[Add Supplier]**: Creates supplier, closes nested modal, returns to Product Modal with new supplier selected
- On **[Add & Open Full Form]**: Creates supplier, closes both modals, navigates to full Supplier Edit page
- On **[Cancel]** or **[X]**: Closes nested modal, returns to Product Modal

---

### [+ Add New Category] Nested Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  [X] Add Product Category                                              â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                         â”‚  â”‚
â”‚  â”‚  Category Name *                                                        â”‚  â”‚
â”‚  â”‚  [                              ]                                       â”‚  â”‚
â”‚  â”‚                                                                         â”‚  â”‚
â”‚  â”‚  Description                                                            â”‚  â”‚
â”‚  â”‚  [                                                      ]               â”‚  â”‚
â”‚  â”‚  [                                                      ]               â”‚  â”‚
â”‚  â”‚                                                                         â”‚  â”‚
â”‚  â”‚  Parent Category (Optional)                                             â”‚  â”‚
â”‚  â”‚  [ None - Top Level            â–¼]                                       â”‚  â”‚
â”‚  â”‚                                                                         â”‚  â”‚
â”‚  â”‚                                                                         â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                            [Cancel]  [Add Category]                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                               â”‚
â”‚  (Background: Product Create Modal - dimmed)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior:**
- Opens above Product Modal (z-index layering)
- Background Product Modal dimmed but visible
- On **[Add Category]**: Creates category, closes nested modal, returns to Product Modal with new category selected
- On **[Cancel]** or **[X]**: Closes nested modal, returns to Product Modal

---

## Version History Panel

### [View Version History] Side Panel

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X] Edit Product - SKU-001 (White Bread)     â”‚  [X] Version History        â”‚
â”‚                                                â”‚                             â”‚
â”‚  (Product form continues scrolling on left)   â”‚  v5 - Current Draft         â”‚
â”‚                                                â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  Basic Information                             â”‚  Unsaved changes            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”‚                             â”‚
â”‚                                                â”‚  v4 - 2025-12-10 14:32      â”‚
â”‚  Product Code (SKU) *                          â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  [SKU-001           ]  ðŸ”’ Locked               â”‚  âœï¸ John Doe                â”‚
â”‚                                                â”‚  Changed:                   â”‚
â”‚  Product Name *                                â”‚  â€¢ shelf_life_days:         â”‚
â”‚  [White Bread       ]                          â”‚    5 â†’ 7                    â”‚
â”‚                                                â”‚  â€¢ storage_conditions:      â”‚
â”‚  (... rest of form ...)                        â”‚    Updated text             â”‚
â”‚                                                â”‚  [View Details]             â”‚
â”‚                                                â”‚                             â”‚
â”‚                                                â”‚  v3 - 2025-12-05 09:15      â”‚
â”‚                                                â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚                                                â”‚  âœï¸ Jane Smith              â”‚
â”‚                                                â”‚  Changed:                   â”‚
â”‚                                                â”‚  â€¢ name: "Bread" â†’          â”‚
â”‚                                                â”‚    "White Bread"            â”‚
â”‚                                                â”‚  â€¢ description: Added       â”‚
â”‚                                                â”‚  [View Details]             â”‚
â”‚                                                â”‚                             â”‚
â”‚                                                â”‚  v2 - 2025-11-30 16:45      â”‚
â”‚                                                â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚                                                â”‚  âœï¸ John Doe                â”‚
â”‚                                                â”‚  Changed:                   â”‚
â”‚                                                â”‚  â€¢ gtin: Added              â”‚
â”‚                                                â”‚    98765432109876           â”‚
â”‚                                                â”‚  [View Details]             â”‚
â”‚                                                â”‚                             â”‚
â”‚                                                â”‚  v1 - 2025-11-28 10:00      â”‚
â”‚                                                â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚                                                â”‚  âœï¸ John Doe                â”‚
â”‚                                                â”‚  Initial creation           â”‚
â”‚                                                â”‚  [View Details]             â”‚
â”‚                                                â”‚                             â”‚
â”‚                                                â”‚                             â”‚
â”‚                                                â”‚                             â”‚
â”‚                                                â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Behavior:**
- Slides in from right side (400px width)
- Product form remains open on left (resized to accommodate panel)
- Shows version timeline with:
  - Version number (v1, v2, v3, etc.)
  - Timestamp
  - User who made changes
  - Summary of changed fields (field name: old_value â†’ new_value)
- **[View Details]**: Expands inline to show full JSONB diff
- **[X]**: Closes panel, returns to full-width Product form
- Panel scrolls independently from Product form

---

## Key Components

1. **Modal Container** - Width: lg (800px), max-height: 90vh, scrollable body
2. **Section Headers** - Dividers between logical field groups
3. **Form Fields** - Text inputs, dropdowns, textareas, radio buttons, checkboxes
4. **Required Indicators** - Red asterisk (*) for mandatory fields
5. **Help Icons** - â„¹ï¸ tooltip for field explanations
6. **Locked Fields** - ðŸ”’ icon for immutable fields (SKU, Type in edit mode)
7. **Validation Icons** - âœ“ valid, âŒ error with message
8. **Warning Banners** - Yellow alert for version increment notice, BOM impact
9. **Version Display** - Current version shown in header (edit mode)
10. **Action Buttons** - Cancel (secondary), Create/Save (primary)
11. **Nested Modals** - Supplier/Category quick-add overlays
12. **Version History Panel** - Slide-in side panel with version timeline

---

## Main Actions

### Primary
- **[Create Product]** (Create mode) - Validates form, creates product with version 1, closes modal, shows success toast, refreshes product list
- **[Save Changes]** (Edit mode) - Validates form, increments version, creates version history record, closes modal, shows success toast

### Secondary
- **[Cancel]** - Checks for unsaved changes, shows confirmation if dirty, closes modal
- **[X]** (Close button) - Same as Cancel
- **[View Version History]** (Edit mode) - Opens side panel with version timeline without closing modal
- **[+ Add Custom UoM]** - Opens mini-modal to create custom unit of measure
- **[+ Add New Category]** - Opens nested modal to create product category (see Nested Modals section)
- **[+ Add Supplier]** - Opens nested supplier create modal (see Nested Modals section)

### Nested Modal Actions
- **[Add Supplier]** (Supplier nested modal) - Creates supplier, closes nested modal, selects new supplier in Product form
- **[Add & Open Full Form]** (Supplier nested modal) - Creates supplier, navigates to full Supplier Edit page
- **[Add Category]** (Category nested modal) - Creates category, closes nested modal, selects new category in Product form

---

## States

- **Loading**: Form disabled, progress bar, "Creating/Updating Product..." message
- **Empty**: N/A (modal always has form)
- **Error**: Error banner at top, inline field errors (red border + message below field), focus on first error
- **Success**: Form with all fields, validation on blur, submit button enabled when valid

---

## Data Fields (All PRD Fields + ADR-010 Updates)

### Basic Information (Required Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| code | string | Yes | Unique per org, 2-50 chars, alphanumeric + dash | Immutable after creation |
| name | string | Yes | 2-255 chars | |
| description | text | No | Max 1000 chars | Multiline |
| product_type_id | UUID | Yes | Must exist in product_types | Immutable after creation |
| base_uom | string | Yes | Must be valid UoM | kg, L, pcs, etc. |

### Identification & Barcodes (Optional Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| barcode | string | No | Max 100 chars | Internal barcode |
| gtin | string | No | Exactly 14 digits, valid check digit | GTIN-14 GS1 format |
| category_id | UUID | No | Must exist if provided | Product category |

### Procurement (Product-Level per ADR-010)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| lead_time_days | integer | No | Min 0, max 365 | Default: 7 days. Average procurement lead time |
| moq | decimal | No | Min > 0, max 10 digits, 2 decimals | Minimum order quantity (uses product UoM) |

### Supplier Assignment (Optional Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| supplier_id | UUID | No | Must exist if provided | Primary supplier (creates supplier_products record) |
| std_price | decimal | No | Min 0, max 15 digits, 4 decimals | Standard price per UoM |

### Inventory & Stock Control (Optional Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| min_stock | decimal | No | Min 0, max 15 digits, 4 decimals | Must be <= max_stock |
| max_stock | decimal | No | Min 0, max 15 digits, 4 decimals | Must be >= min_stock |

### Shelf Life & Storage (Optional Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| expiry_policy | enum | No | fixed, rolling, none | Default: none |
| shelf_life_days | integer | No | Min 1, max 3650 (10 years) | Required if expiry_policy != none |
| storage_conditions | text | No | Max 500 chars | Multiline |

### Status (Required Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| status | enum | Yes | active, inactive | Default: active |

### Hidden/Auto Fields (Not in Form)
- **org_id**: Auto-set from current user's organization
- **version**: Auto-set to 1 on create, auto-incremented on edit
- **created_at**: Auto-timestamp
- **updated_at**: Auto-timestamp
- **created_by**: Auto-set from current user
- **updated_by**: Auto-set from current user

---

## Validation Rules

### Field-Level Validation (On Blur)
1. **SKU (code)**:
   - Required, 2-50 chars
   - Alphanumeric + dash only (regex: `^[A-Z0-9-]+$`)
   - Unique check via API debounced call
   - Show "SKU already exists" error if duplicate

2. **Product Name**:
   - Required, 2-255 chars
   - No special validation

3. **Product Type**:
   - Required
   - Immutable in edit mode (show locked icon)

4. **Base UoM**:
   - Required
   - Must be from predefined list or custom UoM

5. **GTIN-14**:
   - Optional
   - If provided: exactly 14 digits
   - Check digit validation (GS1 algorithm)
   - Show "Invalid GTIN-14" error with link to calculator

6. **Procurement Lead Time (lead_time_days)** (ADR-010):
   - Optional
   - Min 0, max 365
   - Integer only
   - Default: 7 days

7. **MOQ (moq)** (ADR-010):
   - Optional
   - If provided: Min > 0
   - Max 10 digits, 2 decimal places
   - Uses product UoM (auto-populated in dropdown)
   - Validation: Must be positive if provided

8. **Std Price, Min/Max Stock**:
   - Min 0
   - Max 15 digits, 4 decimal places
   - Decimal validation

9. **Shelf Life Days**:
   - Min 1, max 3650
   - Required if expiry_policy is "fixed" or "rolling"

10. **Min Stock / Max Stock**:
    - If both provided: min_stock <= max_stock
    - Show error on both fields if invalid

### Form-Level Validation (On Submit)
1. All required fields filled
2. All field-level validations passed
3. No duplicate SKU (final check)
4. Min stock <= Max stock
5. If expiry_policy != none, shelf_life_days required
6. If moq provided, must be > 0

### Edit Mode Warnings
1. **Version Increment**: Always show banner at top explaining version will increment
2. **Active BOMs**: If product has active BOMs, show count and warning about impact
3. **Status Change**: If changing to Inactive/Discontinued and active BOMs exist, show warning

---

## Permissions

| Role | Can Create | Can Edit | Can Edit All Fields |
|------|------------|----------|---------------------|
| Admin | Yes | All products | Yes |
| Production Manager | Yes | All products | Yes |
| Operator | No | No | No |
| Viewer | No | No | No |

---

## Accessibility

- **Touch targets**: All inputs and buttons >= 48x48dp
- **Labels**: All inputs have associated <label> tags
- **ARIA**: aria-required="true" for required fields, aria-invalid for errors
- **Focus management**: Focus first field on open, focus first error on validation fail
- **Keyboard**: Tab navigation, Enter to submit, Escape to cancel
- **Screen reader**: Error summary announced, field errors read with field
- **Nested modals**: Proper focus trap and z-index layering, return focus to parent modal on close

---

## Related Screens

- **TEC-001 Products List**: Returns here after create/edit
- **Supplier Create Modal**: Nested modal from [+ Add Supplier] (wireframe above)
- **Category Create Modal**: Nested modal from [+ Add New Category] (wireframe above)
- **Version History Panel**: Side panel from [View Version History] link (wireframe above)
- **PLAN-001 Supplier List**: Link from [Add & Open Full Form] in Supplier nested modal

---

## Technical Notes

- **API Create**: `POST /api/technical/products` with all fields (including lead_time_days, moq per ADR-010)
- **API Update**: `PUT /api/technical/products/:id` with changed fields
- **Version Increment**: Backend auto-increments version, creates version_history record with changed_fields JSONB
- **SKU Uniqueness**: Check via `GET /api/technical/products?code={sku}` debounced 300ms
- **GTIN-14 Validation**: Client-side check digit algorithm + server-side validation
- **Immutable Fields**: SKU and Type locked in edit mode (disabled inputs, locked icon)
- **Default Values**: status=active, version=1 (create only), expiry_policy=none, lead_time_days=7
- **Toast Notifications**: Success on create/edit, error on failure
- **Optimistic Updates**: Product list updated optimistically on success
- **Nested Modals**: Z-index management (base modal: 1000, nested modal: 1100, backdrop: 1050/1150)
- **Version History**: Fetched from product_version_history table, JSONB diff displayed

---

## API Schema (Zod Validation)

### Create Request
```typescript
{
  code: string().min(2).max(50).regex(/^[A-Z0-9-]+$/),
  name: string().min(2).max(255),
  description?: string().max(1000).nullable(),
  product_type_id: uuid(),
  base_uom: string(),
  barcode?: string().max(100).nullable(),
  gtin?: string().length(14).nullable(),
  category_id?: uuid().nullable(),

  // ADR-010: Product-level procurement fields
  lead_time_days?: number().int().min(0).max(365).default(7),
  moq?: decimal().positive().nullable(),  // Uses product UoM

  supplier_id?: uuid().nullable(),
  std_price?: decimal().min(0).nullable(),

  min_stock?: decimal().min(0).nullable(),
  max_stock?: decimal().min(0).nullable(),

  expiry_policy?: enum(['fixed', 'rolling', 'none']).default('none'),
  shelf_life_days?: number().int().min(1).max(3650).nullable(),
  storage_conditions?: string().max(500).nullable(),

  status: enum(['active', 'inactive']).default('active'),
}
```

### Update Request
```typescript
{
  // Same as Create, but code and product_type_id are readonly
  name?: string().min(2).max(255),
  description?: string().max(1000).nullable(),
  // ... all other fields optional

  // ADR-010 fields editable
  lead_time_days?: number().int().min(0).max(365),
  moq?: decimal().positive().nullable(),
}
```

### Response
```typescript
{
  id: uuid(),
  org_id: uuid(),
  code: string(),
  name: string(),
  version: number(),
  // ... all create fields ...
  lead_time_days: number(),  // ADR-010
  moq: decimal() | null,     // ADR-010
  created_at: timestamp(),
  updated_at: timestamp(),
  created_by: uuid(),
  updated_by: uuid(),
}
```

---

## Business Rules

1. **SKU Immutability**: Once created, product SKU cannot be changed (prevents breaking references)
2. **Type Immutability**: Product type cannot change after creation (prevents BOM/inventory issues)
3. **Version Auto-Increment**: Every edit creates new version (v1 â†’ v2 â†’ v3, etc.)
4. **Version History**: All changes logged to product_version_history with changed_fields JSONB
5. **Allergen Auto-Calc**: If product has active BOM, allergens are auto-calculated (not editable here)
6. **Status Impact**: Setting to Inactive/Discontinued requires manual BOM review (shown in warning)
7. **GTIN Optional**: GTIN-14 not required for internal/WIP products, recommended for finished goods
8. **Lead Time Default**: Products default to 7-day procurement lead time (ADR-010)
9. **MOQ Optional**: MOQ is optional, but if provided must be positive (ADR-010)
10. **UoM Consistency**: MOQ uses product's base UoM (auto-populated in dropdown)

---

## ADR-010 Impact: Lead Time and MOQ Migration

### What Changed
Per ADR-010, procurement fields moved from `suppliers` table to `products` table:

**Before (Supplier-Level):**
- `suppliers.lead_time_days` - One value for all products from this supplier
- `suppliers.moq` - One MOQ for all products from this supplier

**After (Product-Level):**
- `products.lead_time_days` - Each product has its own lead time (default: 7 days)
- `products.moq` - Each product has its own MOQ (optional, uses product UoM)

### Why It Matters
- **Granular Control**: Different products from same supplier can have different lead times/MOQs
- **Accurate MRP**: Material Requirements Planning uses correct per-product lead times
- **Multi-Supplier**: Same product from different suppliers maintains consistent procurement params

### UI Changes
1. **New Section**: "Procurement (ADR-010: Product-Level Fields)" added between Identification and Supplier Assignment
2. **Lead Time Field**: Moved to product level, default 7 days
3. **MOQ Field**: Now on product (uses product UoM), not supplier
4. **Supplier Section**: Simplified to just supplier assignment + standard price
5. **Validation**: MOQ must be positive if provided, uses product UoM

---

## GS1 Compliance

- **GTIN-14 Format**: 14 digits with valid check digit
- **Check Digit Algorithm**: Modulo 10 (GS1 standard)
- **Validation**: Client-side + server-side check
- **Help Link**: Tooltip with link to GS1 GTIN calculator/validator
- **Optional Field**: GTIN not mandatory (internal products don't need it)

---

## Error Messages

| Scenario | Message | Action |
|----------|---------|--------|
| Duplicate SKU | "SKU already exists in your organization" | Change SKU |
| Empty required field | "{Field name} is required" | Fill field |
| Invalid GTIN-14 | "Invalid GTIN-14 format (must be 14 digits with valid check digit)" | Fix GTIN or clear |
| Min > Max stock | "Minimum stock cannot be greater than maximum stock" | Adjust values |
| Shelf life missing | "Shelf life is required when expiry policy is set" | Fill shelf life or change policy |
| Lead time negative | "Lead time must be >= 0" | Enter valid lead time |
| MOQ zero or negative | "MOQ must be > 0 if provided" | Enter positive MOQ or clear |
| Network error | "Unable to save product. Please check your connection." | Retry |

---

**Status**: Auto-Approved (Updated per ADR-010)
**Approval Mode**: auto_approve
**User Approved**: true (explicit opt-in)
**Iterations**: 1 of 3 (Updated for ADR-010 schema migration)
**Quality Score**: 97% (Added ADR-010 fields + nested modals + version history panel)
