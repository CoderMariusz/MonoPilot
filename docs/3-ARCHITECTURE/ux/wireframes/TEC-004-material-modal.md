# TEC-004: Material Create/Edit Modal

**Module**: Technical
**Feature**: Material Management (Raw Materials)
**Status**: Auto-Approved
**Completion**: 95%+
**Last Updated**: 2025-12-14

---

## ASCII Wireframe

### Success State (Create Mode)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X] Create Material                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  â„¹ï¸ Materials are raw materials (RM) purchased from suppliers. For other     â”‚
â”‚     product types, use the Products section.              [Create Product â†’] â”‚
â”‚                                                                               â”‚
â”‚  Basic Information                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Material Code *                                                              â”‚
â”‚  [RM-                           ]  â„¹ï¸ Immutable after creation. Use RM-      â”‚
â”‚                                       prefix for consistency.                 â”‚
â”‚                                                                               â”‚
â”‚  Material Name *                                                              â”‚
â”‚  [                              ]                                             â”‚
â”‚                                                                               â”‚
â”‚  Description                                                                  â”‚
â”‚  [                                                          ]                 â”‚
â”‚  [                                                          ]                 â”‚
â”‚                                                                               â”‚
â”‚  Product Type                                                                 â”‚
â”‚  [Raw Material (RM)            ]  ğŸ”’ Locked for materials                    â”‚
â”‚                                                                               â”‚
â”‚  Base Unit of Measure (UoM) *                                                 â”‚
â”‚  [ Select UoM...               â–¼]  or [+ Add Custom UoM]                     â”‚
â”‚    - kg, L, pcs, ton, g, ml, m, mÂ²                                            â”‚
â”‚                                                                               â”‚
â”‚  Category                                                                     â”‚
â”‚  [ Select category...          â–¼]  or [+ Add New Category]                   â”‚
â”‚    - Flour & Grains, Dairy, Seasonings, Oils & Fats, Packaging, etc.         â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Supplier & Procurement *                                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Primary Supplier *                                                           â”‚
â”‚  [ Select supplier...          â–¼]  or [+ Add New Supplier]                   â”‚
â”‚                                                                               â”‚
â”‚  Supplier Lead Time (days) *        Minimum Order Quantity (MOQ) *            â”‚
â”‚  [                 ]                [                 ]  [kg         â–¼]       â”‚
â”‚                                                                               â”‚
â”‚  Standard Purchase Price            Currency                                  â”‚
â”‚  [                 ]                [USD            â–¼]                        â”‚
â”‚                                                                               â”‚
â”‚  Supplier Part Number               Alternative Suppliers                    â”‚
â”‚  [                 ]                [+ Add Alternative Supplier]              â”‚
â”‚                                     (Optional: for multi-source procurement)  â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Inventory & Stock Control                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Minimum Stock Level *              Maximum Stock Level                       â”‚
â”‚  [                 ]  [kg      â–¼]   [                 ]  [kg      â–¼]         â”‚
â”‚  â„¹ï¸ Used for auto-reorder alerts    â„¹ï¸ Warehouse capacity limit              â”‚
â”‚                                                                               â”‚
â”‚  Reorder Point                      Reorder Quantity                          â”‚
â”‚  [                 ]  [kg      â–¼]   [                 ]  [kg      â–¼]         â”‚
â”‚  â„¹ï¸ Trigger PO when stock drops     â„¹ï¸ Default qty for auto-PO               â”‚
â”‚     below this level                                                          â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Identification & Barcodes                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Internal Barcode                                                             â”‚
â”‚  [                              ]  â„¹ï¸ For warehouse scanning                 â”‚
â”‚                                                                               â”‚
â”‚  GTIN-14 (GS1 Barcode)                                                        â”‚
â”‚  [                              ]  â„¹ï¸ Optional for raw materials             â”‚
â”‚                                    Format: 12345678901234 (14 digits)         â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Shelf Life & Storage *                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Expiry Policy *                                                              â”‚
â”‚  [ Select policy...            â–¼]                                             â”‚
â”‚    - Fixed (from production date) - rare for RM                               â”‚
â”‚    - Rolling (from receipt date) - recommended for RM                         â”‚
â”‚    - None (no expiry)                                                         â”‚
â”‚                                                                               â”‚
â”‚  Shelf Life (days) *                                                          â”‚
â”‚  [                 ]  â„¹ï¸ Days from receipt to expiry (for FEFO picking)       â”‚
â”‚                                                                               â”‚
â”‚  Storage Conditions *                                                         â”‚
â”‚  [                                                          ]                 â”‚
â”‚  [                                                          ]                 â”‚
â”‚  Example: "Store at 2-8Â°C", "Keep frozen below -18Â°C", "Dry place (RH<60%)"  â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Allergen Declaration                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  â„¹ï¸ Declare allergens present in this material. These will auto-propagate    â”‚
â”‚     to finished goods via BOM inheritance.                                    â”‚
â”‚                                                                               â”‚
â”‚  Contains Allergens:                                                          â”‚
â”‚  â˜ Gluten          â˜ Crustaceans   â˜ Eggs           â˜ Fish                   â”‚
â”‚  â˜ Peanuts         â˜ Soybeans      â˜ Milk           â˜ Nuts                   â”‚
â”‚  â˜ Celery          â˜ Mustard       â˜ Sesame         â˜ Sulphites              â”‚
â”‚  â˜ Lupin           â˜ Molluscs                                                 â”‚
â”‚                                                                               â”‚
â”‚  May Contain Allergens (Cross-contamination risk):                            â”‚
â”‚  â˜ Gluten          â˜ Crustaceans   â˜ Eggs           â˜ Fish                   â”‚
â”‚  â˜ Peanuts         â˜ Soybeans      â˜ Milk           â˜ Nuts                   â”‚
â”‚  â˜ Celery          â˜ Mustard       â˜ Sesame         â˜ Sulphites              â”‚
â”‚  â˜ Lupin           â˜ Molluscs                                                 â”‚
â”‚                                                                               â”‚
â”‚  [Clear All Allergens]                                                        â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Quality & Compliance (Optional)                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  â˜ Organic Certified                Certificate Number:                      â”‚
â”‚                                      [                    ]                   â”‚
â”‚                                                                               â”‚
â”‚  â˜ Kosher Certified                 Certificate Number:                      â”‚
â”‚                                      [                    ]                   â”‚
â”‚                                                                               â”‚
â”‚  â˜ Halal Certified                  Certificate Number:                      â”‚
â”‚                                      [                    ]                   â”‚
â”‚                                                                               â”‚
â”‚  â˜ GMO-Free                                                                   â”‚
â”‚                                                                               â”‚
â”‚  â˜ Gluten-Free Certified                                                      â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Status                                                                       â”‚
â”‚  (â€¢) Active   ( ) Inactive                                                    â”‚
â”‚                                                                               â”‚
â”‚                                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      [Cancel]  [Create Material]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

* Required fields
```

### Success State (Edit Mode)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X] Edit Material - RM-001 (Wheat Flour)                   Version: v1      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  âš ï¸ Editing this material will create version v2. Changes will not affect    â”‚
â”‚     existing BOMs or Work Orders.                     [View Version History] â”‚
â”‚                                                                               â”‚
â”‚  Basic Information                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Material Code *                                                              â”‚
â”‚  [RM-001                        ]  ğŸ”’ Locked (immutable)                     â”‚
â”‚                                                                               â”‚
â”‚  Material Name *                                                              â”‚
â”‚  [Wheat Flour                   ]                                             â”‚
â”‚                                                                               â”‚
â”‚  Description                                                                  â”‚
â”‚  [Premium organic wheat flour                           ]                    â”‚
â”‚  [stone-ground, high protein content                    ]                    â”‚
â”‚                                                                               â”‚
â”‚  Product Type                                                                 â”‚
â”‚  [Raw Material (RM)            ]  ğŸ”’ Locked (cannot change type)             â”‚
â”‚                                                                               â”‚
â”‚  Base Unit of Measure (UoM) *                                                 â”‚
â”‚  [kg                           â–¼]                                             â”‚
â”‚                                                                               â”‚
â”‚  Category                                                                     â”‚
â”‚  [Flour & Grains               â–¼]                                             â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Supplier & Procurement                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Primary Supplier *                                                           â”‚
â”‚  [ABC Mills                    â–¼]                                             â”‚
â”‚                                                                               â”‚
â”‚  Supplier Lead Time (days) *        Minimum Order Quantity (MOQ) *            â”‚
â”‚  [7                ]                [500              ]  [kg         â–¼]       â”‚
â”‚                                                                               â”‚
â”‚  Standard Purchase Price            Currency                                  â”‚
â”‚  [1.50             ]                [USD            â–¼]                        â”‚
â”‚                                                                               â”‚
â”‚  Supplier Part Number               Alternative Suppliers                    â”‚
â”‚  [ABC-WF-500                ]       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                                     â”‚ â€¢ XYZ Mills                         â”‚  â”‚
â”‚                                     â”‚   Lead: 10 days â€¢ MOQ: 1000 kg      â”‚  â”‚
â”‚                                     â”‚   Price: $1.45/kg                   â”‚  â”‚
â”‚                                     â”‚   [Edit] [Remove]                   â”‚  â”‚
â”‚                                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚                                     â”‚ â€¢ Premium Grains Co                 â”‚  â”‚
â”‚                                     â”‚   Lead: 5 days â€¢ MOQ: 500 kg        â”‚  â”‚
â”‚                                     â”‚   Price: $1.60/kg (Organic)         â”‚  â”‚
â”‚                                     â”‚   [Edit] [Remove]                   â”‚  â”‚
â”‚                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                     [+ Add Alternative Supplier]              â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Inventory & Stock Control                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Minimum Stock Level *              Maximum Stock Level                       â”‚
â”‚  [200              ]  [kg      â–¼]   [2000             ]  [kg      â–¼]         â”‚
â”‚                                                                               â”‚
â”‚  Reorder Point                      Reorder Quantity                          â”‚
â”‚  [300              ]  [kg      â–¼]   [500              ]  [kg      â–¼]         â”‚
â”‚                                                                               â”‚
â”‚  ğŸ“Š Current Stock: 500 kg           Last Received: 2025-12-08 (3 days ago)   â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Identification & Barcodes                                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Internal Barcode                                                             â”‚
â”‚  [WF-001                        ]                                             â”‚
â”‚                                                                               â”‚
â”‚  GTIN-14 (GS1 Barcode)                                                        â”‚
â”‚  [12345678901234                ]  âœ“ Valid GTIN-14                           â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Shelf Life & Storage                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Expiry Policy *                                                              â”‚
â”‚  [Rolling (from receipt)       â–¼]                                             â”‚
â”‚                                                                               â”‚
â”‚  Shelf Life (days) *                                                          â”‚
â”‚  [180              ]  â„¹ï¸ 6 months from receipt                                â”‚
â”‚                                                                               â”‚
â”‚  Storage Conditions *                                                         â”‚
â”‚  [Store in cool, dry place (15-25Â°C)                    ]                    â”‚
â”‚  [Relative humidity <60%. Keep away from moisture.      ]                    â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Allergen Declaration                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Contains Allergens:                                                          â”‚
â”‚  â˜‘ Gluten          â˜ Crustaceans   â˜ Eggs           â˜ Fish                   â”‚
â”‚  â˜ Peanuts         â˜ Soybeans      â˜ Milk           â˜ Nuts                   â”‚
â”‚  â˜ Celery          â˜ Mustard       â˜ Sesame         â˜ Sulphites              â”‚
â”‚  â˜ Lupin           â˜ Molluscs                                                 â”‚
â”‚                                                                               â”‚
â”‚  May Contain Allergens:                                                       â”‚
â”‚  â˜ (none selected)                                                            â”‚
â”‚                                                                               â”‚
â”‚  âš ï¸ This material is used in 5 BOMs. Allergen changes will trigger BOM       â”‚
â”‚     recalculation.                                      [View Affected BOMs]  â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Quality & Compliance                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  â˜‘ Organic Certified                Certificate Number:                      â”‚
â”‚                                      [USDA-ORG-2024-1234 ]                    â”‚
â”‚                                      â„¹ï¸ Upload cert: [Browse] (PDF, max 5MB) â”‚
â”‚                                      ğŸ“„ Current: organic-cert-2024.pdf [View] â”‚
â”‚                                                                               â”‚
â”‚  â˜ Kosher Certified                                                           â”‚
â”‚  â˜ Halal Certified                                                            â”‚
â”‚  â˜‘ GMO-Free                                                                   â”‚
â”‚  â˜ Gluten-Free Certified            (Cannot be gluten-free if contains        â”‚
â”‚                                      gluten allergen)                         â”‚
â”‚                                                                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Status                                                                       â”‚
â”‚  (â€¢) Active   ( ) Inactive                                                    â”‚
â”‚                                                                               â”‚
â”‚                                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      [Cancel]  [Save Changes (v1 â†’ v2)]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Alternative Suppliers Section (Expanded Detail)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Alternative Suppliers                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Supplier 1: XYZ Mills                              [â‹®] â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ Lead Time: 10 days                                    â”‚ â”‚
â”‚  â”‚ MOQ: 1000 kg                                          â”‚ â”‚
â”‚  â”‚ Price: $1.45/kg                                       â”‚ â”‚
â”‚  â”‚ Supplier Part Number: XYZ-WF-1000                     â”‚ â”‚
â”‚  â”‚ Notes: Backup supplier for high-volume orders        â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ Last Order: 2025-11-20 (1000 kg)                      â”‚ â”‚
â”‚  â”‚ Reliability: â˜…â˜…â˜…â˜…â˜† (4.2/5.0 - 15 orders)             â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚                            [Edit Details] [Remove]    â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Supplier 2: Premium Grains Co                      [â‹®] â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ Lead Time: 5 days                                     â”‚ â”‚
â”‚  â”‚ MOQ: 500 kg                                           â”‚ â”‚
â”‚  â”‚ Price: $1.60/kg                                       â”‚ â”‚
â”‚  â”‚ Supplier Part Number: PGC-ORG-WHEAT-500               â”‚ â”‚
â”‚  â”‚ Notes: Organic certified, premium quality            â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ Last Order: 2025-12-05 (500 kg)                       â”‚ â”‚
â”‚  â”‚ Reliability: â˜…â˜…â˜…â˜…â˜… (4.9/5.0 - 8 orders)              â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚                            [Edit Details] [Remove]    â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  [+ Add Alternative Supplier]                               â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[â‹®] Menu:
  - Set as Primary Supplier
  - Edit Supplier Details
  - View Order History
  - View Performance Metrics
  - Remove from Alternatives
```

### Add Alternative Supplier Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Add Alternative Supplier                          [X]      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  Supplier *                                                 â”‚
â”‚  [Select supplier...                               â–¼]       â”‚
â”‚  or [+ Create New Supplier]                                 â”‚
â”‚                                                             â”‚
â”‚  Supplier Lead Time (days) *                                â”‚
â”‚  [10_______________]  â„¹ï¸ Delivery time from this supplier   â”‚
â”‚                                                             â”‚
â”‚  Minimum Order Quantity (MOQ) *                             â”‚
â”‚  [1000______________]  [kg                         â–¼]       â”‚
â”‚                                                             â”‚
â”‚  Price per Unit                                             â”‚
â”‚  [1.45______________]  [USD                        â–¼]       â”‚
â”‚                                                             â”‚
â”‚  Supplier Part Number                                       â”‚
â”‚  [XYZ-WF-1000_______________________________________]       â”‚
â”‚                                                             â”‚
â”‚  Priority                                                   â”‚
â”‚  ( ) Primary (will replace current primary supplier)        â”‚
â”‚  (â€¢) Secondary                                              â”‚
â”‚  ( ) Tertiary (backup only)                                 â”‚
â”‚                                                             â”‚
â”‚  Notes (Optional)                                           â”‚
â”‚  [Backup supplier for high-volume orders____________]       â”‚
â”‚  [________________________________________________]         â”‚
â”‚                                                             â”‚
â”‚  â„¹ï¸ This supplier will be available for multi-source        â”‚
â”‚     procurement and automatic failover in case primary      â”‚
â”‚     supplier is unavailable.                                â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    [Cancel]  [Add Supplier] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Affected BOMs Panel (Side Panel)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Affected BOMs: RM-001 Wheat Flour               [X]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  âš ï¸ Allergen changes will trigger recalculation for all     â”‚
â”‚     BOMs using this material. Review impact before saving.  â”‚
â”‚                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚  ALLERGEN IMPACT SUMMARY                                    â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚                                                             â”‚
â”‚  Current: Contains Gluten                                   â”‚
â”‚  Proposed: Contains Gluten (no change)                      â”‚
â”‚                                                             â”‚
â”‚  If allergen changes:                                       â”‚
â”‚  â€¢ 5 BOMs will be recalculated                              â”‚
â”‚  â€¢ 3 finished goods labels must be updated                  â”‚
â”‚  â€¢ 2 products have active work orders in progress           â”‚
â”‚                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚  AFFECTED BOMS (5 total)                                    â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚                                                             â”‚
â”‚  [Active BOMs (5)] [All BOMs (12)]                          â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ FG-BREAD-WHITE v5                                     â”‚ â”‚
â”‚  â”‚ White Bread Loaf 800g                                 â”‚ â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚ Uses: 500g per unit                                   â”‚ â”‚
â”‚  â”‚ Current Allergens: Gluten, Milk, Eggs                 â”‚ â”‚
â”‚  â”‚ âš ï¸ Active Work Orders: WO-2025-0047 (200 units)       â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ [View BOM â†’]  [View Work Orders â†’]                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ FG-BREAD-WHEAT v3                                     â”‚ â”‚
â”‚  â”‚ Whole Wheat Bread 1kg                                 â”‚ â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚ Uses: 750g per unit                                   â”‚ â”‚
â”‚  â”‚ Current Allergens: Gluten, Sesame                     â”‚ â”‚
â”‚  â”‚ âš ï¸ Active Work Orders: WO-2025-0051 (150 units)       â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ [View BOM â†’]  [View Work Orders â†’]                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ FG-CAKE-VANILLA v2                                    â”‚ â”‚
â”‚  â”‚ Vanilla Sponge Cake 500g                              â”‚ â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚
â”‚  â”‚ Uses: 200g per unit                                   â”‚ â”‚
â”‚  â”‚ Current Allergens: Gluten, Milk, Eggs                 â”‚ â”‚
â”‚  â”‚ No active work orders                                 â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ [View BOM â†’]                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  ... 2 more BOMs                                            â”‚
â”‚  [Show All Affected BOMs]                                   â”‚
â”‚                                                             â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚  ACTIONS AFTER SAVE                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”‚
â”‚                                                             â”‚
â”‚  System will automatically:                                 â”‚
â”‚  âœ“ Recalculate allergens for 5 BOMs                         â”‚
â”‚  âœ“ Update allergen cache                                    â”‚
â”‚  âœ“ Trigger label regeneration notification                  â”‚
â”‚  âš ï¸ Notify production team of allergen changes              â”‚
â”‚                                                             â”‚
â”‚  Manual actions required:                                   â”‚
â”‚  â€¢ Review and regenerate product labels                     â”‚
â”‚  â€¢ Update customer allergen information                     â”‚
â”‚  â€¢ Review in-progress work orders                           â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          [Close]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Quality Certifications Section (Expanded Detail with Validation)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Quality & Compliance                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â˜‘ Organic Certified                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Certificate Number *                                  â”‚ â”‚
â”‚  â”‚ [USDA-ORG-2024-1234_____________________________]     â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ Certifying Body                                       â”‚ â”‚
â”‚  â”‚ [USDA Organic                                  â–¼]     â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ Issue Date        Expiry Date                         â”‚ â”‚
â”‚  â”‚ [2024-01-15 â–¼]    [2025-01-14 â–¼]                      â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ Certificate Document                                  â”‚ â”‚
â”‚  â”‚ ğŸ“„ organic-cert-2024.pdf (2.3 MB)                     â”‚ â”‚
â”‚  â”‚ Uploaded: 2024-01-16 by John Doe                      â”‚ â”‚
â”‚  â”‚ [View] [Download] [Replace]                           â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ âš ï¸ Certificate expires in 31 days (2025-01-14)        â”‚ â”‚
â”‚  â”‚    [Set Renewal Reminder]                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â˜‘ Kosher Certified                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Certificate Number *                                  â”‚ â”‚
â”‚  â”‚ [OK-2024-567_____________________________________]     â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ Certifying Body                                       â”‚ â”‚
â”‚  â”‚ [Orthodox Union (OU)                           â–¼]     â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ Issue Date        Expiry Date                         â”‚ â”‚
â”‚  â”‚ [2024-03-01 â–¼]    [2025-02-28 â–¼]                      â”‚ â”‚
â”‚  â”‚                                                       â”‚ â”‚
â”‚  â”‚ Certificate Document                                  â”‚ â”‚
â”‚  â”‚ [Browse...] or drag & drop PDF (max 5 MB)            â”‚ â”‚
â”‚  â”‚ â„¹ï¸ No document uploaded yet                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚  â˜ Halal Certified                                          â”‚
â”‚                                                             â”‚
â”‚  â˜‘ GMO-Free                                                 â”‚
â”‚  â„¹ï¸ No certification required. Declaration only.            â”‚
â”‚                                                             â”‚
â”‚  â˜ Gluten-Free Certified                                    â”‚
â”‚  âŒ Cannot be gluten-free if "Contains: Gluten" declared    â”‚
â”‚     Uncheck "Contains: Gluten" allergen first.              â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Loading State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X] Create Material                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚                          [â³ Icon]                                            â”‚
â”‚                                                                               â”‚
â”‚                      Creating Material...                                     â”‚
â”‚                                                                               â”‚
â”‚       Please wait while we save your material information.                    â”‚
â”‚                                                                               â”‚
â”‚                          [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 80%                                     â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Error State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [X] Create Material                                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  âš ï¸ Unable to create material. Please fix the following errors:              â”‚
â”‚                                                                               â”‚
â”‚  Basic Information                                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Material Code *                                                              â”‚
â”‚  [RM-001                        ]  âŒ Material code already exists            â”‚
â”‚                                                                               â”‚
â”‚  Material Name *                                                              â”‚
â”‚  [                              ]  âŒ Material name is required               â”‚
â”‚                                                                               â”‚
â”‚  (... other fields ...)                                                       â”‚
â”‚                                                                               â”‚
â”‚  Supplier & Procurement                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                                                                               â”‚
â”‚  Primary Supplier *                                                           â”‚
â”‚  [ Select supplier...          â–¼]  âŒ Supplier is required for materials     â”‚
â”‚                                                                               â”‚
â”‚  Supplier Lead Time (days) *                                                  â”‚
â”‚  [                 ]                âŒ Lead time is required                  â”‚
â”‚                                                                               â”‚
â”‚  Minimum Order Quantity (MOQ) *                                               â”‚
â”‚  [                 ]                âŒ MOQ is required                        â”‚
â”‚                                                                               â”‚
â”‚  (... rest of form ...)                                                       â”‚
â”‚                                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                      [Cancel]  [Create Material]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Key Components

1. **Modal Container** - Width: lg (800px), max-height: 90vh, scrollable body
2. **Info Banner** - Blue banner explaining material scope, link to create product
3. **Section Headers** - Collapsible sections for field organization
4. **Form Fields** - Text inputs, dropdowns, textareas, checkboxes, radio buttons
5. **Required Indicators** - Red asterisk (*) for mandatory fields
6. **Help Icons** - â„¹ï¸ tooltip for field explanations
7. **Locked Fields** - ğŸ”’ icon for immutable fields (Code, Type in edit mode)
8. **Validation Icons** - âœ“ valid, âŒ error with message
9. **Warning Banners** - Yellow alert for version increment, BOM impact, allergen changes
10. **Allergen Checkboxes** - 14 EU mandatory allergens in grid layout
11. **Current Stock Display** - Read-only info in edit mode
12. **Alternative Suppliers List** - Dynamic card list with supplier details, stats, actions
13. **Quality Certifications** - Expandable cert details with document upload, expiry tracking
14. **Affected BOMs Panel** - Side panel showing BOM impact, allergen recalculation preview
15. **Action Buttons** - Cancel (secondary), Create/Save (primary)

---

## Main Actions

### Primary
- **[Create Material]** (Create mode) - Validates form, creates product with type=RM and version 1, closes modal, shows success toast, refreshes material list
- **[Save Changes]** (Edit mode) - Validates form, increments version, creates version history record, recalculates BOM allergens if allergens changed, closes modal, shows success toast

### Secondary
- **[Cancel]** - Checks for unsaved changes, shows confirmation if dirty, closes modal
- **[X]** (Close button) - Same as Cancel
- **[View Version History]** (Edit mode) - Opens side panel with version timeline without closing modal
- **[View Affected BOMs]** (Edit mode) - Opens Affected BOMs Panel (side panel) with allergen impact analysis
- **[+ Add Custom UoM]** - Opens mini-modal to create custom unit of measure
- **[+ Add New Category]** - Opens mini-modal to create product category
- **[+ Add New Supplier]** - Opens supplier create modal (nested modal)
- **[+ Add Alternative Supplier]** - Opens Add Alternative Supplier Modal with supplier selection, lead time, MOQ, price, priority
- **[Edit Details]** (Alternative supplier) - Opens edit modal for supplier details
- **[Remove]** (Alternative supplier) - Confirmation dialog, removes from alternatives list
- **[Set as Primary Supplier]** (Alternative supplier) - Confirmation dialog, swaps primary/alternative
- **[Clear All Allergens]** - Unchecks all allergen checkboxes
- **[Browse]** / Drag-drop (Certification upload) - File picker for PDF certs (max 5MB)
- **[View]** / **[Download]** / **[Replace]** (Certification document) - Document management actions
- **[Set Renewal Reminder]** (Certification) - Sets calendar reminder for cert expiry

---

## States

- **Loading**: Form disabled, progress bar, "Creating/Updating Material..." message
- **Empty**: N/A (modal always has form)
- **Error**: Error banner at top, inline field errors (red border + message below field), focus on first error
- **Success**: Form with all fields, validation on blur, submit button enabled when valid

---

## Data Fields (All Material-Specific Fields)

### Basic Information (Required Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| code | string | Yes | Unique per org, 2-50 chars, suggest RM- prefix | Immutable after creation |
| name | string | Yes | 2-255 chars | |
| description | text | No | Max 1000 chars | Multiline |
| product_type_id | UUID | Yes | Locked to "Raw Material (RM)" | Immutable, auto-set |
| base_uom | string | Yes | Must be valid UoM | kg, L, pcs, etc. |
| category_id | UUID | No | Must exist if provided | Material category |

### Supplier & Procurement (Required Section for Materials)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| supplier_id | UUID | Yes* | Must exist | *Required for materials |
| supplier_lead_time_days | integer | Yes* | Min 0, max 365 | *Required for materials |
| moq | decimal | Yes* | Min 0, max 15,4 decimals | *Required for materials |
| std_price | decimal | No | Min 0, max 15,4 decimals | Standard purchase price |
| supplier_part_number | string | No | Max 100 chars | Supplier's SKU |
| alternative_suppliers | array | No | Array of: supplier_id, lead_time, moq, price, priority, notes, reliability_score | Multi-source procurement |

### Inventory & Stock Control (Required Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| min_stock | decimal | Yes* | Min 0, max 15,4 decimals | *Recommended for materials |
| max_stock | decimal | No | Min 0, must be >= min_stock | Warehouse capacity |
| reorder_point | decimal | No | Min 0, typically > min_stock | Trigger for auto-PO |
| reorder_quantity | decimal | No | Min 0, typically >= MOQ | Default PO quantity |

### Identification & Barcodes (Optional Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| barcode | string | No | Max 100 chars | Internal warehouse barcode |
| gtin | string | No | Exactly 14 digits, valid check digit | Optional for RM |

### Shelf Life & Storage (Required Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| expiry_policy | enum | Yes* | fixed, rolling, none | *Recommended "rolling" for RM |
| shelf_life_days | integer | Yes* | Min 1, max 3650 | *Required if policy != none |
| storage_conditions | text | Yes* | Max 500 chars | *Critical for quality/safety |

### Allergen Declaration (Optional Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| allergens_contains | array | No | Array of allergen_id (14 EU allergens) | "Contains" declaration |
| allergens_may_contain | array | No | Array of allergen_id (14 EU allergens) | "May contain" (cross-contam) |

### Quality & Compliance (Optional Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| is_organic | boolean | No | Default: false | Organic certified |
| organic_cert_number | string | No | Max 100 chars | Required if is_organic=true |
| organic_cert_body | string | No | Max 200 chars | Certifying organization |
| organic_cert_issue_date | date | No | Must be <= today | Certificate issue date |
| organic_cert_expiry_date | date | No | Must be > issue_date | Certificate expiry date |
| organic_cert_document_url | string | No | Valid URL (S3/storage) | Uploaded PDF document |
| is_kosher | boolean | No | Default: false | Kosher certified |
| kosher_cert_number | string | No | Max 100 chars | Required if is_kosher=true |
| kosher_cert_body | string | No | Max 200 chars | OU, OK, Star-K, etc. |
| kosher_cert_issue_date | date | No | | |
| kosher_cert_expiry_date | date | No | | |
| kosher_cert_document_url | string | No | | |
| is_halal | boolean | No | Default: false | Halal certified |
| halal_cert_number | string | No | Max 100 chars | Required if is_halal=true |
| halal_cert_body | string | No | | |
| halal_cert_issue_date | date | No | | |
| halal_cert_expiry_date | date | No | | |
| halal_cert_document_url | string | No | | |
| is_gmo_free | boolean | No | Default: false | GMO-free (declaration only) |
| is_gluten_free_cert | boolean | No | Default: false | Gluten-free certified |

### Status (Required Section)
| Field | Type | Required | Validation | Notes |
|-------|------|----------|------------|-------|
| status | enum | Yes | active, inactive | Default: active |

### Hidden/Auto Fields (Not in Form)
- **org_id**: Auto-set from current user's organization
- **version**: Auto-set to 1 on create, auto-incremented on edit
- **created_at**: Auto-timestamp
- **updated_at**: Auto-timestamp
- **created_by**: Auto-set from current user
- **updated_by**: Auto-set from current user
- **current_stock**: Display-only in edit mode (from warehouse module)

---

## Validation Rules

### Field-Level Validation (On Blur)
1. **Material Code**:
   - Required, 2-50 chars
   - Alphanumeric + dash only (regex: `^[A-Z0-9-]+$`)
   - Unique check via API debounced call
   - Show "Material code already exists" error if duplicate
   - Suggest RM- prefix for consistency

2. **Material Name**:
   - Required, 2-255 chars

3. **Product Type**:
   - Locked to "Raw Material (RM)" (auto-set, immutable)

4. **Base UoM**:
   - Required

5. **Supplier**:
   - Required for materials (enforced)
   - Show error if not selected

6. **Lead Time**:
   - Required for materials
   - Min 0, max 365 days
   - Integer only

7. **MOQ**:
   - Required for materials
   - Min 0, decimal allowed

8. **Min Stock / Max Stock**:
   - Min stock recommended (show info if empty)
   - If both provided: min_stock <= max_stock
   - Show error on both fields if invalid

9. **Reorder Point / Reorder Quantity**:
   - Optional
   - If reorder_point set, should be > min_stock (warning, not error)
   - If reorder_quantity set, should be >= MOQ (warning, not error)

10. **GTIN-14**:
    - Optional for RM
    - If provided: exactly 14 digits, check digit validation

11. **Expiry Policy**:
    - Recommended for materials (show info if "none" selected)
    - Default to "rolling" for RM

12. **Shelf Life Days**:
    - Required if expiry_policy != none
    - Min 1, max 3650

13. **Storage Conditions**:
    - Strongly recommended for materials (show warning if empty)
    - Max 500 chars

14. **Allergen Declaration**:
    - Optional but important
    - Cannot select same allergen in both "contains" and "may contain"
    - Show validation error if overlap

15. **Quality Certifications**:
    - If certification checkbox checked, cert number required (conditional validation)
    - If certification checkbox checked with cert number, issue_date and expiry_date recommended
    - Expiry date must be > issue date
    - Warning if expiry date < 60 days from today
    - Cannot be gluten-free certified if "Contains: Gluten" is checked
    - Document upload: PDF only, max 5MB

16. **Alternative Suppliers**:
    - Each supplier must have: lead_time (0-365), moq (> 0), price (optional)
    - Supplier cannot be same as primary supplier
    - Cannot have duplicate alternative suppliers
    - Priority must be unique (no two "Primary" alternatives)

### Form-Level Validation (On Submit)
1. All required fields filled (including material-specific required fields)
2. All field-level validations passed
3. No duplicate material code (final check)
4. Min stock <= Max stock
5. Supplier selected
6. Lead time and MOQ provided
7. If expiry_policy != none, shelf_life_days required
8. If certification checkbox checked, cert number provided
9. No allergen overlap between "contains" and "may contain"
10. No duplicate alternative suppliers
11. If allergen changed in edit mode: warning shown and user confirmed

### Edit Mode Warnings
1. **Version Increment**: Always show banner at top explaining version will increment
2. **BOM Impact**: If material used in BOMs, show count and warning, link to Affected BOMs Panel
3. **Allergen Changes**: If allergens changed and material in BOMs, show warning about BOM recalculation with link to affected BOMs + impact analysis
4. **Status Change**: If changing to Inactive/Discontinued and material in active BOMs, show warning
5. **Certification Expiry**: If cert expires < 60 days, show warning with renewal reminder option

---

## Permissions

| Role | Can Create | Can Edit | Can Edit All Fields |
|------|------------|----------|---------------------|
| Admin | Yes | All materials | Yes |
| Production Manager | Yes | All materials | Yes |
| Operator | No | No | No |
| Viewer | No | No | No |

---

## Accessibility

- **Touch targets**: All inputs and buttons >= 48x48dp
- **Labels**: All inputs have associated <label> tags
- **ARIA**: aria-required="true" for required fields, aria-invalid for errors
- **Focus management**: Focus first field on open, focus first error on validation fail
- **Keyboard**: Tab navigation, Enter to submit, Escape to cancel, Space to toggle checkboxes
- **Screen reader**: Error summary announced, field errors read with field, allergen checkboxes in fieldset with legend
- **File upload**: Accessible drag-drop with keyboard alternative

---

## Related Screens

- **TEC-003 Materials List**: Returns here after create/edit
- **TEC-001 Products List**: Link from info banner navigates here
- **Supplier Create Modal**: Nested modal from [+ Add New Supplier]
- **Category Create Modal**: Nested modal from [+ Add New Category]
- **Version History Panel**: Side panel from [View Version History] link
- **Affected BOMs Panel**: Side panel from [View Affected BOMs] link showing allergen impact
- **Add Alternative Supplier Modal**: Nested modal from [+ Add Alternative Supplier]

---

## Technical Notes

- **API Create**: `POST /api/technical/products` with product_type=RM and all material fields
- **API Update**: `PUT /api/technical/products/:id` with changed fields
- **API (Alternative Suppliers)**: `POST /api/technical/products/:id/alternative-suppliers` â†’ add, `DELETE /:supplierId` â†’ remove
- **API (Certifications)**: `POST /api/technical/products/:id/certifications/:type/upload` â†’ upload cert document
- **API (Affected BOMs)**: `GET /api/technical/products/:id/affected-boms` â†’ returns BOM list with allergen impact
- **Version Increment**: Backend auto-increments version, creates version_history record
- **BOM Allergen Recalc**: If allergens changed, trigger async job to recalculate all BOMs using this material
- **Code Uniqueness**: Check via `GET /api/technical/products?code={code}` debounced 300ms
- **GTIN-14 Validation**: Client-side check digit algorithm + server-side validation
- **Immutable Fields**: Material code and type locked in edit mode
- **Default Values**: status=active, version=1, product_type=RM, expiry_policy=rolling (for RM)
- **Current Stock**: Fetched from warehouse module (license_plates aggregation), read-only display in edit mode
- **Alternative Suppliers**: Stored in `product_suppliers` table with is_primary flag, priority field, reliability_score (calculated from order history)
- **Quality Certifications**: Stored in `product_certifications` table with type, cert_number, cert_body, issue_date, expiry_date, document_url
- **Certification Upload**: Supabase Storage bucket: `certifications/{org_id}/{product_id}/{cert_type}/{filename}`
- **Certification Expiry Reminders**: Cron job checks expiry dates, sends notifications at 60/30/7 days before expiry
- **Toast Notifications**: Success on create/edit, error on failure, warning if allergens changed with BOM impact

---

## Business Rules

1. **Material Code Immutability**: Once created, material code cannot be changed
2. **Type Locked**: Product type locked to "Raw Material (RM)" for materials (cannot change)
3. **Supplier Required**: Unlike generic products, materials require a primary supplier
4. **Lead Time & MOQ Required**: Critical for MRP/procurement planning
5. **Min Stock Recommended**: Strong recommendation for reorder alerts (show info tooltip)
6. **Expiry Policy Recommended**: "Rolling" recommended for RM (from receipt date)
7. **Storage Conditions Critical**: Required for quality/safety (strong warning if empty)
8. **Allergen Auto-Propagation**: Material allergens auto-propagate to finished goods via BOM
9. **BOM Allergen Recalc**: Editing material allergens triggers BOM recalculation for all using BOMs
10. **Version History**: All changes logged with changed_fields JSONB
11. **Alternative Suppliers**: Optional multi-source procurement for supply chain resilience
    - Can set priority (Primary/Secondary/Tertiary)
    - Tracks reliability score from order history
    - Automatic failover in procurement if primary unavailable
    - Historical pricing and lead time data
12. **Quality Certifications**: Optional compliance tracking (organic, kosher, halal, GMO-free, gluten-free)
    - Requires certificate number when certified
    - Optional document upload (PDF, max 5MB)
    - Expiry tracking with renewal reminders
    - Cannot be gluten-free if contains gluten allergen
13. **Allergen Impact Analysis**: Shows affected BOMs, allergen recalculation preview, work order impact before saving changes

---

## GS1 Compliance

- **GTIN-14 Format**: 14 digits with valid check digit
- **Optional for RM**: GTIN not mandatory for raw materials (more common for finished goods)
- **Validation**: Client-side + server-side check digit verification
- **Help Link**: Tooltip with link to GS1 GTIN calculator/validator

---

## Material-Specific Features (vs Generic Product)

| Feature | Generic Product | Material (RM) |
|---------|----------------|---------------|
| **Supplier** | Optional | Required |
| **Lead Time** | Optional | Required |
| **MOQ** | Optional | Required |
| **Min Stock** | Optional | Strongly recommended |
| **Expiry Policy** | Optional | Recommended (rolling) |
| **Storage Conditions** | Optional | Critical (required) |
| **Allergen Declaration** | Optional | Important (propagates to FG) |
| **Quality Certifications** | Optional | Available with document upload, expiry tracking |
| **Alternative Suppliers** | Not available | Available with priority, reliability tracking |
| **Reorder Point/Qty** | Not available | Available |
| **Current Stock Display** | Not shown | Shown in edit mode |
| **GTIN-14** | Optional | Optional (less common) |
| **Affected BOMs Panel** | Not available | Available with allergen impact analysis |

---

## Error Messages

| Scenario | Message | Action |
|----------|---------|--------|
| Duplicate code | "Material code already exists in your organization" | Change code |
| Empty required field | "{Field name} is required" | Fill field |
| No supplier | "Primary supplier is required for materials" | Select supplier |
| No lead time | "Supplier lead time is required" | Fill lead time |
| No MOQ | "Minimum order quantity (MOQ) is required" | Fill MOQ |
| Invalid GTIN-14 | "Invalid GTIN-14 format (must be 14 digits with valid check digit)" | Fix GTIN or clear |
| Min > Max stock | "Minimum stock cannot be greater than maximum stock" | Adjust values |
| Allergen overlap | "Allergen cannot be in both 'Contains' and 'May contain' lists" | Choose one |
| Cert missing | "{Certification type} certificate number is required when certified" | Fill cert number |
| Gluten conflict | "Cannot be gluten-free certified if 'Contains: Gluten' is declared" | Uncheck one |
| Shelf life missing | "Shelf life is required when expiry policy is set" | Fill shelf life or change policy |
| Cert file too large | "Certificate file exceeds 5MB maximum size" | Compress or use smaller file |
| Cert invalid format | "Certificate must be PDF format" | Upload PDF file |
| Cert expiry < issue | "Expiry date must be after issue date" | Fix dates |
| Duplicate alt supplier | "Supplier already added as alternative" | Select different supplier |
| Alt supplier is primary | "Cannot add primary supplier as alternative" | Select different supplier |
| Network error | "Unable to save material. Please check your connection." | Retry |

---

## Warnings (Non-blocking)

| Scenario | Warning Message | Recommendation |
|----------|-----------------|----------------|
| No min stock | "â„¹ï¸ Minimum stock level recommended for reorder alerts" | Set min stock |
| Expiry policy none | "â„¹ï¸ Expiry policy 'Rolling' recommended for raw materials" | Change to rolling |
| No storage conditions | "âš ï¸ Storage conditions are critical for material quality and safety" | Add storage info |
| Reorder point < min stock | "â„¹ï¸ Reorder point typically set above minimum stock level" | Adjust reorder point |
| Reorder qty < MOQ | "â„¹ï¸ Reorder quantity should typically be >= MOQ" | Adjust reorder qty |
| Allergen change with BOMs | "âš ï¸ This material is used in 5 BOMs. Allergen changes will trigger BOM recalculation. [View Affected BOMs]" | Review affected BOMs |
| Cert expiry soon | "âš ï¸ Certificate expires in 31 days (2025-01-14) [Set Renewal Reminder]" | Renew certificate |
| No cert document | "â„¹ï¸ No certificate document uploaded. Upload recommended for audit trail." | Upload PDF |

---

## NEW: Alternative Suppliers Details

### Components
1. **Supplier Card List**: Expandable cards with supplier details
2. **Supplier Info**: Name, lead time, MOQ, price, part number, notes
3. **Performance Metrics**: Last order date, reliability score (â˜… rating)
4. **Actions Menu**: Set as Primary, Edit, View Order History, View Performance, Remove
5. **Add Button**: Opens Add Alternative Supplier Modal

### Data Structure
```typescript
{
  supplier_id: string;
  lead_time_days: number;
  moq: decimal;
  moq_uom: string;
  price: decimal;
  currency: string;
  supplier_part_number: string;
  priority: 'primary' | 'secondary' | 'tertiary';
  notes: string;
  reliability_score: decimal; // 0-5, calculated from order history
  last_order_date: Date;
  last_order_quantity: decimal;
  total_orders_count: number;
}
```

### API
- **Get**: `GET /api/technical/products/:id/alternative-suppliers`
- **Add**: `POST /api/technical/products/:id/alternative-suppliers`
- **Update**: `PUT /api/technical/products/:id/alternative-suppliers/:supplierId`
- **Remove**: `DELETE /api/technical/products/:id/alternative-suppliers/:supplierId`
- **Set Primary**: `POST /api/technical/products/:id/alternative-suppliers/:supplierId/set-primary` (swaps primary/alternative)

---

## NEW: Quality Certifications Validation Details

### Components
1. **Certification Checkbox**: Toggles expanded cert details
2. **Cert Number**: Required when certified
3. **Certifying Body**: Dropdown with common bodies (USDA, OU, OK, etc.)
4. **Issue/Expiry Dates**: Date pickers with validation
5. **Document Upload**: Drag-drop PDF upload with preview
6. **Expiry Warning**: Shows if < 60 days, with renewal reminder option
7. **Validation Messages**: Conflict detection (gluten-free vs contains gluten)

### Validation Rules
- Cert number required when checkbox checked
- Expiry date must be > issue date
- Warning if expiry < 60 days from today
- Cannot be gluten-free certified if allergen "Gluten" checked in "Contains"
- Document: PDF only, max 5MB, optional but recommended

### File Upload
- **Format**: PDF only
- **Max Size**: 5 MB
- **Storage**: Supabase Storage bucket `certifications/{org_id}/{product_id}/{cert_type}/{filename}`
- **Preview**: Shows filename, size, upload date, uploader
- **Actions**: View (opens in new tab), Download, Replace

### Expiry Tracking
- **Reminder System**: Cron job checks daily
- **Notifications**: Email/toast at 60/30/7 days before expiry
- **Renewal Workflow**: "Set Renewal Reminder" button schedules calendar event

---

## NEW: Affected BOMs Panel Details

### Components
1. **Header**: Material code/name, close button
2. **Impact Summary**: Current vs proposed allergens, counts of affected entities
3. **BOM List**: Tabbed (Active/All), card list with product, qty, allergens, WO warnings
4. **Actions Section**: Lists automatic actions and manual actions required
5. **Links**: View BOM, View Work Orders for each affected product

### Allergen Impact Analysis
- **Current State**: Shows existing allergen declarations
- **Proposed State**: Shows new allergens after save
- **Affected Counts**: BOMs to recalculate, labels to update, active WOs
- **Work Order Warnings**: Highlights BOMs with active/in-progress work orders

### API
- **Endpoint**: `GET /api/technical/products/:id/affected-boms`
- **Response**:
  ```typescript
  {
    current_allergens: string[]; // allergen IDs
    proposed_allergens: string[]; // allergen IDs (if changed)
    boms: {
      id: string;
      product_code: string;
      product_name: string;
      version: number;
      quantity_per_unit: decimal;
      uom: string;
      status: string;
      current_allergens: string[];
      has_active_work_orders: boolean;
      work_orders: { id, qty, status, due_date }[];
    }[];
    stats: {
      total_boms: number;
      active_boms: number;
      products_with_active_wo: number;
      labels_to_update: number;
    };
  }
  ```

### Business Logic
- **Recalculation Trigger**: Allergen changes trigger async job
- **Notification**: Production team notified of allergen changes
- **Label Regeneration**: System flags labels for regeneration
- **Audit Trail**: Allergen changes logged with BOM impact

---

**Status**: Auto-Approved
**Approval Mode**: auto_approve
**User Approved**: true (explicit opt-in)
**Completion**: 95%+ (Added Alternative Suppliers dynamic list UI, Quality Certifications validation with document upload and expiry tracking, Affected BOMs Panel with allergen impact analysis)
**Iterations**: 0 of 3
