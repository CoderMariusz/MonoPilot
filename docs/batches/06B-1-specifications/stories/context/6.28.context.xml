<?xml version="1.0" encoding="UTF-8"?>
<story>
  <metadata>
    <id>6.28</id>
    <title>Quality Test Templates</title>
    <batch>06B-1</batch>
    <status>drafted</status>
  </metadata>

  <description>Create reusable test templates for common tests</description>

  <dependencies>
    <requires>
      <story id="6.10">Product Specification Management</story>
    </requires>
  </dependencies>

  <technical_context>
    <tables>
      <table>
        <name>test_templates</name>
        <columns>
          <column>id uuid PRIMARY KEY</column>
          <column>organization_id uuid NOT NULL REFERENCES organizations(id)</column>
          <column>template_name text NOT NULL</column>
          <column>specification_ids uuid[] NOT NULL</column>
          <column>default_values jsonb</column>
          <column>created_by uuid NOT NULL REFERENCES profiles(id)</column>
          <column>created_at timestamptz DEFAULT now()</column>
        </columns>
      </table>
    </tables>

    <api_endpoints>
      <endpoint method="POST" path="/api/quality/templates">Create template</endpoint>
      <endpoint method="GET" path="/api/quality/templates">List templates</endpoint>
    </api_endpoints>
  </technical_context>

  <acceptance_criteria>
    <ac id="1">Admin creates template with: name, spec list, default values</ac>
    <ac id="2">When testing LP, can apply template</ac>
    <ac id="3">All specs pre-filled from template</ac>
  </acceptance_criteria>
</story>
