<?xml version="1.0" encoding="UTF-8"?>
<story_context version="1.0">
  <metadata>
    <story_id>3.29</story_id>
    <title>Mobile Responsive Design</title>
    <batch>03D-1-planning-ui</batch>
    <priority>P1</priority>
    <story_points>3</story_points>
  </metadata>

  <dependencies>
    <existing_components>
      <component path="apps/frontend/components/planning/*"/>
      <component path="apps/frontend/components/ui/*"/>
    </existing_components>
    <ux_reference>docs/ux-design/ux-design-shared-system.md</ux_reference>
  </dependencies>

  <technical_context>
    <breakpoints>
      sm: 640px (mobile) - Card view, hamburger menu
      md: 768px (tablet) - Card view, collapsed tabs
      lg: 1024px (desktop) - Full table, full tabs
      xl: 1280px (large) - Full table, full tabs
    </breakpoints>

    <components>
      <component name="useResponsiveView">
        Hook in /lib/hooks/useResponsiveView.ts
        Returns: { isMobile, isTablet, isDesktop }
      </component>
      <component name="PlanningMobileNav">
        Full-screen navigation overlay
        Active page indicator
        Close on tap outside
      </component>
    </components>

    <mobile_requirements>
      - Tables convert to expandable card view below 768px
      - Touch targets minimum 48x48px
      - Min 8px spacing between clickable elements
      - No horizontal scrolling
      - Stats cards stack 1 per row
      - Spreadsheet mode hidden on mobile
    </mobile_requirements>

    <responsive_padding>
      mobile (sm): px-4 py-4 (16px)
      tablet (md): px-6 py-6 (24px)
      desktop (lg): px-8 py-6 (32px horizontal)
    </responsive_padding>
  </technical_context>

  <test_plan>
    <e2e_tests>
      <test>Card view on mobile viewport</test>
      <test>Hamburger menu opens/closes</test>
      <test>Touch targets meet 48px minimum</test>
      <test>No horizontal scroll on any page</test>
    </e2e_tests>
    <test_devices>
      - iPhone 12 (390px)
      - iPhone SE (375px)
      - Pixel 6 (412px)
      - iPad (768px)
    </test_devices>
  </test_plan>
</story_context>
