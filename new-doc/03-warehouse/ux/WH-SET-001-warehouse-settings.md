# WH-SET-001: Warehouse Settings

**Module**: Warehouse
**Feature**: Warehouse Configuration
**Route**: `/settings/warehouse`
**Status**: Ready for Implementation
**Last Updated**: 2026-01-02

---

## Overview

**Purpose**: Comprehensive warehouse module configuration with 25+ settings organized by implementation phase (P0-P3). Controls LP generation, FIFO/FEFO strategy, batch/expiry tracking, QA requirements, scanner behavior, and advanced features.

**FR Coverage**: WH-FR-001, WH-FR-008-010, WH-FR-015, WH-FR-019-020, WH-FR-029, WH-FR-011-014, WH-FR-016-017, WH-FR-021, WH-FR-025-026
**PRD Reference**: `docs/1-BASELINE/product/modules/warehouse.md`
**Story**: 05.0 - Warehouse Settings

**Settings Count**: 25 total
- Phase 0 (Core Configuration): 14 settings - LP config, FIFO/FEFO, Batch, Expiry, QA, Split/Merge
- Phase 1 (Receipt & Inventory): 4 settings - ASN, Over-receipt, Transit location
- Phase 2 (Scanner & Labels): 4 settings - Scanner timeout/sound, Label printing/copies
- Phase 3 (Advanced Features): 5 settings - Pallets, GS1, Catch weight, Zones, Capacity

---

## ASCII Wireframes

### 1. Success State (Desktop)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings > Warehouse                                          [Unsaved *]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  Configure warehouse module behavior including license plates, inventory     â”‚
â”‚  tracking, pick strategies, and advanced features.                           â”‚
â”‚                                                                               â”‚
â”‚  [View Change History]                              [Reset to Defaults]      â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“¦ PHASE 0: CORE CONFIGURATION  [P0]              [Collapse â–²]       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  License Plate Configuration                                           â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Auto-Generate LP Numbers                         [ON  â—â”€â”€]           â”‚   â”‚
â”‚  â”‚  Automatically generate LP numbers on receipt                          â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  LP Number Prefix                                                      â”‚   â”‚
â”‚  â”‚  [LP-                    ]  (uppercase alphanumeric + hyphens)        â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  LP Sequence Length                                                    â”‚   â”‚
â”‚  â”‚  [â”â”â”â”â—â”â”â”â”â”â”â”â”â”â”â”â”â”]  8 digits                                       â”‚   â”‚
â”‚  â”‚  Preview: LP-00000001                                                  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Pick Strategy                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Enable FIFO (First In, First Out)                [ON  â—â”€â”€]           â”‚   â”‚
â”‚  â”‚  Suggest oldest LPs for picking based on receipt date                 â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Enable FEFO (First Expired, First Out)           [OFF â”€â”€â—]           â”‚   â”‚
â”‚  â”‚  Suggest LPs by expiry date (overrides FIFO if both enabled)          â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â“˜ FEFO takes precedence when both are enabled.                       â”‚   â”‚
â”‚  â”‚     Sort order: expiry_date ASC, then created_at ASC                   â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Batch Tracking                                                        â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Enable Batch Tracking                             [ON  â—â”€â”€]           â”‚   â”‚
â”‚  â”‚  Track batch/lot numbers for inventory items                           â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Require Batch on Receipt                          [OFF â”€â”€â—]           â”‚   â”‚
â”‚  â”‚  Block receipts without batch number                                   â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Enable Supplier Batch                             [ON  â—â”€â”€]           â”‚   â”‚
â”‚  â”‚  Track separate supplier batch number                                  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Expiry Tracking                                                       â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Enable Expiry Tracking                            [ON  â—â”€â”€]           â”‚   â”‚
â”‚  â”‚  Track expiration dates for inventory items                            â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Require Expiry on Receipt                         [OFF â”€â”€â—]           â”‚   â”‚
â”‚  â”‚  Block receipts without expiry date                                    â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Expiry Warning Days                                                   â”‚   â”‚
â”‚  â”‚  [30                     ]  days (1-365)                               â”‚   â”‚
â”‚  â”‚  LPs expiring within this period show yellow warning                   â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Quality Assurance                                                     â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Require QA on Receipt                             [ON  â—â”€â”€]           â”‚   â”‚
â”‚  â”‚  Require QA approval before LP consumption                             â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Default QA Status                                                     â”‚   â”‚
â”‚  â”‚  [Pending            â–¼]                                                â”‚   â”‚
â”‚  â”‚  Initial QA status for new LPs                                         â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  License Plate Operations                                              â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Enable Split/Merge                                [ON  â—â”€â”€]           â”‚   â”‚
â”‚  â”‚  Allow splitting LPs or merging LPs with same product/batch            â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“¥ PHASE 1: RECEIPT & INVENTORY  [P1]             [Collapse â–²]       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Advanced Shipping Notices (ASN)                                       â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Enable ASN                                        [OFF â”€â”€â—]           â”‚   â”‚
â”‚  â”‚  Advanced Shipping Notices - Pre-notification from suppliers           â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Over-Receipt Control                                                  â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Allow Over-Receipt                                [OFF â”€â”€â—]           â”‚   â”‚
â”‚  â”‚  Allow receiving more than ordered quantity                            â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Over-Receipt Tolerance (%)                                            â”‚   â”‚
â”‚  â”‚  [0.00                   ]  % (0-100, 2 decimals)                      â”‚   â”‚
â”‚  â”‚  Receipts up to 100.00% of ordered quantity allowed                    â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Transit Location                                                      â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Enable Transit Location                           [ON  â—â”€â”€]           â”‚   â”‚
â”‚  â”‚  Create virtual transit location for in-flight transfer orders         â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“± PHASE 2: SCANNER & LABELS  [P2]                [Collapse â–²]       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Scanner Settings                                                      â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Scanner Idle Timeout                                                  â”‚   â”‚
â”‚  â”‚  [300                    ]  seconds (60-3600)                          â”‚   â”‚
â”‚  â”‚  Scanner session timeout after inactivity (5 minutes)                  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Scanner Sound Feedback                            [ON  â—â”€â”€]           â”‚   â”‚
â”‚  â”‚  Play audio feedback on scan success/failure                           â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Label Printing                                                        â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Print Label on Receipt                            [ON  â—â”€â”€]           â”‚   â”‚
â”‚  â”‚  Automatically print LP label after GRN completion                     â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Default Label Copies                                                  â”‚   â”‚
â”‚  â”‚  [1                      ]  copies (1-10)                              â”‚   â”‚
â”‚  â”‚  Number of label copies per LP                                         â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ âš™ PHASE 3: ADVANCED FEATURES  [P3]                [Collapse â–²]       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Pallet Management                                                     â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Enable Pallets                                    [OFF â”€â”€â—]           â”‚   â”‚
â”‚  â”‚  Enable pallet management with SSCC-18 codes                           â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  GS1 Compliance                                                        â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Enable GS1 Barcodes                               [OFF â”€â”€â—]           â”‚   â”‚
â”‚  â”‚  Parse GS1 GTIN-14 and SSCC-18 barcodes                                â”‚   â”‚
â”‚  â”‚  â“˜ Requires GS1 company prefix configuration                          â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Catch Weight                                                          â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Enable Catch Weight                               [OFF â”€â”€â—]           â”‚   â”‚
â”‚  â”‚  Support variable weight products (e.g., meat, cheese)                 â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Location Management                                                   â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Enable Location Zones                             [OFF â”€â”€â—]           â”‚   â”‚
â”‚  â”‚  Organize locations into zones (receiving, storage, shipping, etc.)    â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Enable Location Capacity                          [OFF â”€â”€â—]           â”‚   â”‚
â”‚  â”‚  Track and validate location capacity limits                           â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  â„¹ Changes to these settings affect all users in your organization.          â”‚
â”‚                                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  [Cancel]  [Save Changes]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Interactions:**
- Click toggle â†’ Flips ON/OFF, triggers unsaved indicator, auto-disables dependent fields
- Edit text/number input â†’ Updates value, validates on blur, shows inline error if invalid
- Drag slider (LP sequence) â†’ Updates digit count (4-12), live preview updates
- Click dropdown â†’ Shows options (QA status: Pending/Passed/Failed/Quarantine)
- Click section header â†’ Expands/collapses section, icon changes â–² â†” â–¼
- Click [Save Changes] â†’ Validates all â†’ API call â†’ Success toast â†’ Removes unsaved indicator
- Click [Cancel] â†’ Reverts to last saved state, no API call
- Click [View Change History] â†’ Opens WH-SET-002 modal
- Click [Reset to Defaults] â†’ Opens WH-SET-003 confirmation dialog
- Navigate away with unsaved â†’ Confirmation modal: "You have unsaved changes. Discard?"
- Hover over setting name â†’ Tooltip with detailed explanation

---

### 2. Loading State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings > Warehouse                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  Configure warehouse module behavior including license plates, inventory     â”‚
â”‚  tracking, pick strategies, and advanced features.                           â”‚
â”‚                                                                               â”‚
â”‚  [View Change History]                              [Reset to Defaults]      â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“¦ PHASE 0: CORE CONFIGURATION  [P0]                                  â”‚   â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]      â”‚   â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]      â”‚   â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]      â”‚   â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“¥ PHASE 1: RECEIPT & INVENTORY  [P1]                                 â”‚   â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]      â”‚   â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“± PHASE 2: SCANNER & LABELS  [P2]                                    â”‚   â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  Loading warehouse settings...                                               â”‚
â”‚                                                                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  [Cancel]  [Save Changes]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**State Details:**
- Skeleton loaders for all sections (shimmer animation)
- Buttons disabled during load
- Expected duration: <300ms (local DB query)
- ARIA: `aria-busy="true"` on main container
- Screen reader: "Loading warehouse settings"

---

### 3. Empty State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings > Warehouse                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚                                                                               â”‚
â”‚                                  [ğŸ“¦ Icon]                                   â”‚
â”‚                                                                               â”‚
â”‚                        No Warehouse Settings Found                           â”‚
â”‚                                                                               â”‚
â”‚              Warehouse settings have not been configured for                 â”‚
â”‚                          your organization yet.                              â”‚
â”‚                                                                               â”‚
â”‚              Initializing with default recommended settings...               â”‚
â”‚                                                                               â”‚
â”‚                                                                               â”‚
â”‚                      [Initialize Default Settings]                           â”‚
â”‚                                                                               â”‚
â”‚                                                                               â”‚
â”‚  Note: Default settings are optimized for food manufacturing best practices. â”‚
â”‚        You can customize them after initialization.                          â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**State Details:**
- Trigger: First access when warehouse_settings row doesn't exist
- Auto-initialization: Database trigger creates row on org creation
- Fallback: Manual initialization via button
- Click [Initialize Default Settings] â†’ API POST /api/warehouse/settings/init â†’ Success state
- Default values:
  - auto_generate_lp_number: true
  - lp_number_prefix: "LP"
  - lp_number_sequence_length: 8
  - enable_fifo: true
  - enable_batch_tracking: true
  - enable_expiry_tracking: true
  - require_qa_on_receipt: true
  - default_qa_status: "pending"
  - All Phase 1-3 features: false (opt-in)

---

### 4. Error State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings > Warehouse                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚                                                                               â”‚
â”‚                                  [âš  Icon]                                    â”‚
â”‚                                                                               â”‚
â”‚                      Failed to Load Warehouse Settings                       â”‚
â”‚                                                                               â”‚
â”‚                  Unable to retrieve warehouse configuration.                 â”‚
â”‚                Please check your connection and try again.                   â”‚
â”‚                                                                               â”‚
â”‚                                                                               â”‚
â”‚                        [Try Again]  [Contact Support]                        â”‚
â”‚                                                                               â”‚
â”‚                                                                               â”‚
â”‚  Error Details: Network request failed (ERR_CONNECTION_REFUSED)              â”‚
â”‚  Timestamp: 2026-01-02 14:35:22                                              â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**State Details:**
- Trigger: API call failure, network error, 500 server error
- Recovery actions:
  - [Try Again] â†’ Retry GET /api/warehouse/settings
  - [Contact Support] â†’ Opens support modal with error details
- Error scenarios:
  - Network timeout
  - 500 Internal Server Error
  - Database connection error
  - RLS policy failure (403) â†’ "Access denied. Contact your administrator."
- ARIA: `role="alert"`, `aria-live="assertive"`

---

### 5. Validation Error State (Inline)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings > Warehouse                                          [Unsaved *]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ...                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“¦ PHASE 0: CORE CONFIGURATION  [P0]              [Collapse â–²]       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  License Plate Configuration                                           â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Auto-Generate LP Numbers                         [ON  â—â”€â”€]           â”‚   â”‚
â”‚  â”‚  Automatically generate LP numbers on receipt                          â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  LP Number Prefix                                                      â”‚   â”‚
â”‚  â”‚  [                       ]  (uppercase alphanumeric + hyphens)        â”‚   â”‚
â”‚  â”‚  âš  Prefix required when auto-generation enabled                       â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  LP Sequence Length                                                    â”‚   â”‚
â”‚  â”‚  [â”â”â”â”â—â”â”â”â”â”â”â”â”â”â”â”â”â”]  8 digits                                       â”‚   â”‚
â”‚  â”‚  Preview: [Error - No prefix]                                          â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Expiry Tracking                                                       â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Enable Expiry Tracking                            [ON  â—â”€â”€]           â”‚   â”‚
â”‚  â”‚  Track expiration dates for inventory items                            â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  Expiry Warning Days                                                   â”‚   â”‚
â”‚  â”‚  [500                    ]  days (1-365)                               â”‚   â”‚
â”‚  â”‚  âš  Must be between 1-365 days                                         â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  ...                                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  [Cancel]  [Save Changes]    â”‚
â”‚                                                              (disabled)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Validation Rules:**
| Field | Validation | Error Message |
|-------|------------|---------------|
| lp_number_prefix | Required when auto_generate ON, 1-10 chars, /^[A-Z0-9-]+$/ | "Prefix required when auto-generation enabled" |
| lp_number_prefix | Uppercase only | "Prefix must be uppercase (auto-converted)" |
| lp_number_sequence_length | 4-12 integer | "Sequence length must be 4-12 digits" |
| expiry_warning_days | 1-365 integer | "Must be between 1-365 days" |
| over_receipt_tolerance_pct | 0-100, max 2 decimals | "Must be 0-100%" |
| scanner_idle_timeout_sec | 60-3600 integer | "Must be 60-3600 seconds (1-60 minutes)" |
| label_copies_default | 1-10 integer | "Must be 1-10 copies" |

**Cross-field Validations:**
- `require_batch_on_receipt = true` requires `enable_batch_tracking = true`
  - Error: "Enable batch tracking first"
- `require_expiry_on_receipt = true` requires `enable_expiry_tracking = true`
  - Error: "Enable expiry tracking first"
- `lp_number_prefix` required when `auto_generate_lp_number = true`
  - Error: "Prefix required when auto-generation enabled"

**Validation Timing:**
- Input fields: Validate on blur
- Toggle switches: Validate on change
- Save button: Validate all on click
- Inline errors: Display immediately below field
- Save button: Disabled when any validation error exists

---

### 6. Read-Only Mode (Permission Restricted)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings > Warehouse                                          [Read-Only]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  Configure warehouse module behavior including license plates, inventory     â”‚
â”‚  tracking, pick strategies, and advanced features.                           â”‚
â”‚                                                                               â”‚
â”‚  â“˜ You have read-only access. Contact your administrator to modify settings. â”‚
â”‚                                                                               â”‚
â”‚  [View Change History]                                                        â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ“¦ PHASE 0: CORE CONFIGURATION  [P0]              [Collapse â–²]       â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  License Plate Configuration                                           â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Auto-Generate LP Numbers                         [ON  â—â”€â”€] ğŸ”’       â”‚   â”‚
â”‚  â”‚  Automatically generate LP numbers on receipt                          â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  LP Number Prefix                                                      â”‚   â”‚
â”‚  â”‚  [LP-                    ] ğŸ”’ (uppercase alphanumeric + hyphens)      â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  LP Sequence Length                                                    â”‚   â”‚
â”‚  â”‚  [â”â”â”â”â—â”â”â”â”â”â”â”â”â”â”â”â”â”]  8 digits ğŸ”’                                    â”‚   â”‚
â”‚  â”‚  Preview: LP-00000001                                                  â”‚   â”‚
â”‚  â”‚                                                                         â”‚   â”‚
â”‚  â”‚  ...                                                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  ...                                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  [Close]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Permission Matrix:**
| Role | View Settings | Edit Settings | View History | Reset |
|------|---------------|---------------|--------------|-------|
| SUPER_ADMIN | âœ“ | âœ“ | âœ“ | âœ“ |
| ADMIN | âœ“ | âœ“ | âœ“ | âœ“ |
| WH_MANAGER | âœ“ | âœ“ | âœ“ | âœ“ |
| PROD_MANAGER | âœ“ | âœ— | âœ“ | âœ— |
| VIEWER | âœ“ | âœ— | âœ“ | âœ— |

**Read-Only Behavior:**
- All toggles: Disabled, grayed out, locked icon ğŸ”’
- All inputs: Disabled, grayed out, locked icon ğŸ”’
- Slider: Disabled, locked icon ğŸ”’
- Dropdown: Disabled, shows current value only
- Save/Cancel buttons: Hidden
- Reset to Defaults button: Hidden
- View Change History: Available (read-only)
- Tooltip on hover: "Read-only access. Contact administrator."
- ARIA: `aria-readonly="true"` on all inputs
- Visual: Light gray background, reduced opacity, lock icons

---

### 7. Mobile Responsive (<768px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜°  Settings > Warehouse    [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚
â”‚ Configure warehouse module       â”‚
â”‚ behavior.                        â”‚
â”‚                                  â”‚
â”‚ [View History] [Reset]           â”‚
â”‚                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“¦ PHASE 0: CORE      [â–¼]   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“¥ PHASE 1: RECEIPT   [â–¼]   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“± PHASE 2: SCANNER   [â–¼]   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ âš™ PHASE 3: ADVANCED   [â–¼]   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                  â”‚
â”‚ â„¹ Changes affect all users.     â”‚
â”‚                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Cancel]        [Save Changes]   â”‚
â”‚ (sticky bottom)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Mobile Adaptations:**
- All sections collapsed by default
- Simplified phase badges: "P0", "P1", "P2", "P3"
- Full-width inputs and toggles
- Sticky save/cancel buttons at bottom
- Larger touch targets (48x48px minimum)
- Collapsible sections expand to full screen
- Action buttons stack vertically
- Reduced padding and margins
- Font size: 16px (prevents iOS zoom)
- Slider: Touch-optimized with larger handle

**Expanded Section (Mobile):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† PHASE 0: CORE CONFIGURATION    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  â”‚
â”‚ License Plate Configuration      â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                  â”‚
â”‚ Auto-Generate LP Numbers         â”‚
â”‚ [ON  â—â”€â”€]                        â”‚
â”‚ Automatically generate LP        â”‚
â”‚ numbers on receipt               â”‚
â”‚                                  â”‚
â”‚ LP Number Prefix                 â”‚
â”‚ [LP-                         ]   â”‚
â”‚ Uppercase alphanumeric only      â”‚
â”‚                                  â”‚
â”‚ LP Sequence Length               â”‚
â”‚ [â”â”â”â”â—â”â”â”â”â”â”â”â”â”â”â”]              â”‚
â”‚ 8 digits                         â”‚
â”‚ Preview: LP-00000001             â”‚
â”‚                                  â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                  â”‚
â”‚ Pick Strategy                    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                  â”‚
â”‚ Enable FIFO                      â”‚
â”‚ [ON  â—â”€â”€]                        â”‚
â”‚ Suggest oldest LPs first         â”‚
â”‚                                  â”‚
â”‚ Enable FEFO                      â”‚
â”‚ [OFF â”€â”€â—]                        â”‚
â”‚ Suggest by expiry date           â”‚
â”‚                                  â”‚
â”‚ â“˜ FEFO overrides FIFO when      â”‚
â”‚   both enabled                   â”‚
â”‚                                  â”‚
â”‚ ...                              â”‚
â”‚                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Cancel]        [Save Changes]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 8. Cross-Field Dependency Examples

**Example 1: Auto-Generate LP OFF**

```
â”‚  License Plate Configuration                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Auto-Generate LP Numbers                         [OFF â”€â”€â—]           â”‚
â”‚  Automatically generate LP numbers on receipt                          â”‚
â”‚                                                                         â”‚
â”‚  LP Number Prefix                                                      â”‚
â”‚  [LP-                    ] ğŸ”’ (disabled, grayed out)                  â”‚
â”‚  âš  Manual LP entry required on receipt                                â”‚
â”‚                                                                         â”‚
â”‚  LP Sequence Length                                                    â”‚
â”‚  [â”â”â”â”â—â”â”â”â”â”â”â”â”â”â”â”â”â”] ğŸ”’ (disabled, grayed out)                       â”‚
```

**Example 2: Batch Tracking OFF**

```
â”‚  Batch Tracking                                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Enable Batch Tracking                             [OFF â”€â”€â—]           â”‚
â”‚  Track batch/lot numbers for inventory items                           â”‚
â”‚                                                                         â”‚
â”‚  Require Batch on Receipt                          [OFF â”€â”€â—] ğŸ”’       â”‚
â”‚  â“˜ Enable batch tracking first                                        â”‚
â”‚                                                                         â”‚
â”‚  Enable Supplier Batch                             [OFF â”€â”€â—] ğŸ”’       â”‚
â”‚  â“˜ Enable batch tracking first                                        â”‚
```

**Example 3: FIFO + FEFO Both Enabled**

```
â”‚  Pick Strategy                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Enable FIFO (First In, First Out)                [ON  â—â”€â”€]           â”‚
â”‚  Suggest oldest LPs for picking based on receipt date                 â”‚
â”‚                                                                         â”‚
â”‚  Enable FEFO (First Expired, First Out)           [ON  â—â”€â”€]           â”‚
â”‚  Suggest LPs by expiry date (overrides FIFO if both enabled)          â”‚
â”‚                                                                         â”‚
â”‚  âš  Warning: FEFO takes precedence when both are enabled               â”‚
â”‚     Sort order: expiry_date ASC, then created_at ASC                   â”‚
â”‚     Disable FEFO to use FIFO only.                                     â”‚
```

**Example 4: Both FIFO and FEFO Disabled**

```
â”‚  Pick Strategy                                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Enable FIFO (First In, First Out)                [OFF â”€â”€â—]           â”‚
â”‚  Suggest oldest LPs for picking based on receipt date                 â”‚
â”‚                                                                         â”‚
â”‚  Enable FEFO (First Expired, First Out)           [OFF â”€â”€â—]           â”‚
â”‚  Suggest LPs by expiry date (overrides FIFO if both enabled)          â”‚
â”‚                                                                         â”‚
â”‚  âš  Warning: No pick enforcement enabled                               â”‚
â”‚     Users can select any LP without system suggestions.                â”‚
â”‚     This may impact inventory rotation and compliance.                 â”‚
```

**Example 5: Over-Receipt OFF**

```
â”‚  Over-Receipt Control                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Allow Over-Receipt                                [OFF â”€â”€â—]           â”‚
â”‚  Allow receiving more than ordered quantity                            â”‚
â”‚                                                                         â”‚
â”‚  Over-Receipt Tolerance (%)                                            â”‚
â”‚  [0.00                   ] ğŸ”’ (disabled, grayed out)                   â”‚
â”‚  Receipts blocked if qty > ordered quantity                            â”‚
```

**Example 6: Print Label OFF**

```
â”‚  Label Printing                                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  Print Label on Receipt                            [OFF â”€â”€â—]           â”‚
â”‚  Automatically print LP label after GRN completion                     â”‚
â”‚                                                                         â”‚
â”‚  Default Label Copies                                                  â”‚
â”‚  [1                      ] ğŸ”’ (disabled, grayed out)                   â”‚
â”‚  Manual printing required                                              â”‚
```

---

## Component Specifications

### WarehouseSettingsForm.tsx

**Purpose**: Main container component for warehouse settings page
**Path**: `apps/frontend/components/settings/warehouse/WarehouseSettingsForm.tsx`

**Props:**
```typescript
interface WarehouseSettingsFormProps {
  initialSettings?: WarehouseSettings; // For edit mode
  isReadOnly?: boolean; // Permission-based
  onSave?: (settings: WarehouseSettings) => void;
  onCancel?: () => void;
}
```

**State Management:**
```typescript
const [settings, setSettings] = useState<WarehouseSettings>(initialSettings);
const [originalSettings, setOriginalSettings] = useState<WarehouseSettings>(initialSettings);
const [isLoading, setIsLoading] = useState(false);
const [hasUnsavedChanges, setHasUnsavedChanges] = useState(false);
const [validationErrors, setValidationErrors] = useState<Record<string, string>>({});
const [expandedSections, setExpandedSections] = useState({
  phase0: true,
  phase1: true,
  phase2: true,
  phase3: true
});
```

**Subcomponents:**
- `Phase0CoreSettings.tsx` - LP config, FIFO/FEFO, Batch, Expiry, QA, Split/Merge
- `Phase1ReceiptSettings.tsx` - ASN, Over-receipt, Transit
- `Phase2ScannerSettings.tsx` - Scanner timeout/sound, Label printing
- `Phase3AdvancedSettings.tsx` - Pallets, GS1, Catch weight, Zones, Capacity
- `SettingsHistoryModal.tsx` - Audit trail viewer (WH-SET-002)
- `SettingsResetDialog.tsx` - Reset confirmation (WH-SET-003)
- `PhaseBadge.tsx` - Phase indicator badges

**Validation:**
- Uses Zod schema: `warehouseSettingsSchema`
- Validates on blur for inputs
- Validates on change for toggles
- Cross-field validation before save
- Displays inline errors via `aria-describedby`

**Accessibility:**
- All inputs: Associated labels with `for`/`id`
- Toggles: `role="switch"`, `aria-checked`
- Sections: `aria-expanded`, `aria-controls`
- Errors: `aria-describedby`, `aria-invalid`
- Keyboard: Full keyboard navigation, Enter/Space for toggles
- Focus management: Trap focus in modals
- Screen reader: Announce state changes

---

### Phase0CoreSettings.tsx

**Purpose**: Phase 0 settings section (14 settings)
**Path**: `apps/frontend/components/settings/warehouse/Phase0CoreSettings.tsx`

**Subsections:**
1. License Plate Configuration (3 settings)
   - auto_generate_lp_number (toggle)
   - lp_number_prefix (text input)
   - lp_number_sequence_length (slider 4-12)
   - Live preview: "LP-00000001"

2. Pick Strategy (2 settings)
   - enable_fifo (toggle)
   - enable_fefo (toggle)
   - Warning banner when both enabled

3. Batch Tracking (3 settings)
   - enable_batch_tracking (toggle)
   - require_batch_on_receipt (toggle, dependent)
   - enable_supplier_batch (toggle, dependent)

4. Expiry Tracking (3 settings)
   - enable_expiry_tracking (toggle)
   - require_expiry_on_receipt (toggle, dependent)
   - expiry_warning_days (number input 1-365)

5. Quality Assurance (2 settings)
   - require_qa_on_receipt (toggle)
   - default_qa_status (dropdown: pending/passed/failed/quarantine)

6. License Plate Operations (1 setting)
   - enable_split_merge (toggle)

**Dependencies:**
- lp_number_prefix/sequence_length depend on auto_generate_lp_number
- require_batch_on_receipt/enable_supplier_batch depend on enable_batch_tracking
- require_expiry_on_receipt/expiry_warning_days depend on enable_expiry_tracking
- default_qa_status depends on require_qa_on_receipt

---

### Phase1ReceiptSettings.tsx

**Purpose**: Phase 1 settings section (4 settings)
**Path**: `apps/frontend/components/settings/warehouse/Phase1ReceiptSettings.tsx`

**Subsections:**
1. Advanced Shipping Notices (1 setting)
   - enable_asn (toggle)

2. Over-Receipt Control (2 settings)
   - allow_over_receipt (toggle)
   - over_receipt_tolerance_pct (number input 0-100, 2 decimals)

3. Transit Location (1 setting)
   - enable_transit_location (toggle)

**Dependencies:**
- over_receipt_tolerance_pct depends on allow_over_receipt

---

### Phase2ScannerSettings.tsx

**Purpose**: Phase 2 settings section (4 settings)
**Path**: `apps/frontend/components/settings/warehouse/Phase2ScannerSettings.tsx`

**Subsections:**
1. Scanner Settings (2 settings)
   - scanner_idle_timeout_sec (number input 60-3600)
   - scanner_sound_feedback (toggle)

2. Label Printing (2 settings)
   - print_label_on_receipt (toggle)
   - label_copies_default (number input 1-10)

**Dependencies:**
- label_copies_default depends on print_label_on_receipt

---

### Phase3AdvancedSettings.tsx

**Purpose**: Phase 3 settings section (5 settings)
**Path**: `apps/frontend/components/settings/warehouse/Phase3AdvancedSettings.tsx`

**Subsections:**
1. Pallet Management (1 setting)
   - enable_pallets (toggle)

2. GS1 Compliance (1 setting)
   - enable_gs1_barcodes (toggle)
   - Info banner: "Requires GS1 company prefix configuration"

3. Catch Weight (1 setting)
   - enable_catch_weight (toggle)

4. Location Management (2 settings)
   - enable_location_zones (toggle)
   - enable_location_capacity (toggle)

---

### PhaseBadge.tsx

**Purpose**: Reusable phase indicator badge
**Path**: `apps/frontend/components/settings/warehouse/PhaseBadge.tsx`

**Props:**
```typescript
interface PhaseBadgeProps {
  phase: 0 | 1 | 2 | 3;
  showLabel?: boolean; // Show "Phase 0" vs "P0"
}
```

**Styles:**
| Phase | Class | Display |
|-------|-------|---------|
| 0 | `bg-red-100 text-red-800 border-red-200` | P0 or Phase 0 - Critical |
| 1 | `bg-blue-100 text-blue-800 border-blue-200` | P1 or Phase 1 |
| 2 | `bg-yellow-100 text-yellow-800 border-yellow-200` | P2 or Phase 2 |
| 3 | `bg-purple-100 text-purple-800 border-purple-200` | P3 or Phase 3 |

---

### SettingsHistoryModal.tsx (WH-SET-002)

**Purpose**: Display audit trail of settings changes
**Path**: `apps/frontend/components/settings/warehouse/SettingsHistoryModal.tsx`

**Wireframe:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Settings Change History                                      [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Last 50 changes to warehouse settings                               â”‚
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Setting Name      â”‚ Old Value â”‚ New Value â”‚ Changed By  â”‚ Date  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ enable_fifo       â”‚ true      â”‚ false     â”‚ John Smith  â”‚ 1h agoâ”‚ â”‚
â”‚  â”‚ lp_number_prefix  â”‚ LP-       â”‚ WH-       â”‚ Jane Doe    â”‚ 2h agoâ”‚ â”‚
â”‚  â”‚ enable_fefo       â”‚ false     â”‚ true      â”‚ John Smith  â”‚ 1d agoâ”‚ â”‚
â”‚  â”‚ expiry_warn_days  â”‚ 30        â”‚ 45        â”‚ Jane Doe    â”‚ 2d agoâ”‚ â”‚
â”‚  â”‚ enable_asn        â”‚ false     â”‚ true      â”‚ Admin       â”‚ 3d agoâ”‚ â”‚
â”‚  â”‚ ...               â”‚           â”‚           â”‚             â”‚       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                       â”‚
â”‚  [1] [2] [3] ... [10]  Showing 1-10 of 47                            â”‚
â”‚                                                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                               [Export CSV]  [Close]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- Pagination: 10 records per page
- Sort: Default by changed_at DESC
- Filter: By setting name, user, date range
- Export: CSV download
- API: GET /api/warehouse/settings/history?limit=50

---

### SettingsResetDialog.tsx (WH-SET-003)

**Purpose**: Confirm reset to defaults
**Path**: `apps/frontend/components/settings/warehouse/SettingsResetDialog.tsx`

**Wireframe:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Reset to Defaults                                 [Ã—]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  âš  Are you sure you want to reset all warehouse          â”‚
â”‚     settings to default values?                           â”‚
â”‚                                                            â”‚
â”‚  This action will:                                        â”‚
â”‚  â€¢ Restore all 25 settings to factory defaults            â”‚
â”‚  â€¢ Preserve your organization context                     â”‚
â”‚  â€¢ Log this change in audit trail                         â”‚
â”‚  â€¢ Affect all users in your organization                  â”‚
â”‚                                                            â”‚
â”‚  Current customizations will be lost.                     â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Preview of changes:                                  â”‚ â”‚
â”‚  â”‚ â€¢ auto_generate_lp_number: false â†’ true              â”‚ â”‚
â”‚  â”‚ â€¢ lp_number_prefix: "WH-" â†’ "LP"                     â”‚ â”‚
â”‚  â”‚ â€¢ enable_fifo: false â†’ true                          â”‚ â”‚
â”‚  â”‚ â€¢ (22 more settings...)                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  [â˜] I understand this action cannot be undone            â”‚
â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              [Cancel]  [Reset to Defaults]â”‚
â”‚                                             (requires â˜‘)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- Confirmation checkbox required
- Preview of changes (current â†’ default)
- Warning banner
- API: POST /api/warehouse/settings/reset
- Success â†’ Reload settings â†’ Toast "Settings reset to defaults"

---

## Technical Specifications

### API Integration

**Endpoints Used:**
```
GET    /api/warehouse/settings              - Fetch current settings
PUT    /api/warehouse/settings              - Update settings (full replace)
PATCH  /api/warehouse/settings              - Partial update
POST   /api/warehouse/settings/reset        - Reset to defaults
GET    /api/warehouse/settings/history      - Fetch audit trail (last 50)
POST   /api/warehouse/settings/init         - Manual initialization (fallback)
```

**Request/Response:**
```typescript
// GET /api/warehouse/settings
Response: WarehouseSettings {
  id: string;
  org_id: string;
  // Phase 0
  auto_generate_lp_number: boolean;
  lp_number_prefix: string;
  lp_number_sequence_length: number;
  enable_split_merge: boolean;
  require_qa_on_receipt: boolean;
  default_qa_status: 'pending' | 'passed' | 'failed' | 'quarantine';
  enable_expiry_tracking: boolean;
  require_expiry_on_receipt: boolean;
  expiry_warning_days: number;
  enable_batch_tracking: boolean;
  require_batch_on_receipt: boolean;
  enable_supplier_batch: boolean;
  enable_fifo: boolean;
  enable_fefo: boolean;
  // Phase 1
  enable_asn: boolean;
  allow_over_receipt: boolean;
  over_receipt_tolerance_pct: number;
  enable_transit_location: boolean;
  // Phase 2
  scanner_idle_timeout_sec: number;
  scanner_sound_feedback: boolean;
  print_label_on_receipt: boolean;
  label_copies_default: number;
  // Phase 3
  enable_pallets: boolean;
  enable_gs1_barcodes: boolean;
  enable_catch_weight: boolean;
  enable_location_zones: boolean;
  enable_location_capacity: boolean;
  // Audit
  created_at: string;
  updated_at: string;
  created_by: string;
  updated_by: string;
}

// PUT /api/warehouse/settings
Request: UpdateWarehouseSettingsInput {
  // All fields from WarehouseSettings (partial for PATCH)
}
Response: WarehouseSettings

// GET /api/warehouse/settings/history
Response: WarehouseSettingsAudit[] {
  id: string;
  setting_name: string;
  old_value: string;
  new_value: string;
  changed_by: string;
  changed_at: string;
}[]
```

### Validation Schema (Zod)

```typescript
// lib/validation/warehouse-settings.ts
import { z } from 'zod';

export const qaStatusEnum = z.enum(['pending', 'passed', 'failed', 'quarantine']);

export const warehouseSettingsSchema = z.object({
  // Phase 0
  auto_generate_lp_number: z.boolean(),
  lp_number_prefix: z.string()
    .min(1, "Prefix must be at least 1 character")
    .max(10, "Prefix must be at most 10 characters")
    .regex(/^[A-Z0-9-]+$/, "Prefix must be uppercase alphanumeric with hyphens only")
    .transform(val => val.toUpperCase()),
  lp_number_sequence_length: z.number()
    .int()
    .min(4, "Sequence length must be at least 4")
    .max(12, "Sequence length must be at most 12"),
  enable_split_merge: z.boolean(),
  require_qa_on_receipt: z.boolean(),
  default_qa_status: qaStatusEnum,
  enable_expiry_tracking: z.boolean(),
  require_expiry_on_receipt: z.boolean(),
  expiry_warning_days: z.number()
    .int()
    .min(1, "Warning days must be at least 1")
    .max(365, "Warning days must be at most 365"),
  enable_batch_tracking: z.boolean(),
  require_batch_on_receipt: z.boolean(),
  enable_supplier_batch: z.boolean(),
  enable_fifo: z.boolean(),
  enable_fefo: z.boolean(),
  // Phase 1
  enable_asn: z.boolean(),
  allow_over_receipt: z.boolean(),
  over_receipt_tolerance_pct: z.number()
    .min(0, "Tolerance must be at least 0%")
    .max(100, "Tolerance must be at most 100%"),
  enable_transit_location: z.boolean(),
  // Phase 2
  scanner_idle_timeout_sec: z.number()
    .int()
    .min(60, "Timeout must be at least 60 seconds")
    .max(3600, "Timeout must be at most 3600 seconds (60 minutes)"),
  scanner_sound_feedback: z.boolean(),
  print_label_on_receipt: z.boolean(),
  label_copies_default: z.number()
    .int()
    .min(1, "Must print at least 1 copy")
    .max(10, "Cannot print more than 10 copies"),
  // Phase 3
  enable_pallets: z.boolean(),
  enable_gs1_barcodes: z.boolean(),
  enable_catch_weight: z.boolean(),
  enable_location_zones: z.boolean(),
  enable_location_capacity: z.boolean(),
}).refine(data => {
  // Cross-field: require_batch_on_receipt requires enable_batch_tracking
  if (data.require_batch_on_receipt && !data.enable_batch_tracking) {
    return false;
  }
  return true;
}, {
  message: "require_batch_on_receipt requires enable_batch_tracking to be enabled",
  path: ["require_batch_on_receipt"]
}).refine(data => {
  // Cross-field: require_expiry_on_receipt requires enable_expiry_tracking
  if (data.require_expiry_on_receipt && !data.enable_expiry_tracking) {
    return false;
  }
  return true;
}, {
  message: "require_expiry_on_receipt requires enable_expiry_tracking to be enabled",
  path: ["require_expiry_on_receipt"]
}).refine(data => {
  // Cross-field: lp_number_prefix required when auto_generate_lp_number enabled
  if (data.auto_generate_lp_number && !data.lp_number_prefix) {
    return false;
  }
  return true;
}, {
  message: "lp_number_prefix required when auto_generate_lp_number is enabled",
  path: ["lp_number_prefix"]
});

export type UpdateWarehouseSettingsInput = z.infer<typeof warehouseSettingsSchema>;
```

### State Management

**React Hook:**
```typescript
// hooks/useWarehouseSettings.ts
export function useWarehouseSettings() {
  const [settings, setSettings] = useState<WarehouseSettings | null>(null);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  const fetchSettings = async () => {
    try {
      setIsLoading(true);
      const response = await fetch('/api/warehouse/settings');
      if (!response.ok) throw new Error('Failed to fetch settings');
      const data = await response.json();
      setSettings(data);
    } catch (err) {
      setError(err as Error);
    } finally {
      setIsLoading(false);
    }
  };

  const updateSettings = async (updates: Partial<WarehouseSettings>) => {
    try {
      const response = await fetch('/api/warehouse/settings', {
        method: 'PATCH',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(updates),
      });
      if (!response.ok) throw new Error('Failed to update settings');
      const data = await response.json();
      setSettings(data);
      return data;
    } catch (err) {
      throw err;
    }
  };

  const resetSettings = async () => {
    try {
      const response = await fetch('/api/warehouse/settings/reset', {
        method: 'POST',
      });
      if (!response.ok) throw new Error('Failed to reset settings');
      const data = await response.json();
      setSettings(data);
      return data;
    } catch (err) {
      throw err;
    }
  };

  useEffect(() => {
    fetchSettings();
  }, []);

  return {
    settings,
    isLoading,
    error,
    updateSettings,
    resetSettings,
    refetch: fetchSettings,
  };
}
```

---

## Accessibility Checklist

### Keyboard Navigation
- [x] All toggles focusable via Tab
- [x] Enter/Space toggles switches
- [x] Tab order: Top to bottom, left to right
- [x] Escape closes modals
- [x] Focus visible: Ring outline on all interactive elements
- [x] No keyboard traps
- [x] Skip link to main content (optional)

### Screen Readers
- [x] All inputs have associated labels (`<label for="id">`)
- [x] Toggles: `role="switch"`, `aria-checked="true/false"`
- [x] Sections: `aria-expanded`, `aria-controls`
- [x] Errors: `aria-describedby`, `aria-invalid="true"`
- [x] Loading: `aria-busy="true"`, `aria-live="polite"`
- [x] Alerts: `role="alert"`, `aria-live="assertive"`
- [x] Headings: Logical hierarchy (h1 > h2 > h3)

### ARIA Attributes
```html
<!-- Toggle switch -->
<button role="switch" aria-checked="true" aria-label="Enable FIFO">
  [ON â—â”€â”€]
</button>

<!-- Collapsible section -->
<button aria-expanded="true" aria-controls="phase0-section">
  Phase 0: Core Configuration
</button>
<div id="phase0-section">...</div>

<!-- Input with error -->
<label for="lp-prefix">LP Number Prefix</label>
<input
  id="lp-prefix"
  aria-describedby="lp-prefix-error"
  aria-invalid="true"
/>
<span id="lp-prefix-error" role="alert">Prefix required</span>

<!-- Loading state -->
<div aria-busy="true" aria-live="polite">
  Loading warehouse settings...
</div>
```

### Visual Accessibility
- [x] Contrast ratio â‰¥ 4.5:1 (WCAG AA)
- [x] Error messages: Color + icon (not color alone)
- [x] Focus indicators: Visible ring outline
- [x] Text size: 16px minimum (prevents iOS zoom)
- [x] Touch targets: â‰¥48x48px on mobile
- [x] No information conveyed by color alone

### Focus Management
- [x] Modal open â†’ Focus moves to modal
- [x] Modal close â†’ Focus returns to trigger
- [x] Focus trap inside modals
- [x] Deleted item â†’ Focus moves to next logical element

---

## Responsive Breakpoints

### Desktop (â‰¥1024px)
- 2-column layout for some subsections
- Full sidebar navigation visible
- Hover states on all interactive elements

### Tablet (768px - 1023px)
- Single column layout
- Sections remain expanded by default
- Touch-optimized controls

### Mobile (<768px)
- All sections collapsed by default
- Full-width inputs
- Sticky save/cancel buttons
- 48x48px minimum touch targets
- Simplified phase badges ("P0" vs "Phase 0")
- Stack action buttons vertically

---

## Performance Considerations

### Loading Optimization
- Skeleton loaders prevent layout shift
- Settings fetch: <300ms expected
- Debounce input validation: 300ms
- Lazy load history modal (code-split)

### Caching Strategy
- Cache settings in React state
- Optimistic updates for toggles
- Revalidate on window focus
- Cache duration: 5 minutes

### Bundle Size
- Code-split modals
- Tree-shake unused Zod validators
- Lazy load phase sections (optional)

---

## Testing Requirements

### Unit Tests
- [ ] WarehouseSettingsForm renders all sections
- [ ] Toggle switches update state correctly
- [ ] Validation errors display inline
- [ ] Cross-field dependencies work (auto_generate â†’ prefix)
- [ ] Save button disabled when validation fails
- [ ] Cancel reverts changes
- [ ] Phase sections expand/collapse

### Integration Tests
- [ ] GET /api/warehouse/settings returns data
- [ ] PUT /api/warehouse/settings saves changes
- [ ] POST /api/warehouse/settings/reset resets to defaults
- [ ] GET /api/warehouse/settings/history returns audit trail
- [ ] Permission enforcement: read-only for non-admins
- [ ] Multi-tenancy: org isolation

### E2E Tests (Playwright)
- [ ] Navigate to /settings/warehouse
- [ ] Page loads within 300ms
- [ ] Modify settings, save successfully
- [ ] Validation errors prevent save
- [ ] View change history modal
- [ ] Reset to defaults with confirmation
- [ ] Navigate away with unsaved changes â†’ confirmation
- [ ] Mobile: sections collapse/expand
- [ ] Keyboard navigation: Tab through all fields
- [ ] Screen reader: Announce state changes

### Accessibility Tests
- [ ] Lighthouse accessibility score â‰¥ 95
- [ ] axe-core: No violations
- [ ] Keyboard-only navigation works
- [ ] Screen reader: All content accessible
- [ ] Contrast ratios meet WCAG AA
- [ ] Focus visible on all interactive elements

---

## Definition of Done

- [ ] Wireframe document complete (WH-SET-001.md)
- [ ] All 4 states defined (loading, empty, error, success)
- [ ] Mobile responsive wireframes included
- [ ] Read-only permission mode documented
- [ ] Cross-field dependencies specified
- [ ] Validation rules documented
- [ ] Component specifications written
- [ ] API integration defined
- [ ] Accessibility checklist complete
- [ ] Testing requirements outlined
- [ ] Settings history modal spec (WH-SET-002)
- [ ] Reset confirmation dialog spec (WH-SET-003)
- [ ] User flow approved by stakeholder
- [ ] Checkpoint updated: P1 complete

---

## Handoff to FRONTEND-DEV

### Implementation Priority
1. **Phase 0 Core Settings** (Critical) - Unblocks Story 05.1
   - WarehouseSettingsForm.tsx
   - Phase0CoreSettings.tsx
   - API integration (GET, PUT)
   - Validation schema

2. **Phases 1-3** (Medium)
   - Phase1ReceiptSettings.tsx
   - Phase2ScannerSettings.tsx
   - Phase3AdvancedSettings.tsx

3. **Modals & Extras** (Low)
   - SettingsHistoryModal.tsx
   - SettingsResetDialog.tsx
   - Mobile optimizations

### Files to Create
```
apps/frontend/
  app/(authenticated)/settings/warehouse/
    page.tsx                                    -- Route handler
  components/settings/warehouse/
    WarehouseSettingsForm.tsx                   -- Main form container
    Phase0CoreSettings.tsx                      -- Phase 0 section
    Phase1ReceiptSettings.tsx                   -- Phase 1 section
    Phase2ScannerSettings.tsx                   -- Phase 2 section
    Phase3AdvancedSettings.tsx                  -- Phase 3 section
    LPConfigurationSection.tsx                  -- LP auto-gen subsection
    PickStrategySection.tsx                     -- FIFO/FEFO subsection
    BatchTrackingSection.tsx                    -- Batch toggles subsection
    ExpiryTrackingSection.tsx                   -- Expiry toggles subsection
    QAStatusSection.tsx                         -- QA requirement subsection
    OverReceiptSection.tsx                      -- Over-receipt subsection
    ScannerConfigSection.tsx                    -- Scanner settings subsection
    LabelPrintingSection.tsx                    -- Label printing subsection
    SettingsHistoryModal.tsx                    -- Audit trail modal
    SettingsResetDialog.tsx                     -- Reset confirmation
    PhaseBadge.tsx                              -- Phase indicator badge
  hooks/
    useWarehouseSettings.ts                     -- Settings state management
  lib/validation/
    warehouse-settings.ts                       -- Zod schemas
```

### Key Dependencies
- Story 01.2: Settings navigation shell (route exists)
- Story 01.6: Role permissions (permission checks)
- Database migration 05.0: warehouse_settings table exists
- API routes: /api/warehouse/settings endpoints implemented

### Design System Components (ShadCN)
- Switch (toggle)
- Input (text, number)
- Slider
- Select (dropdown)
- Button
- Dialog (modals)
- Label
- Separator
- Collapsible (sections)
- Alert (warnings)
- Toast (notifications)
- Skeleton (loading)

---

## Version History

| Version | Date | Changes | Author |
|---------|------|---------|--------|
| 1.0 | 2026-01-02 | Initial wireframe creation with all states, components, and specifications | UX-DESIGNER |
