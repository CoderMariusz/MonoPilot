# Story 11.10 - Index File (Entry Point)
# Generated: 2026-01-15
# Purpose: Story metadata and dependencies - read this first

story:
  id: "11.10"
  name: "EDI DESADV Outbound (ASN)"
  slug: "edi-desadv-outbound"
  epic: "11-integrations"
  phase: "2"
  complexity: "M"
  estimate_days: 3-4
  type: "backend"
  state: "ready"

# Dependencies
dependencies:
  required:
    - story: "01.1"
      name: "Org Context + Base RLS"
      provides: ["organizations"]
    - story: "05.15"
      name: "Shipments"
      provides: ["shipments", "batch/lot data"]
    - story: "11.3"
      name: "Integration Logs"
      provides: ["Transmission logging"]
    - story: "11.8"
      name: "EDI ORDERS"
      provides: ["EDIFACT patterns"]
    - story: "11.9"
      name: "EDI INVOIC"
      provides: ["EDIFACT generation patterns"]
  blocks: []

# Reference Documents
files_to_read:
  prd:
    path: "docs/1-BASELINE/product/modules/integrations.md"
    sections: ["FR-INT-017"]
  story:
    path: "docs/2-MANAGEMENT/epics/current/11-integrations/11.10.edi-desadv-outbound.md"

# High-level deliverables
deliverables:
  - type: "service"
    count: 1
    description: "edi-desadv-service.ts (EDIFACT generator)"
  - type: "api"
    count: 3
    description: "Preview ASN, send ASN, resend"
  - type: "page"
    count: 1
    description: "Shipment EDI button"
  - type: "test"
    count: 3
    description: "Unit + integration + E2E tests"

# Technical notes
technical_notes:
  - "EDIFACT DESADV generator (D.96A standard)"
  - "SSCC-18 pallet tracking (if pallets exist)"
  - "Batch/lot numbers and expiry dates per line item"
  - "Critical for retail compliance (Carrefour, Tesco)"
