# 10.15 - Production Rate Tracking

**Priority**: P1
**Story Points**: M (Medium)
**Type**: backend
**Phase**: 2
**Model**: OPUS

**State:** ready
**Estimate:** M (3-4 days)
**Primary PRD:** `docs/1-BASELINE/product/modules/oee.md` (FR-OEE-023)

---

## Goal

Track production rate (units per hour) over time, compare to target rates, identify rate degradation, and analyze rate trends by machine, product, and shift.

---

## User Story

As a **Process Engineer**, I want to **track production rate trends and compare to targets** so that **I can identify machine slowdowns and optimize cycle times**.

---

## Scope

- Production rate calculation (units/hour from operation logs)
- Rate vs target comparison
- Rate trend charts (hourly, daily)
- Rate degradation alerts (rate < target for extended period)
- GET /api/oee/performance/rate
- Production rate dashboard widget

---

## Acceptance Criteria

```gherkin
Scenario: Calculate production rate
  Given operation produced 250 units in 1 hour
  When calculating rate
  Then production_rate = 250 units/hour

Scenario: Compare to target
  Given target rate = 300 units/hour
  And actual rate = 250 units/hour
  Then variance = -50 units/hour (-16.7%)
  And efficiency = 250/300 = 83.3%
  And flagged as below target

Scenario: Rate trend chart
  Given production rates for last 8 hours
  When viewing rate trend
  Then line chart shows:
    - X-axis: Hours
    - Y-axis: Units/hour
    - Actual rate line
    - Target rate line (dashed)
  And periods below target highlighted in red
```

---

## Deliverables

- [ ] Production rate calculation service
- [ ] Rate trend API endpoints
- [ ] Rate comparison logic
- [ ] Rate dashboard widget
- [ ] Rate degradation alerts

---

**Lines**: ~150
**Phase**: 2
