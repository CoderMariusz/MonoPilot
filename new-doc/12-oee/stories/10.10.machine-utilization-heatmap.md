# 10.10 - Machine Utilization Heatmap

**Priority**: P1
**Story Points**: M (Medium)
**Type**: frontend
**Phase**: 2
**Model**: OPUS

**State:** ready
**Estimate:** M (2-3 days)
**Primary PRD:** `docs/1-BASELINE/product/modules/oee.md` (FR-OEE-016)

---

## Goal

Visualize machine utilization patterns using heatmap (machines Ã— time) with color-gradient representing utilization percentage. Enable identification of idle periods, peak usage times, and capacity constraints.

---

## User Story

As a **Production Planner**, I want to **see machine utilization patterns in a heatmap view** so that **I can optimize scheduling and identify underutilized machines**.

---

## Scope

- Heatmap visualization (machines on Y-axis, time on X-axis)
- Color gradient: Red (0-50%), Yellow (50-80%), Green (80-100%)
- Time granularity: Hourly, Daily, Weekly
- Hover tooltips with exact utilization %
- GET /api/oee/analytics/utilization
- Utilization heatmap component

---

## Acceptance Criteria

```gherkin
Scenario: View hourly utilization heatmap
  Given 5 machines on production line
  When viewing heatmap for today
  Then grid displays:
    - Y-axis: Machine names
    - X-axis: Hours (00:00-23:00)
    - Cells: Color-coded by utilization %
  And hover shows: "Mixer-01, 14:00-15:00, 85% utilized"

Scenario: Color gradient
  Given cell utilization = 45%
  Then cell color = Red
  Given utilization = 75%
  Then cell color = Yellow
  Given utilization = 92%
  Then cell color = Green
```

---

## Deliverables

- [ ] Heatmap API endpoint
- [ ] Heatmap React component
- [ ] Color gradient utilities
- [ ] Utilization calculation service

---

**Lines**: ~150
**Phase**: 2
