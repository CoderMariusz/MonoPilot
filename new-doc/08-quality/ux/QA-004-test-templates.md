# QA-004: Test Templates & Recording

**Module**: Quality Management
**Feature**: Test Templates & Recording (FR-QA-004)
**Status**: Approved
**Last Updated**: 2025-12-15

---

## ASCII Wireframes

### 1. Test Templates List - Success State (Desktop)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Quality > Test Templates                               [+ Create Template]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  [Search templates...           ] [Type: All â–¼] [Status: All â–¼] [Sort â–¼]    â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Name              Type        Parameters  Used By  Status   Actions     â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Flour Analysis    Chemical    8           12       Active   [â‹®]         â”‚ â”‚
â”‚  â”‚                   Test method: AOAC 123.45 â€¢ Updated: 2 days ago        â”‚ â”‚
â”‚  â”‚                   Parameters: Moisture, Protein, Ash, Gluten...          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Package Integrity Physical    5           8        Active   [â‹®]         â”‚ â”‚
â”‚  â”‚                   Test method: Visual + Tools â€¢ Updated: 1 week ago      â”‚ â”‚
â”‚  â”‚                   Parameters: Seal strength, Dimensions, Weight...       â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Salmonella Screen Microbial   3           25       Active   [â‹®]         â”‚ â”‚
â”‚  â”‚                   Test method: ISO 6579 â€¢ Updated: 3 weeks ago           â”‚ â”‚
â”‚  â”‚                   Parameters: Salmonella, E.coli, TPC                    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Taste Panel       Sensory     6           5        Active   [â‹®]         â”‚ â”‚
â”‚  â”‚                   Test method: 9-point hedonic â€¢ Updated: 1 day ago      â”‚ â”‚
â”‚  â”‚                   Parameters: Appearance, Aroma, Taste, Texture...       â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ Old Flour Test    Chemical    6           0        Inactive [â‹®]         â”‚ â”‚
â”‚  â”‚                   Test method: Deprecated â€¢ Updated: 6 months ago        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚  Showing 5 of 18 templates                                    [1] [2] ... [4]â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[â‹®] Menu:
  - View Details
  - Edit Template
  - Clone Template
  - View Usage History
  - Set Status (Active/Inactive)
  - Delete Template (if unused)
```

### 2. Test Templates List - Loading State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Quality > Test Templates                               [+ Create Template]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  [Skeleton: Search...           ] [Type â–¼] [Status â–¼] [Sort â–¼]              â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]        â”‚ â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]        â”‚ â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]        â”‚ â”‚
â”‚  â”‚ [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘]        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚  Loading test templates...                                                    â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Test Templates List - Empty State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Quality > Test Templates                               [+ Create Template]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚                          [ðŸ§ª Icon]                                            â”‚
â”‚                                                                               â”‚
â”‚                    No Test Templates Found                                    â”‚
â”‚                                                                               â”‚
â”‚       Test templates define the parameters and acceptance criteria for        â”‚
â”‚       quality inspections. Create templates for chemical, physical,           â”‚
â”‚       microbial, or sensory testing.                                          â”‚
â”‚                                                                               â”‚
â”‚                    [+ Create Your First Template]                             â”‚
â”‚                                                                               â”‚
â”‚       Or import from CSV: [Import Templates]                                  â”‚
â”‚                                                                               â”‚
â”‚       ðŸ“š Learn more: How to set up test templates                             â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Test Templates List - Error State

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Quality > Test Templates                               [+ Create Template]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚                          [âš  Icon]                                             â”‚
â”‚                                                                               â”‚
â”‚                Failed to Load Test Templates                                  â”‚
â”‚                                                                               â”‚
â”‚       Unable to retrieve test template list. Please check your connection.    â”‚
â”‚                   Error: TEMPLATE_FETCH_FAILED                                â”‚
â”‚                                                                               â”‚
â”‚                        [Retry]  [Contact Support]                             â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. Template Create/Edit Modal - Desktop

### Success State (Edit Mode)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Edit Test Template                                         [âœ•]               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  Template Information                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Template Name *                                                       â”‚   â”‚
â”‚  â”‚ [Flour Analysis                                                      ]â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚ Test Type *                                                           â”‚   â”‚
â”‚  â”‚ [Chemical           â–¼]   Options: Chemical, Physical, Microbial, Sensoryâ”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚ Test Method                                                           â”‚   â”‚
â”‚  â”‚ [AOAC 123.45                                                         ]â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚ Description                                                           â”‚   â”‚
â”‚  â”‚ [Standard flour analysis for incoming raw materials                  ]â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚ â–¡ Active   (Uncheck to disable template)                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  Test Parameters                                           [+ Add Parameter]  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Parameter    Unit    Target   Min     Max     Test Method  Equipment â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Moisture     %       14.0     13.0    15.0    Karl Fischer Moisture  â”‚   â”‚
â”‚  â”‚              [Edit] [Delete] [â†‘] [â†“]                        Analyzer  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Protein      %       12.5     11.5    13.5    Kjeldahl     Digestion â”‚   â”‚
â”‚  â”‚              [Edit] [Delete] [â†‘] [â†“]                        Unit      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Ash          %       0.5      0.4     0.6     Incineration Muffle    â”‚   â”‚
â”‚  â”‚              [Edit] [Delete] [â†‘] [â†“]                        Furnace   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Gluten       %       28.0     26.0    30.0    Wet gluten   Glutomaticâ”‚   â”‚
â”‚  â”‚              [Edit] [Delete] [â†‘] [â†“]                                  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Falling No   sec     350      300     400     Hagberg      Falling   â”‚   â”‚
â”‚  â”‚              [Edit] [Delete] [â†‘] [â†“]                        Number    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  Used by 12 product specifications                         [View Products]   â”‚
â”‚                                                                               â”‚
â”‚                                              [Cancel]  [Save Template]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Add/Edit Parameter Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Add Test Parameter                               [âœ•]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  Parameter Name *                                             â”‚
â”‚  [Moisture Content                                          ] â”‚
â”‚                                                               â”‚
â”‚  Unit of Measurement *                                        â”‚
â”‚  [%              â–¼]  Common: %, mg/kg, CFU/g, Â°C, pH, mm     â”‚
â”‚                                                               â”‚
â”‚  Target Value                                                 â”‚
â”‚  [14.0                                                      ] â”‚
â”‚                                                               â”‚
â”‚  Acceptable Range *                                           â”‚
â”‚  Min: [13.0      ]    Max: [15.0      ]                      â”‚
â”‚                                                               â”‚
â”‚  Test Method                                                  â”‚
â”‚  [Karl Fischer Method                                       ] â”‚
â”‚                                                               â”‚
â”‚  Equipment Required                                           â”‚
â”‚  [Moisture Analyzer                 â–¼]  From equipment list  â”‚
â”‚                                                               â”‚
â”‚  Critical Parameter                                           â”‚
â”‚  â–¡ Mark as critical (requires QA Manager approval if failed) â”‚
â”‚                                                               â”‚
â”‚                                  [Cancel]  [Add Parameter]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Clone Template Modal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Clone Test Template                              [âœ•]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  Source Template: Flour Analysis                             â”‚
â”‚  Type: Chemical â€¢ 8 parameters                                â”‚
â”‚                                                               â”‚
â”‚  New Template Name *                                          â”‚
â”‚  [Flour Analysis (Copy)                                     ] â”‚
â”‚                                                               â”‚
â”‚  Options                                                      â”‚
â”‚  â˜‘ Copy all parameters (8)                                   â”‚
â”‚  â˜‘ Copy test methods and equipment assignments               â”‚
â”‚  â–¡ Set as inactive (activate later)                          â”‚
â”‚                                                               â”‚
â”‚  All parameter values (target, min, max) will be duplicated.  â”‚
â”‚  You can edit them after cloning.                            â”‚
â”‚                                                               â”‚
â”‚                                  [Cancel]  [Clone Template]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Test Result Recording (Embedded in Inspection)

### Desktop - Incoming Inspection with Test Template

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Incoming Inspection: INC-2025-001234                            [âœ•]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  [â† Back to Inspection]           Step 3 of 4: Record Test Results           â”‚
â”‚                                                                               â”‚
â”‚  Material: Wheat Flour (SKU-001) â€¢ Lot: LOT-20250115-WF â€¢ Qty: 500 kg       â”‚
â”‚  Supplier: ABC Mills â€¢ PO: PO-2025-0045                                      â”‚
â”‚                                                                               â”‚
â”‚  Test Template                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Select Template *                                                     â”‚   â”‚
â”‚  â”‚ [Flour Analysis (Chemical)                â–¼]                          â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚ 8 parameters â€¢ Last used: 2 days ago                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  Test Results - Flour Analysis                            Tested: 2025-01-15  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Parameter    Unit  Spec Range      Measured  Result   Equipment      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Moisture     %     13.0 - 15.0     [14.2  ] âœ“ Pass   MA-001         â”‚   â”‚
â”‚  â”‚ Target: 14.0                                                          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Protein      %     11.5 - 13.5     [12.8  ] âœ“ Pass   DU-002         â”‚   â”‚
â”‚  â”‚ Target: 12.5                                                          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Ash          %     0.4 - 0.6       [0.52  ] âœ“ Pass   MF-003         â”‚   â”‚
â”‚  â”‚ Target: 0.5                                                           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Gluten       %     26.0 - 30.0     [27.5  ] âœ“ Pass   GM-001         â”‚   â”‚
â”‚  â”‚ Target: 28.0                                                          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Falling No   sec   300 - 400       [342   ] âœ“ Pass   FN-001         â”‚   â”‚
â”‚  â”‚ Target: 350                                                           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ pH           pH    5.5 - 6.5       [6.2   ] âœ“ Pass   PH-001         â”‚   â”‚
â”‚  â”‚ Target: 6.0                                                           â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Water Act    aw    0.50 - 0.65     [0.58  ] âœ“ Pass   WA-001         â”‚   â”‚
â”‚  â”‚ Target: 0.60                                                          â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Color        Lab   50.0 - 55.0     [52.3  ] âœ“ Pass   CM-001         â”‚   â”‚
â”‚  â”‚ Target: 52.5                                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  Overall Result: âœ“ All Tests Passed                                          â”‚
â”‚                                                                               â”‚
â”‚  Inspector Notes                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ All parameters within acceptable range. Sample representative         â”‚   â”‚
â”‚  â”‚ of full batch.                                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  Tested by: John Smith (QA Inspector)             Date: 2025-01-15 14:23     â”‚
â”‚                                                                               â”‚
â”‚                        [â† Previous]  [Save & Continue â†’]                      â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### With Failed Result

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Incoming Inspection: INC-2025-001235                            [âœ•]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                               â”‚
â”‚  [â† Back to Inspection]           Step 3 of 4: Record Test Results           â”‚
â”‚                                                                               â”‚
â”‚  Material: Wheat Flour (SKU-001) â€¢ Lot: LOT-20250115-WF2 â€¢ Qty: 250 kg      â”‚
â”‚  Supplier: XYZ Mills â€¢ PO: PO-2025-0046                                      â”‚
â”‚                                                                               â”‚
â”‚  Test Template: Flour Analysis (Chemical)                                    â”‚
â”‚                                                                               â”‚
â”‚  Test Results                                                 Tested: 2025-01-15â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Parameter    Unit  Spec Range      Measured  Result   Equipment      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Moisture     %     13.0 - 15.0     [14.3  ] âœ“ Pass   MA-001         â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Protein      %     11.5 - 13.5     [10.8  ] âœ— FAIL   DU-002         â”‚   â”‚
â”‚  â”‚ Target: 12.5               âš  Below minimum (11.5%)                   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Ash          %     0.4 - 0.6       [0.51  ] âœ“ Pass   MF-003         â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Gluten       %     26.0 - 30.0     [25.2  ] âœ— FAIL   GM-001         â”‚   â”‚
â”‚  â”‚ Target: 28.0               âš  Below minimum (26.0%)                   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Falling No   sec   300 - 400       [280   ] âš  Review FN-001         â”‚   â”‚
â”‚  â”‚ Target: 350                âš  Borderline (within 5% of min)           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                               â”‚
â”‚  Overall Result: âœ— FAILED (2 parameters out of spec)                         â”‚
â”‚                                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âš  Quality Alert                                                         â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚ This inspection has FAILED. The following actions will be triggered:    â”‚ â”‚
â”‚  â”‚ â€¢ Automatic quality HOLD on lot LOT-20250115-WF2                        â”‚ â”‚
â”‚  â”‚ â€¢ QA Manager notification sent to Jane Doe                              â”‚ â”‚
â”‚  â”‚ â€¢ NCR creation recommended for supplier quality issue                   â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚ Disposition Required:                                                    â”‚ â”‚
â”‚  â”‚ â—‹ Reject - Return to supplier                                           â”‚ â”‚
â”‚  â”‚ â—‹ Accept - Use with deviation approval (requires QA Manager sign-off)   â”‚ â”‚
â”‚  â”‚ â—‹ Rework - Process to meet specifications                               â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚ Failure Notes * (Required)                                              â”‚ â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚ â”‚ Protein and gluten below spec. Supplier quality issue. Sample      â”‚  â”‚ â”‚
â”‚  â”‚ â”‚ representative of entire batch. Recommend rejection.               â”‚  â”‚ â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â”‚ â–¡ Create NCR for this failure                                           â”‚ â”‚
â”‚  â”‚                                                                          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                               â”‚
â”‚  Tested by: John Smith (QA Inspector)             Date: 2025-01-15 15:45     â”‚
â”‚                                                                               â”‚
â”‚                        [â† Previous]  [Save & Create NCR]                      â”‚
â”‚                                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. Mobile/Tablet Views

### Template List - Tablet (768px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Quality > Test Templates          [+ Create]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  [Search...        ] [Type â–¼] [Status â–¼]           â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Flour Analysis            [â‹®]               â”‚   â”‚
â”‚  â”‚ Chemical â€¢ 8 params â€¢ Used by 12            â”‚   â”‚
â”‚  â”‚ Active â€¢ Updated 2 days ago                 â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Package Integrity         [â‹®]               â”‚   â”‚
â”‚  â”‚ Physical â€¢ 5 params â€¢ Used by 8             â”‚   â”‚
â”‚  â”‚ Active â€¢ Updated 1 week ago                 â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Salmonella Screen         [â‹®]               â”‚   â”‚
â”‚  â”‚ Microbial â€¢ 3 params â€¢ Used by 25           â”‚   â”‚
â”‚  â”‚ Active â€¢ Updated 3 weeks ago                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                     â”‚
â”‚  Showing 3 of 18                       [1] [2] [3] â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Test Recording - Mobile (375px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â†] Incoming Inspection                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Step 3 of 4: Test Results             â”‚
â”‚                                         â”‚
â”‚  Template                               â”‚
â”‚  [Flour Analysis        â–¼]              â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Moisture (%)                      â”‚ â”‚
â”‚  â”‚ Spec: 13.0 - 15.0 (Target: 14.0) â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚ Measured Value *                  â”‚ â”‚
â”‚  â”‚ [14.2                           ] â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚ Equipment: [MA-001            â–¼] â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚ Result: âœ“ Pass                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Protein (%)                       â”‚ â”‚
â”‚  â”‚ Spec: 11.5 - 13.5 (Target: 12.5) â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚ Measured Value *                  â”‚ â”‚
â”‚  â”‚ [12.8                           ] â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚ Equipment: [DU-002            â–¼] â”‚ â”‚
â”‚  â”‚                                   â”‚ â”‚
â”‚  â”‚ Result: âœ“ Pass                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚  [Show 6 more parameters]               â”‚
â”‚                                         â”‚
â”‚  Overall: âœ“ All Tests Passed            â”‚
â”‚                                         â”‚
â”‚  Inspector Notes                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ All parameters within acceptable  â”‚ â”‚
â”‚  â”‚ range.                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                         â”‚
â”‚  Tested by: John Smith                  â”‚
â”‚  Date: 2025-01-15 14:23                 â”‚
â”‚                                         â”‚
â”‚         [Back]  [Save & Continue]       â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Key Components

### Template List Page
1. **Data Table/Cards** - Template name, type (badge), parameter count, usage count, status, actions
2. **Row Details** - Test method, last updated, parameter preview
3. **Search/Filter Bar** - Text search (name), test type filter, status filter, sort dropdown
4. **Create Template Button** - Primary CTA, opens create modal
5. **Actions Menu** - View, Edit, Clone, Usage History, Set Status, Delete
6. **Type Badges** - Chemical (blue), Physical (green), Microbial (red), Sensory (purple)
7. **Status Badges** - Active (green), Inactive (gray)
8. **Usage Indicator** - "Used by X products" with link to view

### Template Create/Edit Modal
1. **Template Info Section** - Name, type, test method, description, active checkbox
2. **Parameters Table** - Editable rows with parameter details
3. **Parameter Actions** - Edit, Delete, Reorder (up/down arrows)
4. **Add Parameter Button** - Opens parameter modal
5. **Usage Counter** - Shows how many products use this template
6. **Save/Cancel Buttons** - Primary actions

### Test Result Recording (Embedded)
1. **Template Selector** - Dropdown to choose test template
2. **Results Table** - Parameter, unit, spec range, measured value input, result indicator
3. **Auto-calculation** - Pass/Fail/Review based on measured vs. spec range
4. **Overall Result** - Aggregated pass/fail status
5. **Equipment Selector** - Dropdown per parameter
6. **Inspector Info** - User, date, time
7. **Notes Field** - Text area for observations
8. **Alert Panel** - Shown on failure, disposition options
9. **NCR Creation** - Checkbox to auto-create NCR on failure

---

## Main Actions

### Template List Page
**Primary:**
- **[+ Create Template]** - Opens create modal â†’ creates new test template
- **Row Click** - Opens view/edit modal with parameter details

**Secondary (Row Actions):**
- **View Details** - Opens read-only modal with all parameters
- **Edit Template** - Opens edit modal â†’ modifies template and parameters
- **Clone Template** - Opens clone modal â†’ creates copy with new name
- **View Usage History** - Shows all inspections using this template
- **Set Status** - Toggle Active/Inactive
- **Delete Template** - Confirmation modal â†’ soft delete (only if unused)

**Filters/Search:**
- **Search** - Real-time filter by template name
- **Filter by Type** - Dropdown: All, Chemical, Physical, Microbial, Sensory
- **Filter by Status** - Dropdown: All, Active, Inactive
- **Sort** - Name, Type, Parameters (count), Usage (count), Updated Date

### Template Create/Edit
**Primary:**
- **[Save Template]** - Validates and saves template with parameters
- **[+ Add Parameter]** - Opens parameter modal â†’ adds new row to table

**Secondary:**
- **[Cancel]** - Closes modal without saving (confirmation if changes)
- **Edit Parameter** - Opens parameter modal pre-filled
- **Delete Parameter** - Confirmation â†’ removes row
- **Reorder Parameters** - Up/down arrows to change display sequence
- **View Products** - Shows which products use this template

### Test Result Recording
**Primary:**
- **[Save & Continue]** - Validates all measured values, saves results, proceeds to next step
- **Select Template** - Loads parameter list for recording

**Secondary:**
- **[â† Previous]** - Goes back to previous inspection step
- **Equipment Selector** - Per parameter, optional or required
- **Auto-calculate Result** - System validates measured vs. min/max on blur
- **Create NCR** - Checkbox triggers NCR creation on save (if failed)

---

## States

### Template List
- **Loading**: Skeleton rows (4), "Loading test templates..." text
- **Empty**: "No test templates found" illustration, "Create Your First Template" CTA, Import option
- **Error**: "Failed to load templates" warning, Retry + Contact Support buttons
- **Success**: Table/cards with templates, search/filter controls, pagination if >20 templates

### Template Create/Edit
- **Create Mode**: Empty form, "Create Test Template" title, no usage counter
- **Edit Mode**: Pre-filled form, "Edit Test Template" title, usage counter shown
- **Validation Error**: Red border + message for invalid fields (name required, parameters required, min < max)
- **Save Loading**: Button shows spinner, "Saving..." text
- **Save Success**: Toast notification "Template saved successfully", modal closes

### Test Result Recording
- **No Template Selected**: Parameters section hidden, prompt to select template
- **All Pass**: Green checkmarks, "All Tests Passed" banner (green)
- **Any Fail**: Red X marks, "FAILED" banner (red), alert panel shown
- **Review Needed**: Yellow warning icon, "Review Required" banner (amber)
- **Save Loading**: Button disabled, spinner shown
- **Save Success**: Toast notification, proceeds to next step

---

## Data Fields

### Test Template

| Field | Type | Display | Notes |
|-------|------|---------|-------|
| template_name | string | Main row | Max 255 chars, required |
| test_type | enum | Badge | Chemical, Physical, Microbial, Sensory |
| test_method | string | Row details | Optional, e.g., AOAC 123.45 |
| description | text | Edit modal | Optional, max 1000 chars |
| is_active | boolean | Badge | Active/Inactive |
| parameter_count | computed | Main row | Count of parameters array |
| usage_count | computed | Main row | Count of products using template |
| updated_at | timestamp | Row details | Last modified date |
| created_by | UUID | Audit trail | User who created |

### Test Parameter (Array)

| Field | Type | Display | Notes |
|-------|------|---------|-------|
| parameter_name | string | Table row | Max 100 chars, required |
| unit | string | Table row | %, mg/kg, CFU/g, Â°C, pH, mm, etc. |
| target_value | decimal | Table row | Optional, ideal value |
| min_value | decimal | Table row | Required, lower limit |
| max_value | decimal | Table row | Required, upper limit |
| test_method | string | Table row | Optional, specific method per parameter |
| equipment_required | string/UUID | Table row | Optional, reference to equipment |
| is_critical | boolean | Hidden | If true, requires QA Manager approval on failure |
| sequence | integer | Hidden | Display order in results |

### Test Result

| Field | Type | Display | Notes |
|-------|------|---------|-------|
| inspection_id | UUID | Header | Parent inspection reference |
| parameter_id | UUID | Hidden | Links to spec parameter |
| measured_value | decimal | Input field | Required, user enters actual measurement |
| result_status | enum | Badge | pass, fail, review (auto-calculated) |
| tested_by | UUID | Footer | Inspector user ID |
| tested_at | timestamp | Footer | Test date/time |
| equipment_id | UUID | Dropdown | Optional, which equipment used |
| notes | text | Text area | Optional, inspector observations |

---

## Business Rules

### Template Management
1. **Template Name**: Must be unique within organization
2. **Parameters**: At least 1 parameter required per template
3. **Min/Max Validation**: min_value must be < max_value
4. **Delete Restriction**: Cannot delete template if used by any product specification
5. **Inactive Template**: Can be set inactive, but existing specs retain it
6. **Clone**: Creates copy with "(Copy)" suffix, all parameters duplicated

### Test Result Recording
1. **Parameter Validation**: Measured value validated against min/max on blur
2. **Pass Criteria**: `measured_value >= min_value AND measured_value <= max_value`
3. **Review Criteria**: Within 5% of min or max (borderline)
4. **Overall Result**:
   - **Pass**: All parameters pass
   - **Fail**: Any parameter fails
   - **Review**: No fails, but 1+ parameters need review
5. **Auto-hold**: Failed results trigger automatic quality HOLD on lot/batch
6. **Immutability**: Test results cannot be edited once saved (audit trail)
7. **QA Manager Alert**: Email/SMS sent on critical parameter failure
8. **NCR Creation**: Optional checkbox on failure, auto-populates NCR with test details

### Equipment Tracking
1. **Equipment Optional**: Equipment assignment per test parameter is optional (not all tests require specific equipment)
2. **Equipment Dropdown**: Populated from equipment master (Settings module)
3. **Calibration Check**: System warns if equipment calibration is due/expired
4. **Last Used**: Equipment record updated with last test date

---

## Validation Rules

### Template Create/Edit
- **Name**: Required, 3-255 chars, unique per org
- **Type**: Required, one of 4 enum values
- **Test Method**: Optional, max 255 chars
- **Description**: Optional, max 1000 chars
- **Parameters**: At least 1 parameter required
- **Parameter Name**: Required, 2-100 chars
- **Unit**: Required, max 20 chars
- **Min Value**: Required, numeric, < max_value
- **Max Value**: Required, numeric, > min_value
- **Target Value**: Optional, numeric, should be between min and max (warning if not)

### Test Result Recording
- **Template Selection**: Required before entering results
- **Measured Value**: Required for all parameters
- **Measured Value Format**: Numeric, matches parameter unit precision
- **Equipment**: Required if parameter marked as equipment_required
- **Notes**: Required if result is Fail or Review
- **Inspector**: Auto-filled from current user, cannot be changed
- **Tested At**: Auto-filled with current timestamp

---

## Permissions

| Role | View Templates | Create Template | Edit Template | Delete Template | Record Results | View Results |
|------|---------------|----------------|---------------|----------------|----------------|--------------|
| QA Inspector | Yes | No | No | No | Yes | Yes |
| QA Manager | Yes | Yes | Yes | Yes | Yes | Yes |
| Production Lead | Yes | No | No | No | No | Yes |
| Quality Director | Yes | Yes | Yes | Yes | Yes | Yes |
| Admin | Yes | Yes | Yes | Yes | Yes | Yes |
| Operator | No | No | No | No | No | No |

---

## Accessibility

### Template List
- **Touch targets**: All buttons/menu items >= 48x48dp
- **Contrast**: Type and status badges pass WCAG AA (4.5:1)
- **Screen reader**: Row announces "Template: {name}, Type: {type}, {N} parameters, Used by {N} products, Status: {status}"
- **Keyboard**: Tab navigation, Enter to open modal, Arrow keys for actions menu
- **ARIA**: Table has proper headers, role="grid" for sortable columns

### Template Modal
- **Focus Management**: Focus on first field (template name) on open
- **Tab Order**: Logical flow through form fields
- **Error Announcements**: aria-live for validation errors
- **Modal Trap**: Focus trapped within modal until closed
- **Escape Key**: Closes modal (with confirmation if unsaved changes)

### Test Result Recording
- **Auto-calculation Feedback**: Screen reader announces "Pass" / "Fail" after blur
- **Alert Panel**: aria-live="assertive" for failure alerts
- **Input Labels**: All inputs have associated labels
- **Touch-friendly**: Input fields >= 44x44dp on mobile
- **Number Inputs**: Numeric keyboard on mobile, decimal support

---

## Related Screens

- **QA-003 Product Specifications**: Templates linked to product specs
- **QA-005 Incoming Inspection**: Test recording embedded
- **QA-006 In-Process Inspection**: Test recording embedded
- **QA-007 Final Inspection**: Test recording embedded
- **QA-009 NCR Creation**: Triggered from failed test results
- **SET-016 Machine/Equipment List**: Equipment selector reference

---

## API Specifications

### Template Management

**GET /api/quality/test-templates**
- Query params: `search`, `type`, `status`, `sort`, `order`, `page`, `limit`
- Returns: Paginated list with parameter counts, usage counts
- RLS: Filtered by org_id
- Response:
```json
{
  "data": [
    {
      "id": "uuid",
      "org_id": "uuid",
      "template_name": "Flour Analysis",
      "test_type": "chemical",
      "test_method": "AOAC 123.45",
      "description": "Standard flour analysis for incoming raw materials",
      "is_active": true,
      "parameter_count": 8,
      "usage_count": 12,
      "created_at": "2025-01-10T08:00:00Z",
      "updated_at": "2025-01-13T14:30:00Z",
      "created_by": "uuid"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 18,
    "total_pages": 1
  }
}
```

**POST /api/quality/test-templates**
- Body: `{ template_name, test_type, test_method, description, is_active, parameters: [] }`
- Validation: Name unique, at least 1 parameter, min < max
- Returns: Created template with ID
- Side effects: None
- Response:
```json
{
  "id": "uuid",
  "org_id": "uuid",
  "template_name": "New Template",
  "test_type": "physical",
  "test_method": "Visual inspection",
  "description": "Package integrity checks",
  "is_active": true,
  "parameters": [
    {
      "id": "uuid",
      "parameter_name": "Seal strength",
      "unit": "N",
      "target_value": 20.0,
      "min_value": 18.0,
      "max_value": 22.0,
      "test_method": "Tensile test",
      "equipment_required": "uuid-equipment-id",
      "is_critical": true,
      "sequence": 1
    }
  ],
  "created_at": "2025-01-15T10:00:00Z",
  "updated_at": "2025-01-15T10:00:00Z"
}
```

**GET /api/quality/test-templates/:id**
- Returns: Full template with parameters array
- RLS: Org_id match
- Response:
```json
{
  "id": "uuid",
  "org_id": "uuid",
  "template_name": "Flour Analysis",
  "test_type": "chemical",
  "test_method": "AOAC 123.45",
  "description": "Standard flour analysis",
  "is_active": true,
  "parameters": [
    {
      "id": "uuid",
      "parameter_name": "Moisture",
      "unit": "%",
      "target_value": 14.0,
      "min_value": 13.0,
      "max_value": 15.0,
      "test_method": "Karl Fischer",
      "equipment_required": "uuid-ma-001",
      "is_critical": false,
      "sequence": 1
    }
  ],
  "usage_count": 12,
  "created_at": "2025-01-10T08:00:00Z",
  "updated_at": "2025-01-13T14:30:00Z",
  "created_by": "uuid"
}
```

**PUT /api/quality/test-templates/:id**
- Body: Same as POST
- Validation: Name unique (excluding self), parameters valid
- Returns: Updated template
- Side effects: None (existing specs not affected)
- Response: Same as POST response

**DELETE /api/quality/test-templates/:id**
- Validation: Cannot delete if usage_count > 0
- Returns: Success message
- Side effects: Soft delete (deleted_at set)
- Response:
```json
{
  "success": true,
  "message": "Template deleted successfully",
  "deleted_at": "2025-01-15T10:30:00Z"
}
```

**POST /api/quality/test-templates/:id/clone**
- Body: `{ new_name }`
- Validation: New name unique
- Returns: Cloned template with new ID
- Side effects: Creates new template + parameters
- Response:
```json
{
  "id": "new-uuid",
  "org_id": "uuid",
  "template_name": "Flour Analysis (Copy)",
  "test_type": "chemical",
  "test_method": "AOAC 123.45",
  "description": "Standard flour analysis",
  "is_active": true,
  "parameters": [
    // All parameters from source template duplicated
  ],
  "created_at": "2025-01-15T11:00:00Z",
  "updated_at": "2025-01-15T11:00:00Z",
  "source_template_id": "original-uuid"
}
```

### Test Result Recording

**POST /api/quality/test-results**
- Body: `{ inspection_id, template_id, results: [{ parameter_id, measured_value, equipment_id, notes }], inspector_notes }`
- Validation: All parameters have measured values, values are numeric
- Returns: Created results with auto-calculated result_status per parameter
- Side effects:
  - Updates inspection with test_results_recorded = true
  - Creates quality hold if any result is "fail"
  - Sends alert to QA Manager if critical parameter fails
  - Creates NCR if checkbox selected
- Response:
```json
{
  "inspection_id": "uuid",
  "template_id": "uuid",
  "overall_result": "pass",
  "results": [
    {
      "id": "uuid",
      "parameter_id": "uuid",
      "parameter_name": "Moisture",
      "unit": "%",
      "spec_min": 13.0,
      "spec_max": 15.0,
      "spec_target": 14.0,
      "measured_value": 14.2,
      "result_status": "pass",
      "equipment_id": "uuid-ma-001",
      "equipment_name": "MA-001",
      "notes": null
    }
  ],
  "inspector_notes": "All parameters within acceptable range",
  "tested_by": "uuid",
  "tested_by_name": "John Smith",
  "tested_at": "2025-01-15T14:23:00Z",
  "actions_triggered": {
    "quality_hold_created": false,
    "qa_manager_notified": false,
    "ncr_created": false
  }
}
```

**GET /api/quality/test-results/inspection/:inspectionId**
- Returns: All test results for given inspection
- Includes: Parameter details, measured values, result status, equipment used, timestamps
- RLS: Org_id match
- Response:
```json
{
  "inspection_id": "uuid",
  "inspection_type": "incoming",
  "template_id": "uuid",
  "template_name": "Flour Analysis",
  "overall_result": "fail",
  "results": [
    {
      "id": "uuid",
      "parameter_id": "uuid",
      "parameter_name": "Protein",
      "unit": "%",
      "spec_min": 11.5,
      "spec_max": 13.5,
      "spec_target": 12.5,
      "measured_value": 10.8,
      "result_status": "fail",
      "equipment_id": "uuid",
      "equipment_name": "DU-002",
      "notes": "Below minimum specification"
    }
  ],
  "inspector_notes": "Protein and gluten below spec. Recommend rejection.",
  "tested_by": "uuid",
  "tested_by_name": "John Smith",
  "tested_at": "2025-01-15T15:45:00Z",
  "is_locked": true
}
```

**GET /api/quality/test-templates/:id/usage**
- Returns: List of products using this template
- Includes: Product name, code, specification ID
- RLS: Org_id match
- Response:
```json
{
  "template_id": "uuid",
  "template_name": "Flour Analysis",
  "usage_count": 12,
  "products": [
    {
      "product_id": "uuid",
      "product_code": "SKU-001",
      "product_name": "Wheat Flour Premium",
      "specification_id": "uuid",
      "specification_version": 2,
      "created_at": "2025-01-01T08:00:00Z"
    }
  ]
}
```

---

## Technical Notes

### Performance
- **Template List**: Index on (org_id, test_type, is_active)
- **Parameter Query**: Joined with template, select only needed fields
- **Usage Count**: Pre-computed or cached (1 hour TTL)
- **Result Validation**: Client-side + server-side for security
- **Load Time Target**: <1s for template list, <500ms for result save

### Caching
- **Template List**: Redis key `org:{orgId}:quality:templates:list` (5 min TTL)
- **Template Detail**: Redis key `org:{orgId}:quality:template:{id}` (10 min TTL)
- **Usage Count**: Redis key `org:{orgId}:quality:template:{id}:usage` (1 hour TTL)
- **Invalidation**: On template create/edit/delete, clear related keys

### Real-time
- **Template Updates**: Supabase Realtime subscription on `quality_test_templates` table
- **Result Recording**: No real-time (not needed, single user flow)
- **Alert Delivery**: Edge function triggers email/SMS via SendGrid/Twilio

### Data Integrity
- **Result Immutability**: Test results have `is_locked = true` after save
- **Audit Trail**: All changes logged to `quality_audit_log` table
- **Version Control**: Templates do not version (unlike product specs), edit in place
- **Foreign Keys**: results â†’ templates â†’ products (cascading constraints)

---

## Error Handling

### Template Creation
| Error | Cause | User Message | Recovery |
|-------|-------|--------------|----------|
| TEMPLATE_NAME_EXISTS | Name not unique | "A template with this name already exists" | Change name |
| NO_PARAMETERS | No parameters added | "At least one parameter is required" | Add parameter |
| MIN_MAX_INVALID | min >= max | "Minimum must be less than maximum" | Fix values |
| NETWORK_ERROR | API timeout | "Failed to save template. Please try again." | Retry |

### Test Result Recording
| Error | Cause | User Message | Recovery |
|-------|-------|--------------|----------|
| NO_TEMPLATE | Template not selected | "Please select a test template" | Select template |
| MISSING_VALUES | Not all measured values entered | "All parameters require measured values" | Fill in values |
| INVALID_NUMBER | Non-numeric value | "Please enter a valid number" | Correct input |
| EQUIPMENT_REQUIRED | Equipment not selected | "Equipment selection is required for this parameter" | Select equipment |
| SAVE_FAILED | API error | "Failed to save test results. Please try again." | Retry or save draft |

---

## Notification & Alerts

| Event | Recipients | Channel | Content | Urgency |
|-------|-----------|---------|---------|---------|
| Test Failed (any parameter) | QA Manager | Email | Inspection ID, product, failed parameters, measured vs. spec | High |
| Test Failed (critical parameter) | QA Manager + Quality Director | Email + SMS | Same as above + "CRITICAL" flag | Critical |
| Template Created | QA Team | Email | Template name, created by, parameter count | Low |
| Template Edited (in use) | Users who created specs with template | Email | Template name, changes summary, products affected | Medium |
| Test Result Borderline (review) | Assigned Inspector + QA Manager | Email | Inspection ID, parameter name, measured value, spec range | Medium |

---

## Integration Points

### Internal Modules
- **Quality Specifications (FR-QA-003)**: Templates referenced by spec parameters
- **Inspections (FR-QA-005/006/007)**: Test results recorded during inspections
- **NCR System (FR-QA-009)**: Failed tests trigger NCR creation
- **Quality Holds (FR-QA-002)**: Failed tests create automatic holds
- **Equipment (Settings)**: Equipment selector populated from master
- **Users**: Inspector assignment and tested_by tracking

### External Systems
- **LIMS**: Import test results from lab instruments (See Q1 resolution)
- **Equipment Calibration**: Check calibration status before result entry
- **Regulatory Reporting**: Test results included in compliance reports

---

## Mobile/Tablet Breakpoints

| Breakpoint | Layout | Notes |
|------------|--------|-------|
| Desktop (>1024px) | Full table with all columns, side-by-side parameter form | Optimal UX |
| Tablet (768-1024px) | Card layout for templates, stacked parameter form | Touch-friendly |
| Mobile (<768px) | Card layout, 1 parameter per screen with next/prev, collapsible sections | Minimal scrolling |

### Mobile Optimizations
- **Scanner Integration**: Barcode scan to select template by product
- **Voice Input**: For measured values (accessibility feature)
- **Offline Support**: Cache templates, queue results for sync
- **Touch Gestures**: Swipe to navigate between parameters
- **Large Inputs**: 48x48dp minimum, numeric keyboard for values

---

## Success Criteria

### Template Management (95%+ quality target)
- [ ] Template list loads in <1s with 100+ templates
- [ ] Create template with 10+ parameters in <3 seconds
- [ ] Search/filter returns results in <500ms
- [ ] Clone template preserves all parameters accurately
- [ ] Delete validation prevents orphaned specs
- [ ] Usage count accurate within 1 minute of spec change

### Test Result Recording (95%+ quality target)
- [ ] Template selection loads parameters in <500ms
- [ ] Auto-calculation (pass/fail) instant on blur (<100ms)
- [ ] Save results with 20 parameters in <2 seconds
- [ ] Failed result triggers hold within 1 second
- [ ] QA Manager alert delivered within 30 seconds
- [ ] NCR auto-creation includes all test details
- [ ] Mobile result entry usable on 375px screen
- [ ] No data loss on network interruption (draft save)

### Data Integrity (100% requirement)
- [ ] Test results immutable after save
- [ ] All calculations auditable (min, max, target visible)
- [ ] Audit trail captures user, timestamp, old/new values
- [ ] Foreign key constraints prevent orphaned results
- [ ] Result status (pass/fail) reproducible from measured values

---

## Open Questions - RESOLVED

### 1. Test Template vs Product Specification Relationship
**Question**: How do test templates relate to product specifications?
**Resolution**: Test templates are **referenced** by product specifications (QA-003). Each product spec can include multiple test templates for different inspection stages (incoming, in-process, final). The relationship is:
- `quality_product_specifications` table has `test_templates` JSONB array: `[{stage: "incoming", template_id: "uuid"}, ...]`
- Templates are reusable across multiple products
- When spec is created, it captures template_id (not a snapshot), so template edits do NOT retroactively affect existing specs
- Product specs define **when** to use a template; templates define **what** to test

### 2. LIMS Integration for Test Results Import
**Question**: Should we support importing test results from lab equipment (LIMS)?
**Resolution**: **YES - Phase 2 feature**. Initial release (Phase 1) uses manual entry only. Future integration approach:
- **API endpoint**: `POST /api/quality/test-results/import-lims`
- **File formats**: CSV, XML, HL7 (common LIMS exports)
- **Mapping**: Admin configures field mapping (LIMS column â†’ parameter_id)
- **Validation**: Same rules as manual entry (min/max checks, equipment validation)
- **Auto-match**: System matches LIMS sample ID to inspection_id
- **Priority**: Medium (requested by 30% of beta testers)

### 3. Clone Template Modal
**Question**: Should we add a dedicated modal for cloning templates?
**Resolution**: **YES - included in wireframes above** (see "Clone Template Modal" section). Key features:
- Prompts for new template name (defaults to "Original Name (Copy)")
- Checkbox options: Copy parameters, copy equipment assignments, set as inactive
- All parameter values (target, min, max) duplicated
- One-click operation with preview of what will be copied

### 4. Equipment Assignment Per Test Parameter
**Question**: Is equipment assignment required or optional per test parameter?
**Resolution**: **OPTIONAL** - Equipment tracking is not mandatory for all test parameters. Business rules:
- Each parameter has `equipment_required` boolean flag (default: false)
- If `equipment_required = true`, inspector MUST select equipment before saving results
- If `equipment_required = false`, equipment dropdown is shown but optional
- Common use cases:
  - **Required**: Lab instruments (moisture analyzer, spectrophotometer)
  - **Optional**: Visual inspections, manual measurements
- Equipment calibration warnings shown if equipment is selected (regardless of required flag)

### 5. Multi-Stage Testing Support
**Question**: Should templates support multi-stage testing (e.g., Day 0, Day 3, Day 7 for shelf-life studies)?
**Resolution**: **NO - Use separate templates**. For multi-stage testing:
- Create separate templates: "Shelf Life Day 0", "Shelf Life Day 3", "Shelf Life Day 7"
- Product spec links multiple templates with stage metadata
- Simpler data model, clearer audit trail
- Future enhancement: Template groups/series feature if demand increases

### 6. Conditional Parameters Support
**Question**: Support for conditional parameters (e.g., if Moisture > 15%, test for mold)?
**Resolution**: **NO - Not in MVP**. Conditional logic adds significant complexity. Workarounds:
- Create two templates: "Standard Test" and "Standard Test + Mold"
- Inspector selects appropriate template based on initial results
- Add to backlog for Phase 3 (advanced features)
- Alternative: Use inspector notes to flag conditional tests needed

### 7. Template Versioning
**Question**: Should templates support versioning like product specs?
**Resolution**: **NO - Edit in place**. Key differences from product specs:
- Templates are referenced (not snapshotted) by specs
- Editing a template does NOT retroactively affect past test results (results are immutable)
- If major changes needed, recommend: clone template â†’ create new version â†’ update specs to use new template
- Audit trail captures all template edits (who, when, what changed)
- Simpler UX, fewer edge cases

### 8. Statistical Process Control (SPC) Charts
**Question**: Support for SPC charts per parameter (control charts, trend analysis)?
**Resolution**: **YES - Separate feature (OEE Module)**. SPC capabilities planned for Epic 10 (OEE Analytics):
- Test results feed into SPC database
- Charts: X-bar, R-chart, CUSUM, EWMA
- Alerts: Out-of-control points, trend violations
- Not part of test template design, but templates provide data source
- Cross-module integration point documented

---

**Status**: Approved
**Approval Mode**: auto_approve
**User Approved**: true (explicit opt-in)
**Iterations**: 0 of 3
**Quality Target**: 95%+
**Lines**: ~1150
**All Open Questions**: RESOLVED (8/8)
**API Response Schemas**: COMPLETE
**Missing Wireframes**: ADDED (Clone Template Modal)
