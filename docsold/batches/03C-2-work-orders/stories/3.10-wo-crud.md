# Story 3.10: Work Order CRUD

**Batch:** 03C-2
**Story ID:** 3.10
**Priority:** P0
**Effort:** 5 points

---

## User Story

**As a** Planner,
**I want to** create and manage work orders with automatic BOM selection,
**So that** I can schedule production and ensure accurate material requirements.

---

## Acceptance Criteria

### AC-3.10.1: WO Schema
- All required fields: wo_number, product_id, bom_id, quantity, scheduled_date, status
- Optional: actual dates, source_type/id, line_id, machine_id, priority, notes

### AC-3.10.2: WO Number Auto-Generation
- Format: WO-YYYYMMDD-NNNN
- Unique per org
- Sequence resets daily
- Immutable after creation

### AC-3.10.3: BOM Auto-Selection
- Select active BOM for product based on scheduled_date
- Query: effective_from <= scheduled_date AND (effective_to IS NULL OR >= scheduled_date)

### AC-3.10.4: WO List Page
- Columns: WO Number, Product, Quantity, Scheduled Date, Status
- Filters: status, product, date range
- Search by WO number

### AC-3.10.5: Create WO Modal
- Product (required, triggers BOM lookup)
- Quantity (required, > 0)
- Scheduled Date (required, triggers BOM selection)
- Priority (low/medium/high/critical)
- Notes (optional)

### AC-3.10.6: Status Workflow
- draft → released → in-progress → completed
- cancelled (from draft/released only)

---

## Dependencies

- Epic 2 (Products, BOMs)
