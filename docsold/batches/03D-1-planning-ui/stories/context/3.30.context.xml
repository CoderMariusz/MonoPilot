<?xml version="1.0" encoding="UTF-8"?>
<story_context version="1.0">
  <metadata>
    <story_id>3.30</story_id>
    <title>Color Consistency - Shared app-colors.ts</title>
    <batch>03D-1-planning-ui</batch>
    <priority>P1</priority>
    <story_points>2</story_points>
  </metadata>

  <dependencies>
    <existing_files>
      <file path="apps/frontend/lib/constants/planning-colors.ts" action="rename to app-colors.ts"/>
    </existing_files>
    <ux_reference>docs/ux-design/ux-design-shared-system.md (Section 2.1)</ux_reference>
  </dependencies>

  <technical_context>
    <color_system>
      <button_colors>
        PRIMARY (Create/CTA): green-600 (#16a34a)
        SECONDARY (Actions): gray-600 (#4b5563)
        DANGER (Delete): red-600 (#dc2626)
        OUTLINE: border-gray-300 hover:bg-gray-100
      </button_colors>

      <status_badge_colors>
        active/confirmed: green-200 bg + green-800 text
        pending/draft: yellow-200 bg + yellow-800 text
        inactive/archived: gray-200 bg + gray-800 text
        error/cancelled: red-200 bg + red-800 text
        in_transit (TO): blue-200 bg + blue-800 text
      </status_badge_colors>

      <neutral_colors>
        Background: white / gray-50
        Surface: white
        Border: gray-200
        Text Primary: gray-900
        Text Secondary: gray-600
        Text Muted: gray-500
      </neutral_colors>
    </color_system>

    <app_colors_structure>
      export const APP_COLORS = {
        button: { primary, secondary, danger, outline },
        status: { active, confirmed, pending, draft, inactive, archived, cancelled, error, inTransit, completed, released },
        text: { primary, secondary, muted }
      }

      export function getStatusColor(status: string): string
    </app_colors_structure>

    <files_to_update>
      - lib/constants/planning-colors.ts â†’ app-colors.ts
      - components/planning/* (all imports)
      - components/technical/* (all imports)
      - app/(authenticated)/**/*.tsx (audit for hardcoded colors)
    </files_to_update>
  </technical_context>

  <test_plan>
    <visual_tests>
      <test>All Create buttons use green-600</test>
      <test>All Edit/View buttons use gray-600</test>
      <test>All Delete buttons use red-600</test>
      <test>Status badges consistent across modules</test>
      <test>No hardcoded hex values in components</test>
    </visual_tests>
  </test_plan>
</story_context>
