# ============================================================================
# MonoPilot Environment Configuration Template
# ============================================================================
# Copy this file to .env.local and fill in the actual values
# DO NOT commit .env.local to git (it contains secrets)

# ============================================================================
# Supabase Configuration
# ============================================================================
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
NEXT_PUBLIC_USE_MOCK_DATA=false
NEXT_PUBLIC_APP_URL=http://localhost:5000
NEXTAUTH_URL=http://localhost:5000
NEXTAUTH_SECRET=your-nextauth-secret-min-32-chars

# Application Environment
NODE_ENV=development
NEXT_PUBLIC_APP_ENV=development
PORT=5000

# ============================================================================
# Security Secrets (REQUIRED)
# ============================================================================
# JWT Secret for invitation tokens (Story 1.3)
# Generate with: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-min-32-chars

# Cron job authentication secret (Story 1.14 - Invitation cleanup)
# Generate with: openssl rand -base64 32
CRON_SECRET=your-cron-secret

# ============================================================================
# Supabase Backend Configuration (Server-side only)
# ============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Supabase Auth Webhook Secret (Story 1.14 - AC-1.4: Signup Status Automation)
# Used to verify webhook requests from Supabase Auth
# Generate with: openssl rand -base64 48
# Configure in: Supabase Dashboard → Database → Webhooks → Add webhook
SUPABASE_WEBHOOK_SECRET=your-webhook-secret

# ============================================================================
# Email Configuration (SendGrid)
# ============================================================================
# SendGrid API Key (Story 1.3 - User Invitations)
# Get from: https://app.sendgrid.com/settings/api_keys
SENDGRID_API_KEY=SG.your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=MonoPilot

# SendGrid Recovery Key (backup for account recovery)
RECOVERY_SENDGRID=your-recovery-key

# ============================================================================
# Redis Cache (Upstash) - Optional for Production Optimization
# ============================================================================
# Get from: https://console.upstash.com/redis
UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-upstash-token

# ============================================================================
# SETUP INSTRUCTIONS
# ============================================================================
# 1. Copy this file: cp .env.example .env.local
# 2. Fill in all REQUIRED secrets (JWT_SECRET, CRON_SECRET, SUPABASE_WEBHOOK_SECRET)
# 3. Configure Supabase credentials from your Supabase project dashboard
# 4. Configure SendGrid API key for invitation emails
# 5. Configure Upstash Redis for production performance (optional)
# 6. Never commit .env.local to git
