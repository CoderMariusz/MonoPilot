Prompt: Warehouse – Receive PO (GRN) with auto LP

Build /warehouse/grn to receive PO items with fields: itemNumber, quantity, expiry_date, delivery_date. On submit, create LP(s) automatically with generated codes, link them to goods_receipts, and allow immediate Putaway. Support split at receipt (create multiple LPs from one PO item). RBAC: Warehouse+Purchasing+Admin.
AC:

LPs created with correct batch/lot, expiry, quantity, uom.

stock_moves record RECEIPT_PO and optional PUTAWAY to a location.

Audit trail (who/when/where) kept; labels printable; negative qty forbidden.

Prompt: Warehouse – Receive Transfer (inter-warehouse)

Build /warehouse/transfer/receive for inter-warehouse receipts. Fields: itemNumber, quantity, expiry_date, delivery_date; supports auto LP creation if incoming is documented without LP. Record move reason TRANSFER_IN with from_warehouse, to_warehouse. RBAC: Warehouse+Admin.
AC:

LPs created or updated; stock_moves contain TRANSFER_IN with reference.

Option to immediately putaway to a location; audit trail captured.

Prompt: Warehouse – Stock View by Location

Build /warehouse/stock table showing all stock by location with columns: location, itemNumber, lp_code, scanned_at (when LP was placed there), quantity, expiry_date, status (QA/Released/Hold/Rejected). Filters: location, item, status, expiry range. Export CSV. AC: Data reflects current on-hand; clicking an LP opens LP detail.

Prompt: Warehouse – LP Quantity Amend (Adjustment)

Add an LP Amend action (contextual in stock view and LP detail). Fields: new_quantity, reason_code (e.g., COUNT_CORRECTION, DAMAGE, EVAPORATION), optional note. Create a stock_moves entry with reason ADJUSTMENT; never allow negative stock; record user/time. RBAC: Warehouse+QC+Admin. AC: On-hand adjusts to new_quantity; audit and reason are stored; history visible on LP detail.

Prompt: Warehouse – LP Split

Add LP Split action on LP detail to split one LP into multiple child LPs. Inputs: target child quantities (sum must equal parent qty), inherit lot/expiry, auto-generate child LP codes, set parent_lp_id on children. Record stock_moves (reason SPLIT). RBAC: Warehouse+Admin. AC: Parent reduces to sum(children) or to 0 with children created; trace shows parent↔children linkage.

Prompt: Warehouse – QA Status Change (LP)

Add QA Status Change action on LP detail: statuses QA_HOLD, QA_RELEASED, QA_REJECTED with qa_reason, optional attachment, and automatic location routing suggestion (e.g., send HOLD to QA zone). Only QC (and Admin) can change. Record stock_moves (reason QA_STATUS_CHANGE) and update license_plates.status. AC: Status transitions are enforced by RBAC; LP appears in correct queues (e.g., Quarantine lists); audit stored.